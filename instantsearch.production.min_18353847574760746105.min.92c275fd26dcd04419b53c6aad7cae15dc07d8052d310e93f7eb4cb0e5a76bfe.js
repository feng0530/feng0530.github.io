/*! InstantSearch.js 4.49.3 | Â© Algolia, Inc. and contributors; MIT License | https://github.com/algolia/instantsearch.js */!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).instantsearch=t()}(this,function(){"use strict";function Us(e,t){var n,s=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)),s}function e(e){for(var t,n=1;n<arguments.length;n++)t=null!=arguments[n]?arguments[n]:{},n%2?Us(Object(t),!0).forEach(function(n){s(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Us(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))});return e}function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sn(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$n(n.key),n)}function W(e,t,n){t&&Sn(e.prototype,t),n&&Sn(e,n),Object.defineProperty(e,"prototype",{writable:!1})}function s(e,t,n){return(t=$n(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t,n,s=1;s<arguments.length;s++){n=arguments[s];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}function ge(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mn(e,t)}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mn(e,t){return(Mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){if(e==null)return{};if(s=function(e,t){if(e==null)return{};for(var n,o={},i=Object.keys(e),s=0;s<i.length;s++)n=i[s],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t),Object.getOwnPropertySymbols)for(var n,s,i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n]);return s}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,s=vn(e),s=(n=t?(n=vn(this).constructor,Reflect.construct(s,arguments,n)):s.apply(this,arguments),this);if(n&&("object"==typeof n||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return o(s)}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(n=e==null?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"],n!=null){var n,o,a,r,c,i=[],s=!0,l=!1;try{if(c=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(a=c.call(n)).done)&&(i.push(a.value),i.length!==t);s=!0);}catch(e){l=!0,r=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw r}}return i}}(e,t)||mn(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function j(e){return function(e){if(Array.isArray(e))return un(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||mn(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function mn(e,t){var n;if(e)return"string"==typeof e?un(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?un(e,t):void 0}function un(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function $n(e){return e=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=typeof(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"==typeof e?e:String(e)}function Xe(e){return"function"==typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}function an(e,t){var n,s,o;if(e!==t)for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&"__proto__"!==s&&(o=t[s],void 0!==(n=e[s])&&void 0===o||(Xe(n)&&Xe(o)?e[s]=an(n,o):e[s]="object"==typeof(n=o)&&null!==n?an(Array.isArray(n)?[]:{},n):n));return e}function de(){return Array.prototype.slice.call(arguments).reduceRight(function(e,t){return Object.keys(Object(t)).forEach(function(n){void 0!==t[n]&&(void 0!==e[n]&&delete e[n],e[n]=t[n])}),e},{})}var fe=function(e){Xe(e)||(e={});for(var n,t=1,s=arguments.length;t<s;t++)n=arguments[t],Xe(n)&&an(e,n);return e},Un=function(e,t){return e.filter(function(n,s){return-1<t.indexOf(n)&&e.indexOf(n)===s})},C=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]},sn=function e(t){if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")},qe=function(e,t){if(null===e)return{};for(var n,o={},i=Object.keys(e),s=0;s<i.length;s++)n=i[s],0<=t.indexOf(n)||(o[n]=e[n]);return o},Ke=function(e){return e&&0<Object.keys(e).length},_e={addRefinement:function(e,t,n){var s;return _e.isRefined(e,t,n)?e:(n=""+n,n=e[t]?e[t].concat(n):[n],(s={})[t]=n,de({},s,e))},removeRefinement:function(e,t,n){var s;return void 0===n?_e.clearRefinement(e,function(e,n){return t===n}):(s=""+n,_e.clearRefinement(e,function(e,n){return t===n&&s===e}))},toggleRefinement:function(e,t,n){if(void 0===n)throw new Error("toggleRefinement should be used with a value");return _e.isRefined(e,t,n)?_e.removeRefinement(e,t,n):_e.addRefinement(e,t,n)},clearRefinement:function(e,t,n){var s,o;return void 0===t?Ke(e)?{}:e:"string"==typeof t?qe(e,[t]):"function"==typeof t?(s=!1,o=Object.keys(e).reduce(function(o,i){var a=e[i]||[],r=a.filter(function(e){return!t(e,i,n)});return r.length!==a.length&&(s=!0),o[i]=r,o},{}),s?o:e):void 0},isRefined:function(e,t,n){var s=!!e[t]&&0<e[t].length;return void 0!==n&&s?-1!==e[t].indexOf(""+n):s}},b=_e;function Jt(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(function(e,n){return Jt(t[n],e)}):e===t}function A(e){var t=e?A._parseNumbers(e):{},n=(void 0===t.userToken||null!==(e=t.userToken)&&/^[a-zA-Z0-9_-]{1,64}$/.test(e)||console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{},this);Object.keys(t).forEach(function(e){var s=-1!==A.PARAMETERS.indexOf(e),o=void 0!==t[e];!s&&o&&(n[e]=t[e])})}A.PARAMETERS=Object.keys(new A),A._parseNumbers=function(e){var t,n;return e instanceof A?e:(t={},["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach(function(n){var s,o=e[n];"string"==typeof o&&(s=parseFloat(o),t[n]=isNaN(s)?o:s)}),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map(function(e){return Array.isArray(e)?e.map(function(e){return parseFloat(e)}):e})),e.numericRefinements&&(n={},Object.keys(e.numericRefinements).forEach(function(t){var s=e.numericRefinements[t]||{};n[t]={},Object.keys(s).forEach(function(e){var o=s[e].map(function(e){return Array.isArray(e)?e.map(function(e){return"string"==typeof e?parseFloat(e):e}):"string"==typeof e?parseFloat(e):e});n[t][e]=o})}),t.numericRefinements=n),fe({},e,t))},A.make=function(e){var t=new A(e);return(e.hierarchicalFacets||[]).forEach(function(e){var n;e.rootPath&&0===(n=(t=0<(n=t.getHierarchicalRefinement(e.name)).length&&0!==n[0].indexOf(e.rootPath)?t.clearRefinements(e.name):t).getHierarchicalRefinement(e.name)).length&&(t=t.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}),t},A.validate=function(e,t){return t=t||{},e.tagFilters&&t.tagRefinements&&0<t.tagRefinements.length?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):0<e.tagRefinements.length&&t.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&t.numericRefinements&&Ke(t.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):Ke(e.numericRefinements)&&t.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},A.prototype={constructor:A,clearRefinements:function(e){return e={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:b.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:b.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:b.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:b.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")},e.numericRefinements===this.numericRefinements&&e.facetsRefinements===this.facetsRefinements&&e.facetsExcludes===this.facetsExcludes&&e.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&e.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(e)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,n){var s,n=sn(n);return this.isNumericRefined(e,t,n)?this:((s=fe({},this.numericRefinements))[e]=fe({},s[e]),s[e][t]?(s[e][t]=s[e][t].slice(),s[e][t].push(n)):s[e][t]=[n],this.setQueryParameters({numericRefinements:s}))},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(e,t,n){return void 0!==n?this.isNumericRefined(e,t,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(s,o){return o===e&&s.op===t&&Jt(s.val,sn(n))})}):this:void 0!==t?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(n,s){return s===e&&n.op===t})}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(t,n){return n===e})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){var t,n,s;return void 0===e?Ke(this.numericRefinements)?{}:this.numericRefinements:"string"==typeof e?qe(this.numericRefinements,[e]):"function"==typeof e?(t=!1,n=this.numericRefinements,s=Object.keys(n).reduce(function(s,o){var i=n[o],a={},i=i||{};return Object.keys(i).forEach(function(n){var r=i[n]||[],s=[];r.forEach(function(t){e({val:t,op:n},o,"numeric")||s.push(t)}),s.length!==r.length&&(t=!0),a[n]=s}),s[o]=a,s},{}),t?s:this.numericRefinements):void 0},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(this.isConjunctiveFacet(e))return b.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:b.addRefinement(this.facetsRefinements,e,t)});throw new Error(e+" is not defined in the facets attribute of the helper configuration")},addExcludeRefinement:function(e,t){if(this.isConjunctiveFacet(e))return b.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:b.addRefinement(this.facetsExcludes,e,t)});throw new Error(e+" is not defined in the facets attribute of the helper configuration")},addDisjunctiveFacetRefinement:function(e,t){if(this.isDisjunctiveFacet(e))return b.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:b.addRefinement(this.disjunctiveFacetsRefinements,e,t)});throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration")},addTagRefinement:function(e){return this.isTagRefined(e)?this:(e={tagRefinements:this.tagRefinements.concat(e)},this.setQueryParameters(e))},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter(function(t){return t!==e})}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(t){return t!==e})}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(t){return t.name!==e})}):this},removeFacetRefinement:function(e,t){if(this.isConjunctiveFacet(e))return b.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:b.removeRefinement(this.facetsRefinements,e,t)}):this;throw new Error(e+" is not defined in the facets attribute of the helper configuration")},removeExcludeRefinement:function(e,t){if(this.isConjunctiveFacet(e))return b.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:b.removeRefinement(this.facetsExcludes,e,t)}):this;throw new Error(e+" is not defined in the facets attribute of the helper configuration")},removeDisjunctiveFacetRefinement:function(e,t){if(this.isDisjunctiveFacet(e))return b.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:b.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this;throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration")},removeTagRefinement:function(e){var t;return this.isTagRefined(e)?(t={tagRefinements:this.tagRefinements.filter(function(t){return t!==e})},this.setQueryParameters(t)):this},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(this.isConjunctiveFacet(e))return this.setQueryParameters({facetsRefinements:b.toggleRefinement(this.facetsRefinements,e,t)});throw new Error(e+" is not defined in the facets attribute of the helper configuration")},toggleExcludeFacetRefinement:function(e,t){if(this.isConjunctiveFacet(e))return this.setQueryParameters({facetsExcludes:b.toggleRefinement(this.facetsExcludes,e,t)});throw new Error(e+" is not defined in the facets attribute of the helper configuration")},toggleDisjunctiveFacetRefinement:function(e,t){if(this.isDisjunctiveFacet(e))return this.setQueryParameters({disjunctiveFacetsRefinements:b.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)});throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration")},toggleHierarchicalFacetRefinement:function(e,t){var n,s;if(this.isHierarchicalFacet(e))return s=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),n={},void 0!==this.hierarchicalFacetsRefinements[e]&&0<this.hierarchicalFacetsRefinements[e].length&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+s))?-1===t.indexOf(s)?n[e]=[]:n[e]=[t.slice(0,t.lastIndexOf(s))]:n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:de({},n,this.hierarchicalFacetsRefinements)});throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration")},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");var n;if(this.isHierarchicalFacet(e))return(n={})[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:de({},n,this.hierarchicalFacetsRefinements)});throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.")},removeHierarchicalFacetRefinement:function(e){var t;return this.isHierarchicalFacetRefined(e)?((t={})[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:de({},t,this.hierarchicalFacetsRefinements)})):this},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return-1<this.disjunctiveFacets.indexOf(e)},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return-1<this.facets.indexOf(e)},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&b.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&b.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&b.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){return!!this.isHierarchicalFacet(e)&&(e=this.getHierarchicalRefinement(e),t?-1!==e.indexOf(t):0<e.length)},isNumericRefined:function(e,t,n){var s,o;return void 0===n&&void 0===t?!!this.numericRefinements[e]:(s=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t],void 0!==n&&s?(n=sn(n),t=void 0!==(e=this.numericRefinements[e][t],o=n,C(e,function(e){return Jt(e,o)})),s&&t):s)},isTagRefined:function(e){return-1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var e=this,t=Un(Object.keys(this.numericRefinements).filter(function(t){return 0<Object.keys(e.numericRefinements[t]).length}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(t){return 0<e.disjunctiveFacetsRefinements[t].length}).concat(t).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var e=this;return Un(this.hierarchicalFacets.map(function(e){return e.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(t){return 0<e.hierarchicalFacetsRefinements[t].length}))},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(t){return-1===e.indexOf(t)})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var t=this.managedParameters,e={},n=this;return Object.keys(this).forEach(function(s){var o=n[s];-1===t.indexOf(s)&&void 0!==o&&(e[s]=o)}),e},setQueryParameter:function(e,t){var n;return this[e]===t?this:((n={})[e]=t,this.setQueryParameters(n))},setQueryParameters:function(e){if(!e)return this;if(t=A.validate(this,e),t)throw t;var s=this,n=A._parseNumbers(e),t=Object.keys(this).reduce(function(e,t){return e[t]=s[t],e},{}),e=Object.keys(n).reduce(function(e,t){var o=void 0!==e[t],s=void 0!==n[t];return o&&!s?qe(e,[t]):(s&&(e[t]=n[t]),e)},t);return new this.constructor(e)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return C(this.hierarchicalFacets,function(t){return t.name===e})},getHierarchicalFacetBreadcrumb:function(e){var t;return this.isHierarchicalFacet(e)&&(t=this.getHierarchicalRefinement(e)[0])?(e=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),t.split(e).map(function(e){return e.trim()})):[]},toString:function(){return JSON.stringify(this,null,2)}},Be=A;function Yt(e){return Array.isArray(e)?e.filter(Boolean):[]}function He(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function Yn(e,t){var n=(t||[]).map(function(e){return e.split(":")});return e.reduce(function(e,t){var s=t.split(":"),t=C(n,function(e){return e[0]===s[0]});return 1<s.length||!t?(e[0].push(s[0]),e[1].push(s[1])):(e[0].push(t[0]),e[1].push(t[1])),e},[[],[]])}var Dt=function(e,t,n){return Array.isArray(e)?(Array.isArray(n)||(n=[]),(e=e.map(function(e,n){return{criteria:t.map(function(t){return e[t]}),index:n,value:e}})).sort(function(e,t){for(var o,s=-1;++s<e.criteria.length;)if(o=function(e,t){if(e!==t){var n=void 0!==e,s=null===e,o=void 0!==t,i=null===t;if(!i&&t<e||s&&o||!n)return 1;if(!s&&e<t||i&&n||!o)return-1}return 0}(e.criteria[s],t.criteria[s]),o)return!(s>=n.length)&&"desc"===n[s]?-o:o;return e.index-t.index}),e.map(function(e){return e.value})):[]},k=function(e){return"string"!=typeof e?e:String(e).replace(/^-/,"\\-")},D=function(e){return"string"!=typeof e?e:e.replace(/^\\-/,"-")},dc=function(e){return function(t,n){function u(e,t,n){if(s=e,0<n){l=0;for(s=e;l<n;){var l,d,u=s&&Array.isArray(s.data)?s.data:[],s=C(u,function(e){return e.isRefined});l++}}return s&&(d=Object.keys(t.data).map(function(e){return[e,t.data[e]]}).filter(function(e){var t,n,o,l,d,e=e[0];return e=e,l=s.path||a,o=r,t=i,d=c,(!(n=a)||0===e.indexOf(n)&&n!==e)&&(!n&&-1===e.indexOf(t)||n&&e.split(t).length-n.split(t).length==1||-1===e.indexOf(t)&&-1===o.indexOf(t)||0===o.indexOf(e)||0===e.indexOf(l+t)&&(d||0===e.indexOf(o)))}),s.data=Dt(d.map(function(e){var s,o,a,c,n=e[0],e=e[1];return e=e,n=n,s=i,o=oc(r),a=t.exhaustive,{name:(c=n.split(s))[c.length-1].trim(),path:n,escapedValue:cc(n),count:e,isRefined:o===n||0===o.indexOf(n+s),exhaustive:a,data:null}}),o[0],o[1])),e}var o,i,a,r,c,s=e.hierarchicalFacets[n],h=e.hierarchicalFacetsRefinements[s.name]&&e.hierarchicalFacetsRefinements[s.name][0]||"",l=e._getHierarchicalFacetSeparator(s),d=e._getHierarchicalRootPath(s),m=e._getHierarchicalShowParentLevel(s),s=Yn(e._getHierarchicalFacetSortBy(s)),f=t.every(function(e){return e.exhaustive}),s=(o=s,i=l,c=m,r=h,t);return(s=(a=d)?t.slice(d.split(l).length):s).reduce(u,{name:e.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:f,data:null})}},cc=k,oc=D,Gn=k,Yr=D;function os(e){var t={};return e.forEach(function(e,n){t[e]=n}),t}function Et(e,t,n){t&&t[n]&&(e.stats=t[n])}function pe(e,t,n){var o=t[0],s=(this._rawResults=t,this),l=(Object.keys(o).forEach(function(e){s[e]=o[e]}),Object.keys(n||{}).forEach(function(e){s[e]=n[e]}),this.processingTimeMS=t.reduce(function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map(function(){return[]}),this.facets=[],e.getRefinedDisjunctiveFacets()),a=os(e.facets),r=os(e.disjunctiveFacets),i=1,c=o.facets||{};Object.keys(c).forEach(function(t){var n,i,l,h,d=c[t],u=(n=e.hierarchicalFacets,h=t,C(n,function(e){return-1<(e.attributes||[]).indexOf(h)}));u?(n=u.attributes.indexOf(t),l=He(e.hierarchicalFacets,function(e){return e.name===u.name}),s.hierarchicalFacets[l][n]={attribute:t,data:d,exhaustive:o.exhaustiveFacetsCount}):(l=-1!==e.disjunctiveFacets.indexOf(t),n=-1!==e.facets.indexOf(t),l&&(i=r[t],s.disjunctiveFacets[i]={name:t,data:d,exhaustive:o.exhaustiveFacetsCount},Et(s.disjunctiveFacets[i],o.facets_stats,t)),n&&(i=a[t],s.facets[i]={name:t,data:d,exhaustive:o.exhaustiveFacetsCount},Et(s.facets[i],o.facets_stats,t)))}),this.hierarchicalFacets=Yt(this.hierarchicalFacets),l.forEach(function(n){var a=t[i],c=a&&a.facets?a.facets:{},l=e.getHierarchicalFacetByName(n);Object.keys(c).forEach(function(t){var n,i,d=c[t];l?(n=He(e.hierarchicalFacets,function(e){return e.name===l.name}),-1!==(i=He(s.hierarchicalFacets[n],function(e){return e.attribute===t}))&&(s.hierarchicalFacets[n][i].data=fe({},s.hierarchicalFacets[n][i].data,d))):(n=r[t],i=o.facets&&o.facets[t]||{},s.disjunctiveFacets[n]={name:t,data:de({},d,i),exhaustive:a.exhaustiveFacetsCount},Et(s.disjunctiveFacets[n],a.facets_stats,t),e.disjunctiveFacetsRefinements[t]&&e.disjunctiveFacetsRefinements[t].forEach(function(o){!s.disjunctiveFacets[n].data[o]&&-1<e.disjunctiveFacetsRefinements[t].indexOf(Yr(o))&&(s.disjunctiveFacets[n].data[o]=0)}))}),i++}),e.getRefinedHierarchicalFacets().forEach(function(n){var a=e.getHierarchicalFacetByName(n),r=e._getHierarchicalFacetSeparator(a),o=e.getHierarchicalRefinement(n);0===o.length||o[0].split(r).length<2||t.slice(i).forEach(function(t){var n=t&&t.facets?t.facets:{};Object.keys(n).forEach(function(t){var l,d,u=n[t],i=He(e.hierarchicalFacets,function(e){return e.name===a.name}),c=He(s.hierarchicalFacets[i],function(e){return e.attribute===t});-1!==c&&(l={},0<o.length&&(l[d=o[0].split(r)[0]]=s.hierarchicalFacets[i][c].data[d]),s.hierarchicalFacets[i][c].data=de(l,u,s.hierarchicalFacets[i][c].data))}),i++})}),Object.keys(e.facetsExcludes).forEach(function(t){var i=e.facetsExcludes[t],n=a[t];s.facets[n]={name:t,data:o.facets[t],exhaustive:o.exhaustiveFacetsCount},i.forEach(function(e){s.facets[n]=s.facets[n]||{name:t},s.facets[n].data=s.facets[n].data||{},s.facets[n].data[e]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(dc(e)),this.facets=Yt(this.facets),this.disjunctiveFacets=Yt(this.disjunctiveFacets),this._state=e}function ws(e,t){return e=C(e,function(e){return e.name===t}),e&&e.stats}function Ct(e,t,n,s,o){var o=C(o,function(e){return e.name===n}),i=o&&o.data&&o.data[s]?o.data[s]:0,o=o&&o.exhaustive||!1;return{type:t,attributeName:n,name:s,count:i,exhaustive:o}}pe.prototype.getFacetByName=function(e){function t(t){return t.name===e}return C(this.facets,t)||C(this.disjunctiveFacets,t)||C(this.hierarchicalFacets,t)},pe.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],pe.prototype.getFacetValues=function(e,t){var n,o,a,r,c,s=e,i=(n=this)._state.isConjunctiveFacet(s)?(a=C(n.facets,l))?Object.keys(a.data).map(function(e){var t=Gn(e);return{name:e,escapedValue:t,count:a.data[e],isRefined:n._state.isFacetRefined(s,t),isExcluded:n._state.isExcludeRefined(s,e)}}):[]:n._state.isDisjunctiveFacet(s)?(r=C(n.disjunctiveFacets,l))?Object.keys(r.data).map(function(e){var t=Gn(e);return{name:e,escapedValue:t,count:r.data[e],isRefined:n._state.isDisjunctiveFacetRefined(s,t)}}):[]:n._state.isHierarchicalFacet(s)?C(n.hierarchicalFacets,l):void 0;function l(e){return e.name===s}if(i)return o=de({},t,{sortBy:pe.DEFAULT_SORT,facetOrdering:!t||!t.sortBy}),c=this,function e(t,n,s,o){var i;return o=o||0,Array.isArray(n)?t(n,s[o]):n.data&&0!==n.data.length?(i=n.data.map(function(n){return e(t,n,s,o+1)}),i=t(i,s[o]),de({data:i},n)):n}(function(e,t){if(o.facetOrdering&&(t=t,n=(n=c).renderingContent&&n.renderingContent.facetOrdering&&n.renderingContent.facetOrdering.values&&n.renderingContent.facetOrdering.values[t],Boolean(n)))return t=e,s=[],i=[],a=((n=n).order||[]).reduce(function(e,t,n){return e[t]=n,e},{}),t.forEach(function(e){var t=e.path||e.name;void 0!==a[t]?s[a[t]]=e:i.push(e)}),s=s.filter(function(e){return e}),"hidden"===(t=n.sortRemainingBy)?s:s.concat(Dt(i,(n="alpha"===t?[["path","name"],["asc","asc"]]:[["count"],["desc"]])[0],n[1]));var n,s,i,a;if(Array.isArray(o.sortBy))return t=Yn(o.sortBy,pe.DEFAULT_SORT),Dt(e,t[0],t[1]);if("function"==typeof o.sortBy)return n=o.sortBy,e.sort(n);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},i,Array.isArray(i)?[e]:c._state.getHierarchicalFacetByName(i.name).attributes)},pe.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?ws(this.facets,e):this._state.isDisjunctiveFacet(e)?ws(this.disjunctiveFacets,e):void 0},pe.prototype.getRefinements=function(){var e=this._state,n=this,t=[];return Object.keys(e.facetsRefinements).forEach(function(s){e.facetsRefinements[s].forEach(function(e){t.push(Ct(0,"facet",s,e,n.facets))})}),Object.keys(e.facetsExcludes).forEach(function(s){e.facetsExcludes[s].forEach(function(e){t.push(Ct(0,"exclude",s,e,n.facets))})}),Object.keys(e.disjunctiveFacetsRefinements).forEach(function(s){e.disjunctiveFacetsRefinements[s].forEach(function(e){t.push(Ct(0,"disjunctive",s,e,n.disjunctiveFacets))})}),Object.keys(e.hierarchicalFacetsRefinements).forEach(function(s){e.hierarchicalFacetsRefinements[s].forEach(function(o){var i,a,r,c;t.push((i=e,r=s,o=o,c=n.hierarchicalFacets,a=i.getHierarchicalFacetByName(r),i=i._getHierarchicalFacetSeparator(a),a=o.split(i),o=C(c,function(e){return e.name===r}),i=a.reduce(function(e,t){var n=e&&C(e.data,function(e){return e.name===t});return void 0!==n?n:e},o),c=i&&i.count||0,a=i&&i.exhaustive||!1,o=i&&i.path||"",{type:"hierarchical",attributeName:r,name:o,count:c,exhaustive:a}))})}),Object.keys(e.numericRefinements).forEach(function(n){var s=e.numericRefinements[n];Object.keys(s).forEach(function(e){s[e].forEach(function(s){t.push({type:"numeric",attributeName:n,name:s,numericValue:s,operator:e})})})}),e.tagRefinements.forEach(function(e){t.push({type:"tag",attributeName:"_tags",name:e})}),t},Te=pe;function E(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}jt=E;function Z(e){return"function"==typeof e}function Le(e){return"object"==typeof e&&null!==e}function As(e){return void 0===e}E.prototype._events=void 0,E.prototype._maxListeners=void 0,E.defaultMaxListeners=10,E.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},E.prototype.emit=function(e){var t,n,s,o,i,a,r;if(this._events||(this._events={}),"error"===e&&(!this._events.error||Le(this._events.error)&&!this._events.error.length))throw(o=arguments[1])instanceof Error?o:((r=new Error('Uncaught, unspecified "error" event. ('+o+")")).context=o,r);if(As(t=this._events[e]))return!1;if(Z(t))switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:n=Array.prototype.slice.call(arguments,1),t.apply(this,n)}else if(Le(t))for(n=Array.prototype.slice.call(arguments,1),i=(a=t.slice()).length,s=0;s<i;s++)a[s].apply(this,n);return!0},E.prototype.on=E.prototype.addListener=function(e,t){if(Z(t))return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,Z(t.listener)?t.listener:t),this._events[e]?Le(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,Le(this._events[e])&&!this._events[e].warned&&(t=As(this._maxListeners)?E.defaultMaxListeners:this._maxListeners)&&0<t&&this._events[e].length>t&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace)&&console.trace(),this;throw TypeError("listener must be a function")},E.prototype.once=function(e,t){var n;if(Z(t))return n=!1,s.listener=t,this.on(e,s),this;throw TypeError("listener must be a function");function s(){this.removeListener(e,s),n||(n=!0,t.apply(this,arguments))}},E.prototype.removeListener=function(e,t){var n,s,o,i;if(!Z(t))throw TypeError("listener must be a function");if(this._events&&this._events[e])if(i=(n=this._events[e]).length,o=-1,n===t||Z(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(Le(n)){for(s=i;0<s--;)if(n[s]===t||n[s].listener&&n[s].listener===t){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},E.prototype.removeAllListeners=function(e){if(this._events)if(this._events.removeListener)if(0===arguments.length){for(n in this._events)"removeListener"!==n&&this.removeAllListeners(n);this.removeAllListeners("removeListener"),this._events={}}else{if(Z(t=this._events[e]))this.removeListener(e,t);else if(t)for(var t,n;t.length;)this.removeListener(e,t[t.length-1]);delete this._events[e]}else 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e];return this},E.prototype.listeners=function(e){return e=this._events&&this._events[e]?Z(this._events[e])?[this._events[e]]:this._events[e].slice():[],e},E.prototype.listenerCount=function(e){if(this._events){if(e=this._events[e],Z(e))return 1;if(e)return e.length}return 0},E.listenerCount=function(e,t){return e.listenerCount(t)},D=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})};function mt(e,t){this.main=e,this.fn=t,this.lastResults=null}D(mt,jt),mt.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},mt.prototype.getModifiedState=function(e){return this.fn(e)},Ss=mt;function Ft(e){return Object.keys(e).sort(function(e,t){return e.localeCompare(t)}).reduce(function(t,n){return t[n]=e[n],t},{})}var M={_getQueries:function(e,t){var n=[];return n.push({indexName:e,params:M._getHitsSearchParams(t)}),t.getRefinedDisjunctiveFacets().forEach(function(s){n.push({indexName:e,params:M._getDisjunctiveFacetSearchParams(t,s)})}),t.getRefinedHierarchicalFacets().forEach(function(s){var a,o=t.getHierarchicalFacetByName(s),s=t.getHierarchicalRefinement(s),i=t._getHierarchicalFacetSeparator(o);0<s.length&&1<s[0].split(i).length&&(a=s[0].split(i).slice(0,-1).reduce(function(e,t,n){return e.concat({attribute:o.attributes[n],value:0===n?t:[e[e.length-1].value,t].join(i)})},[])).forEach(function(s,i){s=M._getDisjunctiveFacetSearchParams(t,s.attribute,0===i);function c(e){return o.attributes.some(function(t){return t===e.split(":")[0]})}var r=(s.facetFilters||[]).reduce(function(e,t){var n;return Array.isArray(t)&&0<(n=t.filter(function(e){return!c(e)})).length&&e.push(n),"string"!=typeof t||c(t)||e.push(t),e},[]),l=a[i-1];s.facetFilters=0<i?r.concat(l.attribute+":"+l.value):0<r.length?r:void 0,n.push({indexName:e,params:s})})}),n},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(M._getHitsHierarchicalFacetsAttributes(e)),n=M._getFacetFilters(e),s=M._getNumericFilters(e),o=M._getTagFilters(e),t={facets:-1<t.indexOf("*")?["*"]:t,tagFilters:o};return 0<n.length&&(t.facetFilters=n),0<s.length&&(t.numericFilters=s),Ft(fe({},e.getQueryParams(),t))},_getDisjunctiveFacetSearchParams:function(e,t,n){var i=M._getFacetFilters(e,t,n),a=M._getNumericFilters(e,t),s=M._getTagFilters(e),o={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1},s=(0<s.length&&(o.tagFilters=s),e.getHierarchicalFacetByName(t));return o.facets=s?M._getDisjunctiveHierarchicalFacetAttribute(e,s,n):t,0<a.length&&(o.numericFilters=a),0<i.length&&(o.facetFilters=i),Ft(fe({},e.getQueryParams(),o))},_getNumericFilters:function(e,t){var n;return e.numericFilters||(n=[],Object.keys(e.numericRefinements).forEach(function(s){var o=e.numericRefinements[s]||{};Object.keys(o).forEach(function(e){var i=o[e]||[];t!==s&&i.forEach(function(t){var o;Array.isArray(t)?(o=t.map(function(t){return s+e+t}),n.push(o)):n.push(s+e+t)})})}),n)},_getTagFilters:function(e){return e.tagFilters||e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var s=[],o=e.facetsRefinements||{},i=(Object.keys(o).forEach(function(e){(o[e]||[]).forEach(function(t){s.push(e+":"+t)})}),e.facetsExcludes||{}),a=(Object.keys(i).forEach(function(e){(i[e]||[]).forEach(function(t){s.push(e+":-"+t)})}),e.disjunctiveFacetsRefinements||{}),r=(Object.keys(a).forEach(function(e){var n,o=a[e]||[];e!==t&&o&&0!==o.length&&(n=[],o.forEach(function(t){n.push(e+":"+t)}),s.push(n))}),e.hierarchicalFacetsRefinements||{});return Object.keys(r).forEach(function(o){if(i=(r[o]||[])[0],void 0!==i){var i,l,d=e.getHierarchicalFacetByName(o),a=e._getHierarchicalFacetSeparator(d),c=e._getHierarchicalRootPath(d);if(t===o){if(-1===i.indexOf(a)||!c&&!0===n||c&&c.split(a).length===i.split(a).length)return;i=c?(l=c.split(a).length-1,c):(l=i.split(a).length-2,i.slice(0,i.lastIndexOf(a)))}else l=i.split(a).length-1;(o=d.attributes[l])&&s.push([o+":"+i])}}),s},_getHitsHierarchicalFacetsAttributes:function(e){return e.hierarchicalFacets.reduce(function(t,n){var s,o=e.getHierarchicalRefinement(n.name)[0];return o?(s=e._getHierarchicalFacetSeparator(n),o=o.split(s).length,s=n.attributes.slice(0,o+1),t.concat(s)):(t.push(n.attributes[0]),t)},[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var s,o=e._getHierarchicalFacetSeparator(t);return!0===n?(n=0,(s=e._getHierarchicalRootPath(t))&&(n=s.split(o).length),[t.attributes[n]]):(s=(e.getHierarchicalRefinement(t.name)[0]||"").split(o).length-1,t.attributes.slice(0,1+s))},getSearchForFacetQuery:function(e,t,n,s){return s=s.isDisjunctiveFacet(e)?s.clearRefinements(e):s,t={facetQuery:t,facetName:e},"number"==typeof n&&(t.maxFacetHits=n),Ft(fe({},M._getHitsSearchParams(s),t))}},Ee=M,H="3.11.1",mr=k;function i(e,t,n){"function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper (3.11.1)"),this.setClient(e),e=n||{},e.index=t,this.state=Be.make(e),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function Fs(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function $s(){return this.state.page}D(i,jt),i.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},i.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},i.prototype.getQuery=function(){var e=this.state;return Ee._getHitsSearchParams(e)},i.prototype.searchOnce=function(e,t){var s=e?this.state.setQueryParameters(e):this.state,e=Ee._getQueries(s.index,s),n=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:s}),!t)return this.client.search(e).then(function(e){return n._currentNbQueries--,0===n._currentNbQueries&&n.emit("searchQueueEmpty"),{content:new Te(s,e.results),state:s,_originalResponse:e}},function(e){throw n._currentNbQueries--,0===n._currentNbQueries&&n.emit("searchQueueEmpty"),e});this.client.search(e).then(function(e){n._currentNbQueries--,0===n._currentNbQueries&&n.emit("searchQueueEmpty"),t(null,new Te(s,e.results),s)}).catch(function(e){n._currentNbQueries--,0===n._currentNbQueries&&n.emit("searchQueueEmpty"),t(e,null,s)})},i.prototype.findAnswers=function(e){if(n=this.state,t=this.derivedHelpers[0],!t)return Promise.resolve([]);var s,t=t.getModifiedState(n),n=fe({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:qe(Ee._getHitsSearchParams(t),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),o="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!=typeof this.client.initIndex)throw new Error(o);if(s=this.client.initIndex(t.index),"function"!=typeof s.findAnswers)throw new Error(o);return s.findAnswers(t.query,e.queryLanguages,n)},i.prototype.searchForFacetValues=function(e,t,n,s){var o,i,a,r="function"==typeof this.client.searchForFacetValues,c="function"==typeof this.client.initIndex;if(r||c||"function"==typeof this.client.search)return o=this.state.setQueryParameters(s||{}),a=o.isDisjunctiveFacet(e),s=Ee.getSearchForFacetQuery(e,t,n,o),this._currentNbQueries++,i=this,n=r?this.client.searchForFacetValues([{indexName:o.index,params:s}]):c?this.client.initIndex(o.index).searchForFacetValues(s):(delete s.facetName,this.client.search([{type:"facet",facet:e,indexName:o.index,params:s}]).then(function(e){return e.results[0]})),this.emit("searchForFacetValues",{state:o,facet:e,query:t}),n.then(function(t){return i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),(t=Array.isArray(t)?t[0]:t).facetHits.forEach(function(t){t.escapedValue=mr(t.value),t.isRefined=a?o.isDisjunctiveFacetRefined(e,t.escapedValue):o.isFacetRefined(e,t.escapedValue)}),t},function(e){throw i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e});throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues")},i.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},i.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},i.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},i.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},i.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},i.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},i.prototype.addNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,n),isPageReset:!0}),this},i.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},i.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},i.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},i.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},i.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},i.prototype.removeNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,n),isPageReset:!0}),this},i.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},i.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},i.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},i.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},i.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},i.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},i.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},i.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},i.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},i.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},i.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},i.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},i.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},i.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},i.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)},i.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)},i.prototype.setCurrentPage=Fs,i.prototype.setPage=Fs,i.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},i.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},i.prototype.setState=function(e){return this._change({state:Be.make(e),isPageReset:!1}),this},i.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new Be(e),this},i.prototype.hasRefinements=function(e){return!!Ke(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},i.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},i.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},i.prototype.hasTag=function(e){return this.state.isTagRefined(e)},i.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},i.prototype.getIndex=function(){return this.state.index},i.prototype.getCurrentPage=$s,i.prototype.getPage=$s,i.prototype.getTags=function(){return this.state.tagRefinements},i.prototype.getRefinements=function(e){var t=[],n=(this.state.isConjunctiveFacet(e)?(this.state.getConjunctiveRefinements(e).forEach(function(e){t.push({value:e,type:"conjunctive"})}),this.state.getExcludeRefinements(e).forEach(function(e){t.push({value:e,type:"exclude"})})):this.state.isDisjunctiveFacet(e)&&this.state.getDisjunctiveRefinements(e).forEach(function(e){t.push({value:e,type:"disjunctive"})}),this.state.getNumericRefinements(e));return Object.keys(n).forEach(function(e){var s=n[e];t.push({value:s,operator:e,type:"numeric"})}),t},i.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},i.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},i.prototype._search=function(e){var t=this.state,s=[],n=[],e=(e.onlyWithDerivedHelpers||(n=Ee._getQueries(t.index,t),s.push({state:t,queriesCount:n.length,helper:this}),this.emit("search",{state:t,results:this.lastResults})),this.derivedHelpers.map(function(e){var n=e.getModifiedState(t),o=Ee._getQueries(n.index,n);return s.push({state:n,queriesCount:o.length,helper:e}),e.emit("search",{state:n,results:e.lastResults}),o})),n=Array.prototype.concat.apply(n,e),e=this._queryId++;this._currentNbQueries++;try{this.client.search(n).then(this._dispatchAlgoliaResponse.bind(this,s,e)).catch(this._dispatchAlgoliaError.bind(this,e))}catch(e){this.emit("error",{error:e})}},i.prototype._dispatchAlgoliaResponse=function(e,t,n){var s;t<this._lastQueryIdReceived||(this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty"),s=n.results.slice(),e.forEach(function(e){var n=e.state,t=e.queriesCount,e=e.helper,t=s.splice(0,t),t=e.lastResults=new Te(n,t);e.emit("result",{results:t,state:n})}))},i.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},i.prototype.containsRefinement=function(e,t,n,s){return e||0!==t.length||0!==n.length||0!==s.length},i.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&0<this.state.disjunctiveRefinements[e].length},i.prototype._change=function(e){var t=e.state,e=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:e}))},i.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},i.prototype.setClient=function(e){return this.client!==e&&("function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper (3.11.1)"),this.client=e),this},i.prototype.getClient=function(){return this.client},i.prototype.derive=function(e){return e=new Ss(this,e),this.derivedHelpers.push(e),e},i.prototype.detachDerivedHelper=function(e){if(e=this.derivedHelpers.indexOf(e),-1===e)throw new Error("Derived helper already detached");this.derivedHelpers.splice(e,1)},i.prototype.hasPendingRequests=function(){return 0<this._currentNbQueries},Qt=i;function Ie(e,t,n){return new Qt(e,t,n)}Ie.version=H,Ie.AlgoliaSearchHelper=Qt,Ie.SearchParameters=Be,Ie.SearchResults=Te,L=Ie;function c(){}function st(e){return e}function v(e,t){if(void 0===e||"function"!=typeof e)throw new Error("The render function is not valid (received type ".concat(Object.prototype.toString.call(e).slice(8,-1),`).

`).concat(t))}function Ys(e){var n=e.helper,e=e.attributesToClear,e=void 0===e?[]:e,t=n.state.setPage(0),t=e.reduce(function(e,n){return t.isNumericRefined(n)?e.removeNumericRefinement(n):t.isHierarchicalFacet(n)?e.removeHierarchicalFacetRefinement(n):t.isDisjunctiveFacet(n)?e.removeDisjunctiveFacetRefinement(n):t.isConjunctiveFacet(n)?e.removeFacetRefinement(n):e},t);return t=-1!==e.indexOf("query")?t.setQuery(""):t}var nr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},io=/[&<>"']/g,Ka=RegExp(io.source),Wa={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Io=/&(amp|quot|lt|gt|#39);/g,Ha=RegExp(Io.source);function $e(e){return e&&Ha.test(e)?e.replace(Io,function(e){return Wa[e]}):e}function Vo(e){if("object"===B(t=e)&&null!==t&&"[object Object]"===(null===(t=e)?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t))){if(null===Object.getPrototypeOf(e))return 1;for(var t,n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}}I={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},_={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function $o(e){return((e=e)&&Ka.test(e)?e.replace(io,function(e){return nr[e]}):e).replace(new RegExp(I.highlightPreTag,"g"),_.highlightPreTag).replace(new RegExp(I.highlightPostTag,"g"),_.highlightPostTag)}function pt(t){return Vo(t)&&"string"!=typeof t.value?Object.keys(t).reduce(function(n,o){return e(e({},n),{},s({},o,pt(t[o])))},{}):Array.isArray(t)?t.map(pt):e(e({},t),{},{value:$o(t.value)})}function gt(e){return void 0===e.__escaped&&((e=e.map(function(e){return e=d({},(function(e){if(e==null)throw new TypeError("Cannot destructure "+e)}(e),e)),e._highlightResult&&(e._highlightResult=pt(e._highlightResult)),e._snippetResult&&(e._snippetResult=pt(e._snippetResult)),e})).__escaped=!0),e}function Wo(e){var t=_.highlightPreTag,n=_.highlightPostTag;return e.map(function(e){return e.isHighlighted?t+e.value+n:e.value}).join("")}function en(e){var n=e.instantSearchInstance,s=e.helper,t=e.attribute,o=e.widgetType;return function(){for(var h=arguments.length,e=new Array(h),r=0;r<h;r++)e[r]=arguments[r];var i,a,c,m=e[0],d=e[1],l=e[2],l=void 0===l?"Filter Applied":l,u="string"==typeof t?t:t(d);1===e.length&&"object"===B(e[0])?n.sendEventToInsights(e[0]):"click"!==m||2!==e.length&&3!==e.length||(i=u,c=d,(a=s).state.isHierarchicalFacet(i)?a.state.isHierarchicalFacetRefined(i,c):a.state.isConjunctiveFacet(i)?a.state.isFacetRefined(i,c):a.state.isDisjunctiveFacetRefined(i,c))||n.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:o,eventType:m,payload:{eventName:l,index:s.getIndex(),filters:["".concat(u,":").concat(d)]},attribute:u})}}function Yo(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function Go(e){return JSON.parse(decodeURIComponent(atob(e)))}jn=function(e){var t,n,o,i,a,l,r=e.index,c=e.widgetType,s=(e.methodName,e.args),e=e.isSearchStalled;return 1===s.length&&"object"===B(s[0])?[s[0]]:(n=s[0],t=s[1],o=s[2],!t||!("click"!==n&&"conversion"!==n||o)||0===(s=Array.isArray(t)?t.slice():[t]).length?[]:(a=s[0].__queryID,t=function(e,t){for(var s=1<arguments.length&&void 0!==t?t:20,o=[],n=0;n<Math.ceil(e.length/s);n++)o.push(e.slice(n*s,(n+1)*s));return o}(s),i=t.map(function(e){return e.map(function(e){return e.objectID})}),l=t.map(function(e){return e.map(function(e){return e.__position})}),"view"===n?e?[]:t.map(function(e,t){return{insightsMethod:"viewedObjectIDs",widgetType:c,eventType:n,payload:{eventName:o||"Hits Viewed",index:r,objectIDs:i[t]},hits:e}}):"click"===n?t.map(function(e,t){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:c,eventType:n,payload:{eventName:o,index:r,queryID:a,objectIDs:i[t],positions:l[t]},hits:e}}):"conversion"===n?t.map(function(e,t){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:c,eventType:n,payload:{eventName:o,index:r,queryID:a,objectIDs:i[t]},hits:e}}):[]))};function bt(e){var t=e.instantSearchInstance,n=e.index,s=e.widgetType;return function(){for(var o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];jn({widgetType:s,index:n,methodName:"sendEvent",args:i,isSearchStalled:"stalled"===t.status}).forEach(function(e){return t.sendEventToInsights(e)})}}function Qo(e){var t=e.index,n=e.widgetType;return function(){for(var s,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return s=jn({widgetType:n,index:t,methodName:"bindEvent",args:i,isSearchStalled:!1}),s.length?"data-insights-event=".concat(Yo(s)):""}}function Se(e){return"ais.index"===e.$$type}function bn(e,t){var n=e[t.getIndexId()]||{};t.getHelper().setState(t.getWidgetSearchParameters(t.getHelper().state,{uiState:n})),t.getWidgets().filter(Se).forEach(function(t){return bn(e,t)})}function Zo(e,t){var n=null;return function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return new Promise(function(s,o){n&&clearTimeout(n),n=setTimeout(function(){n=null,Promise.resolve(e.apply(void 0,i)).then(s).catch(o)},t)})}}Jo=Promise.resolve();function Ve(e){function n(){for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];null===t&&(t=Jo.then(function(){t=null,s?s=!1:e.apply(void 0,i)}))}var t=null,s=!1;return n.wait=function(){if(null===t)throw new Error("The deferred function should be called before calling `wait()`");return t},n.cancel=function(){null!==t&&(s=!0)},n}function a(){for(var s,t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return s=n.map(function(e){return t=(e=e).name,e=e.connector,["https://www.algolia.com/doc/api-reference/widgets/",t,"/js/",void 0!==e&&e?"#connector":""].join("");var t}).join(", "),function(e){return[e,"See documentation: ".concat(s)].filter(Boolean).join(`

`)}}function We(e){return"number"==typeof e&&e<0||"string"==typeof e?String(e).replace(/^-/,"\\-"):e}function U(e,t){for(var s,n=0;n<e.length;n++)if(t(s=e[n],n,e))return s}ni=/^(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)$/;function ma(e){if(Array.isArray(e)){var s=e,t=g(s,1)[0],o=(t=g(void 0===t?[void 0,void 0,void 0,void 0]:t,4))[0],n=t[1],i=t[2],t=t[3];if(o&&n&&i&&t)return{northEast:{lat:o,lng:n},southWest:{lat:i,lng:t}};throw new Error('Invalid value for "insideBoundingBox" parameter: ['.concat(s,"]"))}if(o=e,i=(n=g(o.split(",").map(parseFloat),4))[0],t=n[1],s=n[2],n=n[3],i&&t&&s&&n)return{northEast:{lat:i,lng:t},southWest:{lat:s,lng:n}};throw new Error('Invalid value for "insideBoundingBox" parameter: "'.concat(o,'"'))}function p(e){var t,n="string"==typeof e,s=n?document.querySelector(e):e;if((t=s)instanceof HTMLElement||Boolean(t)&&0<t.nodeType)return s;throw t="Container must be `string` or `HTMLElement`.",n&&(t+=" Unable to find ".concat(e)),new Error(t)}function Me(e){var s=_.highlightPostTag,t=_.highlightPreTag,e=e.split(t),t=e.shift(),n=t?[{value:t,isHighlighted:!1}]:[];return e.forEach(function(e){e=e.split(s),n.push({value:e[0],isHighlighted:!0}),""!==e[1]&&n.push({value:e[1],isHighlighted:!1})}),n}si=new RegExp(/\w/i);function ie(e,t){return(Array.isArray(t)?t:t.split(".")).reduce(function(e,t){return e&&e[t]},e)}function cn(e,t,n,s,o){var a,o=4<arguments.length&&void 0!==o?o:[],r={type:t,attribute:n,name:s,escapedValue:We(s)},i=U(o,function(e){return e.name===n});if("hierarchical"===t){for(var o=e.getHierarchicalFacetByName(n),l=s.split(o.separator),c=0;void 0!==i&&c<l.length;++c)!function(e){var t;i=i&&i.data&&U(Object.keys(i.data).map((t=i.data,function(e){return t[e]})),function(t){return t.name===l[e]})}(c);a=i&&i.count}else a=i&&i.data&&i.data[r.name];return void 0!==a&&(r.count=a),i&&void 0!==i.exhaustive&&(r.exhaustive=i.exhaustive),r}function on(e,t,n){var n=2<arguments.length&&void 0!==n&&n,o=[],s=t.facetsRefinements,i=void 0===s?{}:s,s=t.facetsExcludes,a=void 0===s?{}:s,s=t.disjunctiveFacetsRefinements,r=void 0===s?{}:s,s=t.hierarchicalFacetsRefinements,c=void 0===s?{}:s,s=t.numericRefinements,l=void 0===s?{}:s,s=t.tagRefinements,s=void 0===s?[]:s;return Object.keys(i).forEach(function(n){i[n].forEach(function(s){o.push(cn(t,"facet",n,s,e.facets))})}),Object.keys(a).forEach(function(e){a[e].forEach(function(t){o.push({type:"exclude",attribute:e,name:t,exclude:!0})})}),Object.keys(r).forEach(function(n){r[n].forEach(function(s){o.push(cn(t,"disjunctive",n,"string"==typeof(s=s)?s.replace(/^\\-/,"-"):s,e.disjunctiveFacets))})}),Object.keys(c).forEach(function(n){c[n].forEach(function(s){o.push(cn(t,"hierarchical",n,s,e.hierarchicalFacets))})}),Object.keys(l).forEach(function(e){var t=l[e];Object.keys(t).forEach(function(n){var s=n,n=t[s];(Array.isArray(n)?n:[n]).forEach(function(t){o.push({type:"numeric",attribute:e,name:"".concat(t),numericValue:t,operator:s})})})}),s.forEach(function(e){o.push({type:"tag",attribute:"_tags",name:e})}),n&&t.query&&t.query.trim()&&o.push({attribute:"query",type:"query",name:t.query,query:t.query}),o}function ri(e,t){var n=null==(n=e.getWidgetRenderState)?void 0:n.call(e,t),t=null;if(n&&n.widgetParams&&((n=n.widgetParams).attribute?t=n.attribute:Array.isArray(n.attributes)&&(t=n.attributes[0])),"string"!=typeof t)throw new Error(`Could not find the attribute of the widget:

`.concat(JSON.stringify(e),`

Please check whether the widget's getWidgetRenderState returns widgetParams.attribute correctly.`));return t}function Ot(t,n,s){return t.map(function(t,o){return e(e({},t),{},{__position:s*n+o+1})})}function Zt(t,n){return n?t.map(function(t){return e(e({},t),{},{__queryID:n})}):t}function li(e){return e!==Object(e)}function he(e,t){if(e===t)return 1;if(li(e)||li(t)||"function"==typeof e||"function"==typeof t)return e===t;if(Object.keys(e).length===Object.keys(t).length){for(var n,s=0,o=Object.keys(e);s<o.length;s++){if(n=o[s],!(n in t))return;if(!he(e[n],t[n]))return}return 1}}function m(e){return"number"==typeof e&&isFinite(e)}function xt(e){return 1===e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}function rt(e){return e.filter(function(e,t,n){return n.indexOf(e)===t})}var Ui=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"],Hi=function(e,t){return t.facets,t.disjunctiveFacets,t.facetsRefinements,t.facetsExcludes,t.disjunctiveFacetsRefinements,t.numericRefinements,t.tagRefinements,t.hierarchicalFacets,t.hierarchicalFacetsRefinements,t.ruleContexts,t=f(t,Ui),e.setQueryParameters(t)},Ni=function(e,t){return t.facets.reduce(function(e,t){return e.addFacet(t)},e)},Ti=function(e,t){return t.disjunctiveFacets.reduce(function(e,t){return e.addDisjunctiveFacet(t)},e)},Ai=function(e,t){return e.setQueryParameters({hierarchicalFacets:t.hierarchicalFacets.reduce(function(e,t){var n=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(e,function(e){return e.name===t.name});return-1===n?e.concat(t):((e=e.slice()).splice(n,1,t),e)},e.hierarchicalFacets)})},Bi=function(e,t){return t.tagRefinements.reduce(function(e,t){return e.addTagRefinement(t)},e)},ga=function(t,n){return t.setQueryParameters({facetsRefinements:e(e({},t.facetsRefinements),n.facetsRefinements)})},ba=function(t,n){return t.setQueryParameters({facetsExcludes:e(e({},t.facetsExcludes),n.facetsExcludes)})},La=function(t,n){return t.setQueryParameters({disjunctiveFacetsRefinements:e(e({},t.disjunctiveFacetsRefinements),n.disjunctiveFacetsRefinements)})},Ra=function(t,n){return t.setQueryParameters({numericRefinements:e(e({},t.numericRefinements),n.numericRefinements)})},Pa=function(t,n){return t.setQueryParameters({hierarchicalFacetsRefinements:e(e({},t.hierarchicalFacetsRefinements),n.hierarchicalFacetsRefinements)})},Ia=function(e,t){return t=rt([].concat(e.ruleContexts).concat(t.ruleContexts).filter(Boolean)),0<t.length?e.setQueryParameters({ruleContexts:t}):e},Ne=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.reduce(function(e,t){return e=Pa(e,t),e=Ai(e,t),e=Bi(e,t),e=Ra(e,t),e=La(e,t),e=ba(e,t),e=ga(e,t),e=Ti(e,t),e=Ia(e,t),e=Ni(e,t),Hi(e,t)})};function Xt(e){var t=e.start,n=void 0===t?0:t,t=e.end,e=e.step,e=void 0===e?1:e,s=0===e?1:e,e=Math.round((t-n)/s);return j(Array(e)).map(function(e,t){return n+t*s})}function De(e,t,n){var s=t.getHelper();return{uiState:n,helper:s,parent:t,instantSearchInstance:e,state:s.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:"stalled"===e.status},status:e.status,error:e.error}}function Ho(e,t){var n=t.getResults();return{helper:t.getHelper(),parent:t,instantSearchInstance:e,results:n,scopedResults:t.getScopedResults(),state:n._state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:"stalled"===e.status},status:e.status,error:e.error}}function Po(t){return t.some(function(e){return e.isHighlighted})?t.map(function(n,s){return e(e({},n),{},{isHighlighted:(i=(n=t)[s=s],o=(null==(o=t[s+1])?void 0:o.isHighlighted)||!0,s=(null==(n=t[s-1])?void 0:n.isHighlighted)||!0,!(si.test($e(i.value))||s!==o?i.isHighlighted:s))});var o,i}):t.map(function(t){return e(e({},t),{},{isHighlighted:!1})})}function Y(e,t){return t=(1<arguments.length&&void 0!==t?t:{fallback:function(){}}).fallback,"undefined"==typeof window?t():e({window})}function je(e){return Array.isArray(e)?e:[e]}Ro=["initialSearchParameters"],xe=a({name:"index-widget"});function Lo(e,t){var n=t.state,s=t.isPageReset,t=t._uiState;n!==e.state&&(e.state=n,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:s,_uiState:t}))}function vt(e,t,n){return e.reduce(function(e,n){return!Se(n)&&(n.getWidgetUiState||n.getWidgetState)?n.getWidgetUiState?n.getWidgetUiState(e,t):n.getWidgetState(e,t):e},2<arguments.length&&void 0!==n?n:{})}function ht(e,t){var n=t.initialSearchParameters,s=f(t,Ro);return e.filter(function(e){return!Se(e)}).reduce(function(e,t){return t.getWidgetSearchParameters?t.getWidgetSearchParameters(e,s):e},n)}function Mo(t){if(void 0===t||void 0===t.indexName)throw new Error(xe("The `indexName` option is required."));var l=t.indexName,c=void 0===(t=t.indexId)?l:t,o=[],a={},i=null,d=null,n=null,r=null;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return l},getIndexId:function(){return c},getHelper:function(){return n},getResults:function(){return r&&r.lastResults},getScopedResults:function(){var e=this.getParent();return function e(t){return t.filter(Se).reduce(function(t,n){return t.concat.apply(t,[{indexId:n.getIndexId(),results:n.getResults(),helper:n.getHelper()}].concat(j(e(n.getWidgets()))))},[])}(e?e.getWidgets():[this])},getParent:function(){return d},createURL:function(e){return i._createURL(s({},c,vt(o,{searchParameters:e,helper:n})))},getWidgets:function(){return o},addWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(xe("The `addWidgets` method expects an array of widgets."));if(e.some(function(e){return"function"!=typeof e.init&&"function"!=typeof e.render}))throw new Error(xe("The widget definition expects a `render` and/or an `init` method."));return o=o.concat(e),i&&Boolean(e.length)&&(Lo(n,{state:ht(o,{uiState:a,initialSearchParameters:n.state}),_uiState:a}),e.forEach(function(e){e.getRenderState&&zt({renderState:e.getRenderState(i.renderState[t.getIndexId()]||{},De(i,t,i._initialUiState)),instantSearchInstance:i,parent:t})}),e.forEach(function(e){e.init&&e.init(De(i,t,i._initialUiState))}),i.scheduleSearch()),this},removeWidgets:function(e){var t,s=this;if(!Array.isArray(e))throw new Error(xe("The `removeWidgets` method expects an array of widgets."));if(e.some(function(e){return"function"!=typeof e.dispose}))throw new Error(xe("The widget definition expects a `dispose` method."));return o=o.filter(function(t){return-1===e.indexOf(t)}),i&&Boolean(e.length)&&(t=e.reduce(function(e,t){return t.dispose({helper:n,state:e,parent:s})||e},n.state),a=vt(o,{searchParameters:t,helper:n}),n.setState(ht(o,{uiState:a,initialSearchParameters:t})),o.length)&&i.scheduleSearch(),this},init:function(e){var s,h=this,t=e.instantSearchInstance,u=e.parent,m=e.uiState;null===n&&(i=t,d=u,a=m[c]||{},s=t.mainHelper,e=ht(o,{uiState:a,initialSearchParameters:new L.SearchParameters({index:l})}),(n=L({},e.index,e)).search=function(){return t.onStateChange?(t.onStateChange({uiState:t.mainIndex.getWidgetUiState({}),setUiState:function(e){return t.setUiState(e,!1)}}),s):s.search()},n.searchWithoutTriggeringOnStateChange=function(){return s.search()},n.searchForFacetValues=function(e,t,o,i){return i=n.state.setQueryParameters(i),s.searchForFacetValues(e,t,o,i)},r=s.derive(function(){return Ne.apply(void 0,j(function(e){for(var t=e.getParent(),n=[e.getHelper().state];null!==t;)n=[t.getHelper().state].concat(n),t=t.getParent();return n}(h)))}),(e=null==(u=t._initialResults)?void 0:u[this.getIndexId()])&&(u=new L.SearchResults(new L.SearchParameters(e.state),e.results),r.lastResults=u,n.lastResults=u),n.on("change",function(e){e.isPageReset&&!function e(t){t=t.filter(Se),0!==t.length&&t.forEach(function(t){var n=t.getHelper();Lo(n,{state:n.state.resetPage(),isPageReset:!0}),e(t.getWidgets())})}(o)}),r.on("search",function(){t.scheduleStalledRender()}),r.on("result",function(e){e=e.results,t.scheduleRender(),n.lastResults=e}),o.forEach(function(e){e.getRenderState&&zt({renderState:e.getRenderState(t.renderState[h.getIndexId()]||{},De(t,h,m)),instantSearchInstance:t,parent:h})}),o.forEach(function(e){e.init&&e.init(De(t,h,m))}),n.on("change",function(e){var s=e.state,e=e._uiState;a=vt(o,{searchParameters:s,helper:n},e||{}),t.onStateChange||t.onInternalStateChange()}),e)&&t.scheduleRender()},render:function(e){var t=this,n=e.instantSearchInstance;this.getResults()&&(o.forEach(function(e){e.getRenderState&&zt({renderState:e.getRenderState(n.renderState[t.getIndexId()]||{},Ho(n,t)),instantSearchInstance:n,parent:t})}),o.forEach(function(e){e.render&&e.render(Ho(n,t))}))},dispose:function(){var e=this;o.forEach(function(t){t.dispose&&t.dispose({helper:n,state:n.state,parent:e})}),d=i=null,n.removeAllListeners(),n=null,r.detach(),r=null},getWidgetUiState:function(t){return o.filter(Se).reduce(function(e,t){return t.getWidgetUiState(e)},e(e({},t),{},s({},c,e(e({},t[c]),a))))},getWidgetState:function(e){return this.getWidgetUiState(e)},getWidgetSearchParameters:function(e,t){return t=t.uiState,ht(o,{uiState:t,initialSearchParameters:e})},refreshUiState:function(){a=vt(o,{searchParameters:this.getHelper().state,helper:this.getHelper()},a)}}}function zt(t){var o=t.renderState,n=t.instantSearchInstance,t=t.parent,t=(t||n.mainIndex).getIndexId();n.renderState=e(e({},n.renderState),{},s({},t,e(e({},n.renderState[t]),o)))}function h(e){return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.descendantName,t=t.modifierName,n=n?"-".concat(n):"",t=t?"--".concat(t):"";return"".concat("ais","-").concat(e).concat(n).concat(t)}}Ao=h("Highlight");function xo(e){var s=e.attribute,n=e.highlightedTagName,n=void 0===n?"mark":n,t=e.hit,e=e.cssClasses,e=void 0===e?{}:e,t=(ie(t._highlightResult,s)||{}).value,s=void 0===t?"":t,t=Ao({descendantName:"highlighted"})+(e.highlighted?" ".concat(e.highlighted):"");return s.replace(new RegExp(_.highlightPreTag,"g"),"<".concat(n,' class="').concat(t,'">')).replace(new RegExp(_.highlightPostTag,"g"),"</".concat(n,">"))}Oo=h("ReverseHighlight");function so(e){var s=e.attribute,n=e.highlightedTagName,n=void 0===n?"mark":n,t=e.hit,e=e.cssClasses,e=void 0===e?{}:e,t=(ie(t._highlightResult,s)||{}).value,s=void 0===t?"":t,t=Oo({descendantName:"highlighted"})+(e.highlighted?" ".concat(e.highlighted):"");return Wo(Po(Me(s))).replace(new RegExp(_.highlightPreTag,"g"),"<".concat(n,' class="').concat(t,'">')).replace(new RegExp(_.highlightPostTag,"g"),"</".concat(n,">"))}Ks=h("Snippet");function Ws(e){var s=e.attribute,n=e.highlightedTagName,n=void 0===n?"mark":n,t=e.hit,e=e.cssClasses,e=void 0===e?{}:e,t=(ie(t._snippetResult,s)||{}).value,s=void 0===t?"":t,t=Ks({descendantName:"highlighted"})+(e.highlighted?" ".concat(e.highlighted):"");return s.replace(new RegExp(_.highlightPreTag,"g"),"<".concat(n,' class="').concat(t,'">')).replace(new RegExp(_.highlightPostTag,"g"),"</".concat(n,">"))}Is=h("ReverseSnippet");function Rs(e){var s=e.attribute,n=e.highlightedTagName,n=void 0===n?"mark":n,t=e.hit,e=e.cssClasses,e=void 0===e?{}:e,t=(ie(t._snippetResult,s)||{}).value,s=void 0===t?"":t,t=Is({descendantName:"highlighted"})+(e.highlighted?" ".concat(e.highlighted):"");return Wo(Po(Me(s))).replace(new RegExp(_.highlightPreTag,"g"),"<".concat(n,' class="').concat(t,'">')).replace(new RegExp(_.highlightPostTag,"g"),"</".concat(n,">"))}function Ns(e,t){var n,e={method:e,payload:t},t=e.method;if("object"!==B(e=e.payload))throw new Error("The insights helper expects the payload to be an object.");try{n=Yo(e)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(t,'" data-insights-payload="').concat(n,'"')}Ts="_ALGOLIA";function lr(){if(n=Ts,"object"===("undefined"==typeof document?"undefined":B(document))&&"string"==typeof document.cookie)for(var e,n,s="".concat(n,"="),o=document.cookie.split(";"),t=0;t<o.length;t++){for(e=o[t];" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(s))return e.substring(s.length,e.length)}}function te(e,t){return e.toLocaleString(t)}ks=["configure"];function Os(e){return e.configure,f(e,ks)}function js(){return{stateToRoute:function(t){return Object.keys(t).reduce(function(n,o){return e(e({},n),{},s({},o,Os(t[o])))},{})},routeToState:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).reduce(function(n,o){return e(e({},n),{},s({},o,Os(t[o])))},{})}}}function gs(e,t){for(var s=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(s[n]=e[n]);return s}function hs(e,t,n,s,o,i,a,r,c,l,d,u,h,m){if(f=e,"function"==typeof a?f=a(t,f):f instanceof Date?f=l(f):"comma"===n&&we(f)&&(f=Q.maybeMap(f,function(e){return e instanceof Date?l(e):e})),null===f){if(s)return i&&!h?i(t,O.encoder,m,"key",d):t;f=""}if(ec(f)||Q.isBuffer(f))return i?[u(h?t:i(t,O.encoder,m,"key",d))+"="+u(i(f,O.encoder,m,"value",d))]:[u(t)+"="+u(String(f))];if(b=[],void 0!==f){v="comma"===n&&we(f)?[{value:0<f.length?f.join(",")||null:void 0}]:we(a)?a:(e=Object.keys(f),r?e.sort(r):e);for(g=0;g<v.length;++g){var f,g,v,b,p=v[g],j="object"==typeof p&&void 0!==p.value?p.value:f[p];o&&null===j||(p=we(f)?"function"==typeof n?n(t,p):t:t+(c?"."+p:"["+p+"]"),ns(b,hs(j,p,n,s,o,i,a,r,c,l,d,u,h,m)))}}return b}function ds(e){e&&(window.document.title=e)}var Be,Te,jt,Ss,Qt,_,L,I,jn,Jo,ni,si,Ro,xe,Ao,Oo,Ks,Is,Ts,ks,N,Tn,On,wn,Lt,ko,Nt,zo,oi,ai,ci,di,ui,mi,pi,gi,bi,yi,ln,Bn,Hn,nt,Nr=String.prototype.replace,Lr=/%20/g,k="RFC3986",ye={default:k,formatters:{RFC1738:function(e){return Nr.call(e,Lr,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:k},nn=Object.prototype.hasOwnProperty,ve=Array.isArray,$=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Q={arrayToObject:gs,assign:function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var i=[{obj:{o:e},prop:"o"}],f=[],d=0;d<i.length;++d)for(var t,n,s,o,a,c,u,m=i[d],l=m.obj[m.prop],h=Object.keys(l),r=0;r<h.length;++r)c=h[r],t=l[c],"object"==typeof t&&null!==t&&-1===f.indexOf(t)&&(i.push({obj:l,prop:c}),f.push(t));for(a=i;1<a.length;)if(o=a.pop(),s=o.obj[o.prop],ve(s)){for(u=[],n=0;n<s.length;++n)void 0!==s[n]&&u.push(s[n]);o.obj[o.prop]=u}return e},decode:function(e,t,n){if(e=e.replace(/\+/g," "),"iso-8859-1"===n)return e.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(e)}catch{return e}},encode:function(e,t,n,s,o){if(0===e.length)return e;if(a=e,"symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===n)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var i,a,r="",c=0;c<a.length;++c)i=a.charCodeAt(c),45===i||46===i||95===i||126===i||48<=i&&i<=57||65<=i&&i<=90||97<=i&&i<=122||o===ye.RFC1738&&(40===i||41===i)?r+=a.charAt(c):i<128?r+=$[i]:i<2048?r+=$[192|i>>6]+$[128|63&i]:i<55296||57344<=i?r+=$[224|i>>12]+$[128|i>>6&63]+$[128|63&i]:(c+=1,i=65536+((1023&i)<<10|1023&a.charCodeAt(c)),r+=$[240|i>>18]+$[128|i>>12&63]+$[128|i>>6&63]+$[128|63&i]);return r},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(ve(e)){for(var s=[],n=0;n<e.length;n+=1)s.push(t(e[n]));return s}return t(e)},merge:function e(t,n,s){if(!n)return t;if("object"!=typeof n){if(ve(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(s&&(s.plainObjects||s.allowPrototypes)||!nn.call(Object.prototype,n))&&(t[n]=!0)}return t}var o;return t&&"object"==typeof t?(ve(o=t)&&!ve(n)&&(o=gs(t,s)),ve(t)&&ve(n)?(n.forEach(function(n,o){var i;nn.call(t,o)?(i=t[o])&&"object"==typeof i&&n&&"object"==typeof n?t[o]=e(i,n,s):t.push(n):t[o]=n}),t):Object.keys(n).reduce(function(t,o){var i=n[o];return nn.call(t,o)?t[o]=e(t[o],i,s):t[o]=i,t},o)):[t].concat(n)}},Rr=Object.prototype.hasOwnProperty,is={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},we=Array.isArray,Pr=Array.prototype.push,ns=function(e,t){Pr.apply(e,we(t)?t:[t])},Wr=Date.prototype.toISOString,D=ye.default,O={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Q.encode,encodeValuesOnly:!1,format:D,formatter:ye.formatters[D],indices:!1,serializeDate:function(e){return Wr.call(e)},skipNulls:!1,strictNullHandling:!1},ec=function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e},pn=Object.prototype.hasOwnProperty,sc=Array.isArray,w={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Q.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},hc=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},qn=function(e,t){return e&&"string"==typeof e&&t.comma&&-1<e.indexOf(",")?e.split(","):e},Mc="utf8=%26%2310003%3B",zc="utf8=%E2%9C%93",Nc=function(e,t,n,s){for(var o,a,r,c,i=s?t:qn(t,n),l=e.length-1;0<=l;--l)o=e[l],"[]"===o&&n.parseArrays?a=[].concat(i):(a=n.plainObjects?Object.create(null):{},r="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,c=parseInt(r,10),n.parseArrays||""!==r?!isNaN(c)&&o!==r&&String(c)===r&&0<=c&&n.parseArrays&&c<=n.arrayLimit?(a=[])[c]=i:a[r]=i:a={0:i}),i=a;return i},zn={formats:ye,parse:function(e,t){if(n=function(e){if(!e)return w;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=(void 0===e.charset?w:e).charset;return{allowDots:void 0===e.allowDots?w.allowDots:!!e.allowDots,allowPrototypes:("boolean"==typeof e.allowPrototypes?e:w).allowPrototypes,arrayLimit:("number"==typeof e.arrayLimit?e:w).arrayLimit,charset:t,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:w).charsetSentinel,comma:("boolean"==typeof e.comma?e:w).comma,decoder:("function"==typeof e.decoder?e:w).decoder,delimiter:("string"==typeof e.delimiter||Q.isRegExp(e.delimiter)?e:w).delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:w.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:("boolean"==typeof e.interpretNumericEntities?e:w).interpretNumericEntities,parameterLimit:("number"==typeof e.parameterLimit?e:w).parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:("boolean"==typeof e.plainObjects?e:w).plainObjects,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:w).strictNullHandling}}(t),""===e||e==null)return n.plainObjects?Object.create(null):{};for(var n,a="string"==typeof e?function(e,t){var n,s,i,a,c={},e=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,d=t.parameterLimit===1/0?void 0:t.parameterLimit,o=e.split(t.delimiter,d),l=-1,r=t.charset;if(t.charsetSentinel)for(s=0;s<o.length;++s)0===o[s].indexOf("utf8=")&&(o[s]===zc?r="utf-8":o[s]===Mc&&(r="iso-8859-1"),l=s,s=o.length);for(s=0;s<o.length;++s)s!==l&&((n=-1===(n=-1===(n=(i=o[s]).indexOf("]="))?i.indexOf("="):n+1)?(a=t.decoder(i,w.decoder,r,"key"),t.strictNullHandling?null:""):(a=t.decoder(i.slice(0,n),w.decoder,r,"key"),Q.maybeMap(qn(i.slice(n+1),t),function(e){return t.decoder(e,w.decoder,r,"value")})))&&t.interpretNumericEntities&&"iso-8859-1"===r&&(n=hc(n)),-1<i.indexOf("[]=")&&(n=sc(n)?[n]:n),pn.call(c,a)?c[a]=Q.combine(c[a],n):c[a]=n);return c}(e,n):e,o=n.plainObjects?Object.create(null):{},r=Object.keys(a),i=0;i<r.length;++i)var s=r[i],s=function(e,t,n,s){if(e){var r,i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,c=/(\[[^[\]]*])/g,o=0<n.depth&&/(\[[^[\]]*])/.exec(i),e=o?i.slice(0,o.index):i,a=[];if(e){if(!n.plainObjects&&pn.call(Object.prototype,e)&&!n.allowPrototypes)return;a.push(e)}for(r=0;0<n.depth&&null!==(o=c.exec(i))&&r<n.depth;){if(r+=1,!n.plainObjects&&pn.call(Object.prototype,o[1].slice(1,-1))&&!n.allowPrototypes)return;a.push(o[1])}return o&&a.push("["+i.slice(o.index)+"]"),Nc(a,t,n,s)}}(s,a[s],n,"string"==typeof e),o=Q.merge(o,s,n);return Q.compact(o)},stringify:function(e,t){var i,a,s=e,n=function(e){if(!e)return O;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");if(n=e.charset||O.charset,void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(t=ye.default,void 0!==e.format){if(!Rr.call(ye.formatters,e.format))throw new TypeError("Unknown format option provided.");t=e.format}var t,n,o=ye.formatters[t],s=O.filter;return"function"!=typeof e.filter&&!we(e.filter)||(s=e.filter),{addQueryPrefix:("boolean"==typeof e.addQueryPrefix?e:O).addQueryPrefix,allowDots:void 0===e.allowDots?O.allowDots:!!e.allowDots,charset:n,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:O).charsetSentinel,delimiter:(void 0===e.delimiter?O:e).delimiter,encode:("boolean"==typeof e.encode?e:O).encode,encoder:("function"==typeof e.encoder?e:O).encoder,encodeValuesOnly:("boolean"==typeof e.encodeValuesOnly?e:O).encodeValuesOnly,filter:s,format:t,formatter:o,serializeDate:("function"==typeof e.serializeDate?e:O).serializeDate,skipNulls:("boolean"==typeof e.skipNulls?e:O).skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:O).strictNullHandling}}(t),r=("function"==typeof n.filter?s=(0,n.filter)("",s):we(n.filter)&&(o=n.filter),[]);if("object"!=typeof s||null===s)return"";var e=t&&t.arrayFormat in is?t.arrayFormat:!(t&&"indices"in t)||t.indices?"indices":"repeat",c=is[e],o=o||Object.keys(s);n.sort&&o.sort(n.sort);for(i=0;i<o.length;++i)a=o[i],n.skipNulls&&null===s[a]||ns(r,hs(s[a],a,c,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset));return t=r.join(n.delimiter),e=!0===n.addQueryPrefix?"?":"",n.charsetSentinel&&("iso-8859-1"===n.charset?e+="utf8=%26%2310003%3B&":e+="utf8=%E2%9C%93&"),0<t.length?e+t:""}},Rc=function(){function e(t){var n=this,i=t.windowTitle,o=t.writeDelay,o=void 0===o?400:o,a=t.createURL,r=t.parseURL,t=t.getLocation;K(this,e),s(this,"windowTitle",void 0),s(this,"writeDelay",void 0),s(this,"_createURL",void 0),s(this,"parseURL",void 0),s(this,"getLocation",void 0),s(this,"writeTimer",void 0),s(this,"inPopState",!1),s(this,"isDisposed",!1),s(this,"latestAcknowledgedHistory",0),this.windowTitle=i,this.writeTimer=void 0,this.writeDelay=o,this._createURL=a,this.parseURL=r,this.getLocation=t,Y(function(e){var e=e.window,t=n.windowTitle&&n.windowTitle(n.read());ds(t),n.latestAcknowledgedHistory=e.history.length})}return W(e,[{key:"read",value:function(){return this.parseURL({qsModule:zn,location:this.getLocation()})}},{key:"write",value:function(e){var t=this;Y(function(n){var s=n.window,o=t.createURL(e),i=t.windowTitle&&t.windowTitle(e);t.writeTimer&&clearTimeout(t.writeTimer),t.writeTimer=setTimeout(function(){ds(i),t.shouldWrite(o)&&(s.history.pushState(e,i||"",o),t.latestAcknowledgedHistory=s.history.length),t.inPopState=!1,t.writeTimer=void 0},t.writeDelay)})}},{key:"onUpdate",value:function(e){var t=this;this._onPopState=function(){t.writeTimer&&(clearTimeout(t.writeTimer),t.writeTimer=void 0),t.inPopState=!0,e(t.read())},Y(function(e){e.window.addEventListener("popstate",t._onPopState)})}},{key:"createURL",value:function(e){return this._createURL({qsModule:zn,routeState:e,location:this.getLocation()})}},{key:"dispose",value:function(){var e=this;this.isDisposed=!0,Y(function(t){t=t.window,e._onPopState&&t.removeEventListener("popstate",e._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this.write({})}},{key:"shouldWrite",value:function(e){var t=this;return Y(function(n){var n=n.window,s=!t.isDisposed||t.latestAcknowledgedHistory===n.history.length;return!t.inPopState&&s&&e!==n.location.href})}}]),e}();function to(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.createURL,n=e.parseURL,s=e.writeDelay,o=e.windowTitle,e=e.getLocation;return new Rc({createURL:void 0===t?function(e){var n=e.qsModule,s=e.routeState,e=e.location,o=e.protocol,i=e.hostname,t=e.port,t=void 0===t?"":t,a=e.pathname,e=e.hash,n=n.stringify(s),s=""===t?"":":".concat(t);return(n?"".concat(o,"//").concat(i).concat(s).concat(a,"?").concat(n):"".concat(o,"//").concat(i).concat(s).concat(a)).concat(e)}:t,parseURL:void 0===n?function(e){var t=e.qsModule,e=e.location;return t.parse(e.search.slice(1),{arrayLimit:99})}:n,writeDelay:void 0===s?400:s,windowTitle:o,getLocation:void 0===e?function(){return Y(function(e){return e.window.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:e})}function En(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=i.router,t=void 0===n?to():n,o=void 0===(n=i.stateMapping)?js():n;return function(n){i=n.instantSearchInstance,i._createURL=function(n){var a=Object.keys(n).reduce(function(t,o){return e(e({},t),{},s({},o,n[o]))},i.mainIndex.getWidgetUiState({})),a=o.stateToRoute(a);return t.createURL(a)};var i,a=void 0,r=i._initialUiState;return{onStateChange:function(e){e=e.uiState,e=o.stateToRoute(e),void 0!==a&&he(a,e)||(t.write(e),a=e)},subscribe:function(){i._initialUiState=e(e({},r),o.routeToState(t.read())),t.onUpdate(function(e){i.setUiState(o.routeToState(e))})},started:function(){},unsubscribe:function(){t.dispose()}}}}function kn(){return Y(function(e){return-1<(null==(e=e.window.navigator)||null==(e=e.userAgent)?void 0:e.indexOf("Algolia Crawler"))},{fallback:function(){return!1}})}function An(){return function(e){var n=e.instantSearchInstance,s={widgets:[]},t=document.createElement("meta"),o=document.querySelector("head");return t.name="instantsearch:widgets",{onStateChange:function(){},subscribe:function(){setTimeout(function(){var e=n.client;s.ua=e.transporter&&e.transporter.userAgent?e.transporter.userAgent.value:e._ua,function e(t,n,s){var o=De(n,n.mainIndex,n._initialUiState);t.forEach(function(t){var a={},i=(t.getWidgetRenderState&&(i=t.getWidgetRenderState(o))&&i.widgetParams&&(a=i.widgetParams),Object.keys(a).filter(function(e){return void 0!==a[e]}));s.widgets.push({type:t.$$type,widgetType:t.$$widgetType,params:i}),"ais.index"===t.$$type&&e(t.getWidgets(),n,s)})}(n.mainIndex.getWidgets(),n,s),t.content=JSON.stringify(s),o.appendChild(t)},0)},started:function(){},unsubscribe:function(){t.remove()}}}}N=a({name:"instantsearch"});function Lc(){return"#"}function Fn(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return v(t,On()),function(s){var o,a=s||{},i=a.includedAttributes,r=void 0===i?[]:i,i=a.excludedAttributes,l=void 0===i?["query"]:i,i=a.transformItems,d=void 0===i?function(e){return e}:i;if(s&&s.includedAttributes&&s.excludedAttributes)throw new Error(On("The options `includedAttributes` and `excludedAttributes` cannot be used together."));function u(){return o.refine()}function h(){return o.createURL()}return o={refine:c,createURL:function(){return""},attributesToClear:[]},{$$type:"ais.clearRefinements",init:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!0)},render:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!1)},dispose:function(){n()},getRenderState:function(t,n){return e(e({},t),{},{clearRefinements:this.getWidgetRenderState(n)})},getWidgetRenderState:function(e){var t=e.createURL,n=e.scopedResults,i=e.results,e=(o.attributesToClear=n.reduce(function(e,t){return e.concat((t=(e={scopedResult:t,includedAttributes:r,excludedAttributes:l,transformItems:d,results:i}).scopedResult,n=e.includedAttributes,s=e.excludedAttributes,a=e.transformItems,e=e.results,o=-1!==n.indexOf("query")||-1===s.indexOf("query"),{helper:t.helper,items:a(rt(on(t.results,t.helper.state,o).map(function(e){return e.attribute}).filter(function(e){return 0===n.length||-1!==n.indexOf(e)}).filter(function(e){return"query"===e&&o||-1===s.indexOf(e)})),{results:e})}));var n,s,o,a},[]),o.refine=function(){o.attributesToClear.forEach(function(e){var t=e.helper,e=e.items;t.setState(Ys({helper:t,attributesToClear:e})).search()})},o.createURL=function(){return t(Ne.apply(void 0,j(o.attributesToClear.map(function(e){return Ys({helper:e.helper,attributesToClear:e.items})}))))},o.attributesToClear.some(function(e){return 0<e.items.length}));return{canRefine:e,hasRefinements:e,refine:u,createURL:h,widgetParams:s}}}}}Tn=function(){ge(t,jt);var n=ce(t);function t(i){K(this,t),s(o(a=n.call(this)),"client",void 0),s(o(a),"indexName",void 0),s(o(a),"insightsClient",void 0),s(o(a),"onStateChange",null),s(o(a),"helper",void 0),s(o(a),"mainHelper",void 0),s(o(a),"mainIndex",void 0),s(o(a),"started",void 0),s(o(a),"templatesConfig",void 0),s(o(a),"renderState",{}),s(o(a),"_stalledSearchDelay",void 0),s(o(a),"_searchStalledTimer",void 0),s(o(a),"_initialUiState",void 0),s(o(a),"_initialResults",void 0),s(o(a),"_createURL",void 0),s(o(a),"_searchFunction",void 0),s(o(a),"_mainHelperSearch",void 0),s(o(a),"middleware",[]),s(o(a),"sendEventToInsights",void 0),s(o(a),"status","idle"),s(o(a),"error",void 0),s(o(a),"scheduleSearch",Ve(function(){a.started&&a.mainHelper.search()})),s(o(a),"scheduleRender",Ve(function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];a.mainHelper.hasPendingRequests()||(clearTimeout(a._searchStalledTimer),a._searchStalledTimer=null,e&&(a.status="idle",a.error=void 0)),a.mainIndex.render({instantSearchInstance:o(a)}),a.emit("render")})),s(o(a),"onInternalStateChange",Ve(function(){var e=a.mainIndex.getWidgetUiState({});a.middleware.forEach(function(t){t.instance.onStateChange({uiState:e})})})),a.setMaxListeners(100);var a,f,l=i.indexName,l=void 0===l?null:l,g=i.numberLocale,h=i.initialUiState,h=void 0===h?{}:h,d=i.routing,d=void 0===d?null:d,p=i.searchFunction,m=i.stalledSearchDelay,m=void 0===m?200:m,r=i.searchClient,r=void 0===r?null:r,u=i.insightsClient,u=void 0===u?null:u,i=i.onStateChange,i=void 0===i?null:i;if(null===l)throw new Error(N("The `indexName` option is required."));if(null===r)throw new Error(N("The `searchClient` option is required."));if("function"!=typeof r.search)throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if("function"==typeof r.addAlgoliaAgent&&r.addAlgoliaAgent("instantsearch.js (".concat("4.49.3",")")),u&&"function"!=typeof u)throw new Error(N("The `insightsClient` option should be a function."));return a.client=r,a.insightsClient=u,a.indexName=l,a.helper=null,a.mainHelper=null,a.mainIndex=Mo({indexName:l}),a.onStateChange=i,a.started=!1,a.templatesConfig={helpers:(f={numberLocale:g}.numberLocale,{formatNumber:function(e,t){return te(Number(t(e)),f)},highlight:function(t,n){try{return n(xo(e(e({},JSON.parse(t)),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(t,n){try{return n(so(e(e({},JSON.parse(t)),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(t,n){try{return n(Ws(e(e({},JSON.parse(t)),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(t,n){try{return n(Rs(e(e({},JSON.parse(t)),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(t,n){try{var s=JSON.parse(t),o=s.method,i=s.payload;return n(Ns(o,e({objectIDs:[this.objectID]},i)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}),compileOptions:{}},a._stalledSearchDelay=m,a._searchStalledTimer=null,a._createURL=Lc,a._initialUiState=h,a._initialResults=null,p&&(a._searchFunction=p),a.sendEventToInsights=c,d&&a.use(En("boolean"==typeof d?void 0:d)),kn()&&a.use(An()),a}return W(t,[{key:"_isSearchStalled",get:function(){return"stalled"===this.status}},{key:"use",value:function(){for(var i,n=this,s=arguments.length,o=new Array(s),t=0;t<s;t++)o[t]=arguments[t];return i=o.map(function(t){var s=e({subscribe:c,started:c,unsubscribe:c,onStateChange:c},t({instantSearchInstance:n}));return n.middleware.push({creator:t,instance:s}),s}),this.started&&i.forEach(function(e){e.subscribe(),e.started()}),this}},{key:"unuse",value:function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return this.middleware.filter(function(e){return t.includes(e.creator)}).forEach(function(e){return e.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(e){return!t.includes(e.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(e){return this.addWidgets([e])}},{key:"addWidgets",value:function(e){if(!Array.isArray(e))throw new Error(N("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(e.some(function(e){return"function"!=typeof e.init&&"function"!=typeof e.render}))throw new Error(N("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(e),this}},{key:"removeWidget",value:function(e){return this.removeWidgets([e])}},{key:"removeWidgets",value:function(e){if(!Array.isArray(e))throw new Error(N("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(e.some(function(e){return"function"!=typeof e.dispose}))throw new Error(N("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(e),this}},{key:"start",value:function(){var t,n,s,e=this;if(this.started)throw new Error(N("The `start` method has already been called once."));t=this.mainHelper||L(this.client,this.indexName),t.search=function(){return e.status="loading",e.emit("render"),t.searchOnlyWithDerivedHelpers()},this._searchFunction&&(n={search:function(){return new Promise(c)}},this._mainHelperSearch=t.search.bind(t),t.search=function(){var s=e.mainIndex.getHelper(),o=L(n,s.state.index,s.state);return o.once("search",function(t){t=t.state,s.overrideStateWithoutTriggeringChangeEvent(t),e._mainHelperSearch()}),o.on("change",function(e){e=e.state,s.setState(e)}),e._searchFunction(o),t}),t.on("error",function(t){var n,t=t.error;t instanceof Error||(n=t,t=Object.keys(n).reduce(function(e,t){return e[t]=n[t],e},new Error(n.message))),t.error=t,e.error=t,e.status="error",e.scheduleRender(!1),e.emit("error",t)}),this.mainHelper=t,this.middleware.forEach(function(e){e.instance.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults?(s=this.scheduleSearch,this.scheduleSearch=Ve(c),Ve(function(){e.scheduleSearch=s})()):0<this.mainIndex.getWidgets().length&&this.scheduleSearch(),this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(e){e.instance.started()})}},{key:"dispose",value:function(){this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),this.mainHelper.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(e){e.instance.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var e=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){e.status="stalled",e.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(e){var t,n=this,s=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!this.mainHelper)throw new Error(N("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState(),t="function"==typeof e?e(this.mainIndex.getWidgetUiState({})):e,this.onStateChange&&s?this.onStateChange({uiState:t,setUiState:function(e){bn("function"==typeof e?e(t):e,n.mainIndex),n.scheduleSearch(),n.onInternalStateChange()}}):(bn(t,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){if(this.started)return this._createURL(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});throw new Error(N("The `start` method needs to be called before `createURL`."))}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(N("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),t}(),On=a({name:"clear-refinements",connector:!0});function Dn(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return v(t,wn()),function(s){if((s||{}).includedAttributes&&(s||{}).excludedAttributes)throw new Error(wn("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var i=s||{},a=i.includedAttributes,o=i.excludedAttributes,r=void 0===o?["query"]:o,o=i.transformItems,c=void 0===o?function(e){return e}:o;return{$$type:"ais.currentRefinements",init:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!0)},render:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!1)},dispose:function(){n()},getRenderState:function(t,n){return e(e({},t),{},{currentRefinements:this.getWidgetRenderState(n)})},getWidgetRenderState:function(e){var t=e.results,o=e.scopedResults,i=e.createURL,n=e.helper;return e=t?o.reduce(function(e,n){return e.concat(c(Ln({results:n.results,helper:n.helper,includedAttributes:a,excludedAttributes:r}),{results:t}))},[]):c(Ln({results:{},helper:n,includedAttributes:a,excludedAttributes:r}),{results:t}),{items:e,canRefine:0<e.length,refine:function(e){return Pn(n,e)},createURL:function(e){return i(Rn(n.state,e))},widgetParams:s}}}}}wn=a({name:"current-refinements",connector:!0});function Ln(e){var i=e.results,t=e.helper,n=e.includedAttributes,s=e.excludedAttributes,e=-1!==(n||[]).indexOf("query")||-1===(s||[]).indexOf("query"),a=n?function(e){return-1!==n.indexOf(e.attribute)}:function(e){return-1===s.indexOf(e.attribute)},o=on(i,t.state,e).map(Dc).filter(a);return o.reduce(function(e,n){return[].concat(j(e.filter(function(e){return e.attribute!==n.attribute})),[{indexName:t.state.index,attribute:n.attribute,label:n.attribute,refinements:o.filter(function(e){return e.attribute===n.attribute}).sort(function(e,t){return"numeric"===e.type?e.value-t.value:0}),refine:function(e){return Pn(t,e)}}])},[])}function Rn(e,t){switch(e=e.resetPage(),t.type){case"facet":return e.removeFacetRefinement(t.attribute,String(t.value));case"disjunctive":return e.removeDisjunctiveFacetRefinement(t.attribute,String(t.value));case"hierarchical":return e.removeHierarchicalFacetRefinement(t.attribute);case"exclude":return e.removeExcludeRefinement(t.attribute,String(t.value));case"numeric":return e.removeNumericRefinement(t.attribute,t.operator,String(t.value));case"tag":return e.removeTagRefinement(String(t.value));case"query":return e.setQueryParameter("query","");default:return e}}function Pn(e,t){e.setState(Rn(e.state,t)).search()}function Dc(e){var t=function(e){return"numeric"===e.type?Number(e.name):"escapedValue"in e?e.escapedValue:e.name}(e),n=e.operator?"".concat(function(e){switch(e){case">=":return"â¥";case"<=":return"â¤";default:return e}}(e.operator)," ").concat(e.name):e.name,t={attribute:e.attribute,type:e.type,value:t,label:n};return void 0!==e.operator&&(t.operator=e.operator),void 0!==e.count&&(t.count=e.count),void 0!==e.exhaustive&&(t.exhaustive=e.exhaustive),t}function In(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return v(t,yn()),function(o){var a,l,d,h,b,r=o||{},c=r.attributes,i=r.separator,j=void 0===i?" > ":i,i=r.rootPath,x=void 0===i?null:i,i=r.showParentLevel,w=void 0===i||i,i=r.limit,v=void 0===i?10:i,i=r.showMore,p=void 0!==i&&i,i=r.showMoreLimit,m=void 0===i?20:i,i=r.sortBy,y=void 0===i?Wn:i,i=r.transformItems,_=void 0===i?function(e){return e}:i;if(!c||!Array.isArray(c)||0===c.length)throw new Error(yn("The `attributes` option expects an array of strings."));if(!0===p&&m<=v)throw new Error(yn("The `showMoreLimit` option must be greater than `limit`."));a=g(c,1)[0],b=function(){};function O(){b()}l=!1;function u(){return l?m:v}return{$$type:"ais.hierarchicalMenu",init:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!0)},render:function(n){var s,i=n.instantSearchInstance,o=n;b=function(){l=!l,s.render(o)},t(e(e({},(s=this).getWidgetRenderState(n)),{},{instantSearchInstance:i}),!1)},dispose:function(e){return e=e.state,n(),e.removeHierarchicalFacet(a).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(t,n){return e(e({},t),{},{hierarchicalMenu:e(e({},t.hierarchicalMenu),{},s({},a,this.getWidgetRenderState(n)))})},getWidgetRenderState:function(t){var i,s=t.results,r=t.state,v=t.createURL,n=t.instantSearchInstance,m=t.helper,t=[],g=!1;return d=d||en({instantSearchInstance:n,helper:m,attribute:function(e){return e=e.split(j).length-1,c[e]},widgetType:this.$$type}),h=h||function(e){d("click",e),m.toggleFacetRefinement(a,e).search()},s&&(n=(n=s.getFacetValues(a,{sortBy:y,facetOrdering:y===Wn}))&&!Array.isArray(n)&&n.data?n.data:[],i=(r.maxValuesPerFacet||0)>u()?n.length<=u():n.length<u(),g=p&&(l||!i),t=_(function t(n){return n.slice(0,u()).map(function(n){var o=n.name,i=n.escapedValue,s=n.data,n=(n.path,e(e({},f(n,Tc)),{},{value:i,label:o,data:null}));return Array.isArray(s)&&(n.data=t(s)),n})}(n),{results:s})),{items:t,refine:h,canRefine:0<t.length,createURL:function(e){return v(r.resetPage().toggleFacetRefinement(a,e))},sendEvent:d,widgetParams:o,isShowingMore:l,toggleShowMore:O,canToggleShowMore:g}},getWidgetUiState:function(t,n){return n=n.searchParameters.getHierarchicalFacetBreadcrumb(a),n.length?e(e({},t),{},{hierarchicalMenu:e(e({},t.hierarchicalMenu),{},s({},a,n))}):t},getWidgetSearchParameters:function(t,n){var n=n.uiState,n=n.hierarchicalMenu&&n.hierarchicalMenu[a],t=(t.isHierarchicalFacet(a)&&t.getHierarchicalFacetByName(a),t.removeHierarchicalFacet(a).addHierarchicalFacet({name:a,attributes:c,separator:j,rootPath:x,showParentLevel:w})),o=t.maxValuesPerFacet||0,o=Math.max(o,p?m:v),t=t.setQueryParameter("maxValuesPerFacet",o);return n?t.addHierarchicalFacetRefinement(a,n.join(j)):t.setQueryParameters({hierarchicalFacetsRefinements:e(e({},t.hierarchicalFacetsRefinements),{},s({},a,[]))})}}}}function _n(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return v(t,wc()),function(o){var a,r,l=o||{},i=l.escapeHTML,c=void 0===i||i,i=l.transformItems,d=void 0===i?function(e){return e}:i;return{$$type:"ais.hits",init:function(n){t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:n.instantSearchInstance}),!0)},render:function(n){var s=this.getWidgetRenderState(n);t(e(e({},s),{},{instantSearchInstance:n.instantSearchInstance}),!1),s.sendEvent("view",s.hits)},getRenderState:function(t,n){return e(e({},t),{},{hits:this.getWidgetRenderState(n)})},getWidgetRenderState:function(e){var t=e.results,n=e.helper,e=e.instantSearchInstance;return a=a||bt({instantSearchInstance:e,index:n.getIndex(),widgetType:this.$$type}),r=r||Qo({index:n.getIndex(),widgetType:this.$$type}),t?(c&&0<t.hits.length&&(t.hits=gt(t.hits)),e=Zt(Ot(t.hits,t.page,t.hitsPerPage),t.queryID),{hits:d(e,{results:t}),results:t,sendEvent:a,bindEvent:r,widgetParams:o}):{hits:[],results:void 0,sendEvent:a,bindEvent:r,widgetParams:o}},dispose:function(t){return t=t.state,n(),c?t.setQueryParameters(Object.keys(I).reduce(function(t,n){return e(e({},t),{},s({},n,void 0))},{})):t},getWidgetSearchParameters:function(e){return c?e.setQueryParameters(I):e}}}}var Tc=["name","escapedValue","data","path"],yn=a({name:"hierarchical-menu",connector:!0}),Wn=["name:asc"],wc=a({name:"hits",connector:!0}),gc=function(e){var n,s=e.method,r=e.results,c=e.hits,t=e.objectIDs,o=r.index,i=(n=c,t.map(function(e){var t=U(n,function(t){return t.objectID===e});if(void 0===t)throw new Error('Could not find objectID "'.concat(e,'" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.'));return t})),a=function(e){if(e=rt(e.map(function(e){return e.__queryID})),1<e.length)throw new Error("Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.");if(e=e[0],"string"!=typeof e)throw new Error("Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\n\nSee: https://alg.li/lNiZZ7");return e}(i);switch(s){case"clickedObjectIDsAfterSearch":return{index:o,queryID:a,objectIDs:t,positions:i.map(function(e){return e.__position})};case"convertedObjectIDsAfterSearch":return{index:o,queryID:a,objectIDs:t};default:throw new Error('Unsupported method passed to insights: "'.concat(s,'".'))}};function yt(t){return function(n,s){return t(function(t,s){var i,r,c,l=t.results,d=t.hits,o=t.instantSearchInstance;return l&&d&&o?(i=o.insightsClient,r=l,c=d,o=function(t){for(var s,o,l=arguments.length,d=new Array(1<l?l-1:0),n=1;n<l;n++)d[n-1]=arguments[n];if(s=d[0],!i)throw o=a({name:"instantsearch"}),new Error(o("The `insightsClient` option has not been provided to `instantsearch`."));if(!Array.isArray(s.objectIDs))throw new TypeError("Expected `objectIDs` to be an array.");o=gc({method:t,results:r,hits:c,objectIDs:s.objectIDs}),i(t,e(e({},o),s))},n(e(e({},t),{},{insights:o}),s)):n(t,s)},s)}}var lt,l,Xn,Ue,Zn,Ge={},es=[],Br=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function re(e,t){for(var n in t)e[n]=t[n];return e}function ss(e){var t=e.parentNode;t&&t.removeChild(e)}function n(e,t,n){var s,i,a,o={};for(s in t)"key"==s?i=t[s]:"ref"==s?a=t[s]:o[s]=t[s];if(2<arguments.length&&(o.children=3<arguments.length?lt.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(s in e.defaultProps)void 0===o[s]&&(o[s]=e.defaultProps[s]);return Ze(e,o,i,a,null)}function Ze(e,t,n,s,o){return e={type:e,props:t,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o??++Xn},o==null&&null!=l.vnode&&l.vnode(e),e}function rn(){return{current:null}}function J(e){return e.children}function V(e,t){this.props=e,this.context=t}function Ce(e,t){if(t==null)return e.__?Ce(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?Ce(e):null}function us(e){(e.__d||(e.__d=!0,!Ue.push(e))||it.__r++)&&Zn===l.debounceRendering||((Zn=l.debounceRendering)||setTimeout)(it)}function it(){for(var e;it.__r=Ue.length;)e=Ue.sort(function(e,t){return e.__v.__b-t.__v.__b}),Ue=[],e.some(function(e){var t,n,s,o,i;e.__d&&(n=(t=(e=e).__v).__e,o=e.__P)&&(s=[],(i=re({},t)).__v=t.__v+1,Gt(o,t,i,e.__n,void 0!==o.ownerSVGElement,null!=t.__h?[n]:null,s,n??Ce(t),t.__h),ys(s,t),t.__e!=n)&&function e(t){var n,s;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if(null!=(s=t.__k[n])&&null!=s.__e){t.__e=t.__c.base=s.__e;break}return e(t)}}(t)})}function ms(e,t,n,s,o,i,a,r,c,d){var u,h,m,p,g,v,b,f=s&&s.__k||es,j=f.length;for(n.__k=[],h=0;h<t.length;h++)if(null!=(u=n.__k[h]=null==(u=t[h])||"boolean"==typeof u?null:"string"==typeof u||"number"==typeof u||"bigint"==typeof u?Ze(null,u,null,null,u):Array.isArray(u)?Ze(J,{children:u},null,null,null):0<u.__b?Ze(u.type,u.props,u.key,u.ref||null,u.__v):u)){if(u.__=n,u.__b=n.__b+1,null===(m=f[h])||m&&u.key==m.key&&u.type===m.type)f[h]=void 0;else for(g=0;g<j;g++){if((m=f[g])&&u.key==m.key&&u.type===m.type){f[g]=void 0;break}m=null}Gt(e,u,m=m||Ge,o,i,a,r,c,d),v=u.__e,(g=u.ref)&&m.ref!=g&&(p=p||[],m.ref&&p.push(m.ref,null,u),p.push(g,u.__c||v,u)),v!=null?(b==null&&(b=v),"function"==typeof u.type&&u.__k===m.__k?u.__d=c=function e(t,n,s){for(var o,i=t.__k,a=0;i&&a<i.length;a++)(o=i[a])&&(o.__=t,n="function"==typeof o.type?e(o,n,s):fs(s,o,o,i,o.__e,n));return n}(u,c,e):c=fs(e,u,m,f,v,c),"function"==typeof n.type&&(n.__d=c)):c&&m.__e==c&&c.parentNode!=e&&(c=Ce(m))}for(n.__e=b,h=j;h--;)null!=f[h]&&("function"==typeof n.type&&null!=f[h].__e&&f[h].__e==n.__d&&(n.__d=Ce(s,h+1)),function e(t,n,s){var o,i;if(l.unmount&&l.unmount(t),!(o=t.ref)||o.current&&o.current!==t.__e||_s(o,null,n),null!=(o=t.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){l.__e(e,n)}o.base=o.__P=null,t.__c=void 0}if(o=t.__k)for(i=0;i<o.length;i++)o[i]&&e(o[i],n,"function"!=typeof t.type);s||null==t.__e||ss(t.__e),t.__=t.__e=t.__d=void 0}(f[h],f[h]));if(p)for(h=0;h<p.length;h++)_s(p[h],p[++h],p[++h])}function fs(e,t,n,s,o,i){var a,r,c;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(n==null||o!=i||null==o.parentNode)e:if(i==null||i.parentNode!==e)e.appendChild(o),a=null;else{for(r=i,c=0;(r=r.nextSibling)&&c<s.length;c+=2)if(r==o)break e;e.insertBefore(o,i),a=i}return void 0!==a?a:o.nextSibling}function ps(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=n==null?"":"number"!=typeof n||Br.test(t)?n:n+"px"}function at(e,t,n,s,o){var i;e:if("style"===t){if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof s&&(e.style.cssText=s=""),s)for(t in s)n&&t in n||ps(e.style,t,"");if(n)for(t in n)s&&n[t]===s[t]||ps(e.style,t,n[t])}}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=(t.toLowerCase()in e?t.toLowerCase():t).slice(2),e.l||(e.l={}),(e.l[t+i]=n)?s||e.addEventListener(t,i?bs:vs,i):e.removeEventListener(t,i?bs:vs,i);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=n??"";break e}catch{}"function"!=typeof n&&(n!=null&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function vs(e){this.l[e.type+!1](l.event?l.event(e):e)}function bs(e){this.l[e.type+!0](l.event?l.event(e):e)}function Gt(e,t,n,s,o,i,a,r,c){var d,u,m,f,p,g,v,b,j,y,_,w,O,h=t.type;if(void 0===t.constructor){null!=n.__h&&(c=n.__h,r=t.__e=n.__e,t.__h=null,i=[r]),(u=l.__b)&&u(t);try{e:if("function"==typeof h){if(m=t.props,g=(u=h.contextType)&&s[u.__c],f=u?g?g.props.value:u.__:s,n.__c?_=(d=t.__c=n.__c).__=d.__E:("prototype"in h&&h.prototype.render?t.__c=d=new h(m,f):(t.__c=d=new V(m,f),d.constructor=h,d.render=Dr),g&&g.sub(d),d.props=m,d.state||(d.state={}),d.context=f,d.__n=s,y=d.__d=!0,d.__h=[]),null==d.__s&&(d.__s=d.state),null!=h.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=re({},d.__s)),re(d.__s,h.getDerivedStateFromProps(m,d.__s))),v=d.props,j=d.state,y)null==h.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==h.getDerivedStateFromProps&&m!==v&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(m,f),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(m,d.__s,f)||t.__v===n.__v){d.props=m,d.state=d.__s,t.__v!==n.__v&&(d.__d=!1),(d.__v=t).__e=n.__e,t.__k=n.__k,t.__k.forEach(function(e){e&&(e.__=t)}),d.__h.length&&a.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(m,d.__s,f),null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(v,j,w)})}if(d.context=f,d.props=m,d.__v=t,d.__P=e,p=l.__r,O=0,"prototype"in h&&h.prototype.render)d.state=d.__s,d.__d=!1,p&&p(t),u=d.render(d.props,d.state,d.context);else for(;d.__d=!1,p&&p(t),u=d.render(d.props,d.state,d.context),d.state=d.__s,d.__d&&++O<25;);d.state=d.__s,null!=d.getChildContext&&(s=re(re({},s),d.getChildContext())),y||null==d.getSnapshotBeforeUpdate||(w=d.getSnapshotBeforeUpdate(v,j)),b=u!=null&&u.type===J&&null==u.key?u.props.children:u,ms(e,Array.isArray(b)?b:[b],t,n,s,o,i,a,r,c),d.base=t.__e,t.__h=null,d.__h.length&&a.push(d),_&&(d.__E=d.__=null),d.__e=!1}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,s,o,i,a,r){var u,m,f,h=n.props,l=t.props,d=t.type,c=0;if("svg"===d&&(o=!0),i!=null)for(;c<i.length;c++)if((m=i[c])&&"setAttribute"in m==!!d&&(d?m.localName===d:3===m.nodeType)){e=m,i[c]=null;break}if(e==null){if(null===d)return document.createTextNode(l);e=o?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,l.is&&l),i=null,r=!1}if(null===d)h===l||r&&e.data===l||(e.data=l);else{if(i=i&&lt.call(e.childNodes),f=(h=n.props||Ge).dangerouslySetInnerHTML,u=l.dangerouslySetInnerHTML,!r){if(i!=null)for(h={},c=0;c<e.attributes.length;c++)h[e.attributes[c].name]=e.attributes[c].value;!u&&!f||u&&(f&&u.__html==f.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||"")}if(function(e,t,n,s,o){for(var i in n)"children"===i||"key"===i||i in t||at(e,i,null,n[i],s);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||at(e,i,t[i],n[i],s)}(e,l,h,o,r),u)t.__k=[];else if(c=t.props.children,ms(e,Array.isArray(c)?c:[c],t,n,s,o&&"foreignObject"!==d,i,a,i?i[0]:n.__k&&Ce(n,0),r),i!=null)for(c=i.length;c--;)null!=i[c]&&ss(i[c]);r||("value"in l&&void 0!==(c=l.value)&&(c!==e.value||"progress"===d&&!c||"option"===d&&c!==h.value)&&at(e,"value",c,h.value,!1),"checked"in l&&void 0!==(c=l.checked)&&c!==e.checked&&at(e,"checked",c,h.checked,!1))}return e}(n.__e,t,n,s,o,i,a,c);(u=l.diffed)&&u(t)}catch(e){t.__v=null,!c&&i==null||(t.__e=r,t.__h=!!c,i[i.indexOf(r)]=null),l.__e(e,t,n)}}}function ys(e,t){l.__c&&l.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){l.__e(e,t.__v)}})}function _s(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){l.__e(e,n)}}function Dr(e,t,n){return this.constructor(e,n)}function r(e,t,s){var o,i,a;l.__&&l.__(e,t),i=(o="function"==typeof s)?null:s&&s.__k||t.__k,a=[],Gt(t,e=(!o&&s||t).__k=n(J,null,[e]),i||Ge,Ge,void 0!==t.ownerSVGElement,!o&&s?[s]:!i&&t.firstChild?lt.call(t.childNodes):null,a,!o&&s?s:i?i.__e:t.firstChild,o),ys(a,e)}lt=es.slice,l={__e:function(e,t,n,s){for(var o,i,a;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(e)),a=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,s||{}),a=o.__d),a)return o.__E=o}catch(t){e=t}throw e}},Xn=0,V.prototype.setState=function(e,t){var n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=re({},this.state);(e="function"==typeof e?e(re({},n),this.props):e)&&re(n,e),e!=null&&this.__v&&(t&&this.__h.push(t),us(this))},V.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),us(this))},V.prototype.render=J,Ue=[],it.__r=0;function xs(e,t,n){for(var s=e;s&&!n(s);){if(s===t)return null;s=s.parentElement}return s}function Cs(e){return function(t){return n("div",{onClick:function(e){t.sendEvent&&(n=xs(e.target,e.currentTarget,function(e){return e.hasAttribute("data-insights-event")}))&&function(e){if(e=e.getAttribute("data-insights-event"),"string"!=typeof e)throw new Error("The insights middleware expects `data-insights-event` to be a base64-encoded JSON string.");try{return Go(e)}catch{throw new Error("The insights middleware was unable to parse `data-insights-event`.")}}(n).forEach(function(e){return t.sendEvent(e)});var n=xs(e.target,e.currentTarget,function(e){return e.hasAttribute("data-insights-method")});n&&(n=(e=function(e){var t=e.getAttribute("data-insights-method");if("string"!=typeof(e=e.getAttribute("data-insights-payload")))throw new Error("The insights helper expects `data-insights-payload` to be a base64-encoded JSON string.");try{return{method:t,payload:Go(e)}}catch{throw new Error("The insights helper was unable to parse `data-insights-payload`.")}}(n)).method,e=e.payload,t.insights(n,e))}},n(e,t))}}function Es(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return v(t,Ye()),function(s){var i,o=s||{},a=o.items,o=o.transformItems,c=void 0===o?function(e){return e}:o;if(!Array.isArray(a))throw new Error(Ye("The `items` option expects an array of objects."));if(i=a,o=i.filter(function(e){return!0===e.default}),0===o.length)throw new Error(Ye("A default value must be specified in `items`."));if(1<o.length)throw new Error(Ye("More than one default value is specified in `items`."));var r=o[0],l=function(e){return function(t){return(t||0===t?e.setQueryParameter("hitsPerPage",t):e.setQueryParameter("hitsPerPage",void 0)).search()}},d=function(e){var t=e.state,n=e.createURL;return function(e){return n(t.resetPage().setQueryParameter("hitsPerPage",e||0===e?e:void 0))}};return{$$type:"ais.hitsPerPage",init:function(n){var s=n.state,o=n.instantSearchInstance;i.some(function(e){return Number(s.hitsPerPage)===Number(e.value)})||(i=[{value:"",label:""}].concat(j(i))),t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:o}),!0)},render:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!1)},dispose:function(e){return e=e.state,n(),e.setQueryParameter("hitsPerPage",void 0)},getRenderState:function(t,n){return e(e({},t),{},{hitsPerPage:this.getWidgetRenderState(n)})},getWidgetRenderState:function(t){var o,a=t.state,n=t.results,u=t.createURL,t=t.helper,r=!!n&&0<n.nbHits;return{items:c((o=a.hitsPerPage,i.map(function(t){return e(e({},t),{},{isRefined:Number(t.value)===Number(o)})})),{results:n}),refine:l(t),createURL:d({state:a,createURL:u}),hasNoResults:!r,canRefine:r,widgetParams:s}},getWidgetUiState:function(t,n){return n=n.searchParameters.hitsPerPage,void 0===n||n===r.value?t:e(e({},t),{},{hitsPerPage:n})},getWidgetSearchParameters:function(e,t){return t=t.uiState,e.setQueryParameters({hitsPerPage:t.hitsPerPage||r.value})}}}}var H=yt(_n),Ye=a({name:"hits-per-page",connector:!0}),zr=["page"],wr=a({name:"infinite-hits",connector:!0});function Ms(e){return e=e||{},e.page,f(e,zr)}function Ut(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return v(t,wr()),function(o){var c,d,u,m,f,p,h=o||{},i=h.escapeHTML,r=void 0===i||i,i=h.transformItems,v=void 0===i?function(e){return e}:i,i=h.cache,a=void 0===i?(c=d=null,{read:function(e){return e=e.state,he(c,Ms(e))?d:null},write:function(e){var t=e.state,e=e.hits;c=Ms(t),d=e}}):i,l=function(e,t){return e=e.page,e=void 0===e?0:e,t=Object.keys(t).map(Number),0===t.length?e:Math.min.apply(Math,[e].concat(j(t)))},g=function(e,t){return e=e.page,e=void 0===e?0:e,t=Object.keys(t).map(Number),0===t.length?e:Math.max.apply(Math,[e].concat(j(t)))};return{$$type:"ais.infiniteHits",init:function(n){t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:n.instantSearchInstance}),!0)},render:function(n){var s=n.instantSearchInstance,n=this.getWidgetRenderState(n);t(e(e({},n),{},{instantSearchInstance:s}),!1),u("view",n.currentPageHits)},getRenderState:function(t,n){return e(e({},t),{},{infiniteHits:this.getWidgetRenderState(n)})},getWidgetRenderState:function(t){var h,b,j,n=t.results,y=t.helper,s=t.state,t=t.instantSearchInstance,_=[],i=a.read({state:s})||{},c=n?(c=void 0===(c=s.page)?0:c,r&&0<n.hits.length&&(n.hits=gt(n.hits)),d=Zt(Ot(n.hits,n.page,n.hitsPerPage),n.queryID),d=v(d,{results:n}),void 0!==i[c]||n.__isArtificial||(i[c]=d,a.write({state:s,hits:i})),_=d,0===l(s,i)):(p=function(){h.overrideStateWithoutTriggeringChangeEvent(e(e({},h.state),{},{page:l(h.state,a.read({state:h.state})||{})-1})).searchWithoutTriggeringOnStateChange()},m=function(){b.setPage(g(b.state,a.read({state:b.state})||{})+1).search()},u=bt({instantSearchInstance:t,index:(b=h=y).getIndex(),widgetType:this.$$type}),f=Qo({index:y.getIndex(),widgetType:this.$$type}),void 0===s.page||0===l(s,i)),d=(j=i,Object.keys(j).map(Number).sort(function(e,t){return e-t}).reduce(function(e,t){return e.concat(j[t])},[])),t=!n||n.nbPages<=g(s,i)+1;return{hits:d,currentPageHits:_,sendEvent:u,bindEvent:f,results:n,showPrevious:p,showMore:m,isFirstPage:c,isLastPage:t,widgetParams:o}},dispose:function(t){return t=t.state,n(),t=t.setQueryParameter("page",void 0),r?t.setQueryParameters(Object.keys(I).reduce(function(t,n){return e(e({},t),{},s({},n,void 0))},{})):t},getWidgetUiState:function(t,n){return n=n.searchParameters.page||0,n?e(e({},t),{},{page:n+1}):t},getWidgetSearchParameters:function(e,t){var t=t.uiState,n=e,e=(r&&(n=e.setQueryParameters(I)),t.page?t.page-1:0);return n.setQueryParameter("page",e)}}}}function Wt(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return v(t,$t()),function(o){var r,l,u,p,v,c=o||{},i=c.attribute,a=c.limit,d=void 0===a?10:a,a=c.showMore,h=void 0!==a&&a,a=c.showMoreLimit,m=void 0===a?20:a,a=c.sortBy,b=void 0===a?Ls:a,a=c.transformItems,y=void 0===a?function(e){return e}:a;if(!i)throw new Error($t("The `attribute` option is required."));if(!0===h&&m<=d)throw new Error($t("The `showMoreLimit` option must be greater than `limit`."));r=!1,v=function(){};function _(){v()}function j(){return r?m:d}return{$$type:"ais.menu",init:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!0)},render:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!1)},dispose:function(e){return e=e.state,n(),e.removeHierarchicalFacet(i).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(t,n){return e(e({},t),{},{menu:e(e({},t.menu),{},s({},i,this.getWidgetRenderState(n)))})},getWidgetRenderState:function(t){var d,m,a=t.results,O=t.createURL,n=t.instantSearchInstance,s=t.helper,c=[],w=!1;return l=l||en({instantSearchInstance:n,helper:s,attribute:i,widgetType:this.$$type}),p=p||function(e){return O(s.state.resetPage().toggleFacetRefinement(i,e))},u=u||function(e){var t=g(s.getHierarchicalFacetBreadcrumb(i),1)[0];l("click",e||t),s.toggleFacetRefinement(i,e||t).search()},t.results&&(d=t,m=this,v=function(){r=!r,m.render(d)}),a&&(t=(n=a.getFacetValues(i,{sortBy:b,facetOrdering:b===Ls}))&&!Array.isArray(n)&&n.data?n.data:[],w=h&&(r||t.length>j()),c=y(t.slice(0,j()).map(function(t){var n=t.name,s=t.escapedValue;return t.path,e(e({},f(t,ar)),{},{label:n,value:s})}),{results:a})),{items:c,createURL:p,refine:u,sendEvent:l,canRefine:0<c.length,widgetParams:o,isShowingMore:r,toggleShowMore:_,canToggleShowMore:w}},getWidgetUiState:function(t,n){return n=g(n.searchParameters.getHierarchicalFacetBreadcrumb(i),1)[0],n?e(e({},t),{},{menu:e(e({},t.menu),{},s({},i,n))}):t},getWidgetSearchParameters:function(t,n){var n=n.uiState,n=n.menu&&n.menu[i],t=t.removeHierarchicalFacet(i).addHierarchicalFacet({name:i,attributes:[i]}),o=t.maxValuesPerFacet||0,o=Math.max(o,h?m:d),t=t.setQueryParameter("maxValuesPerFacet",o);return n?t.addHierarchicalFacetRefinement(i,n):t.setQueryParameters({hierarchicalFacetsRefinements:e(e({},t.hierarchicalFacetsRefinements),{},s({},i,[]))})}}}}function zs(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return v(t,Vt()),function(o){var a,c=o||{},r=c.attribute,i=void 0===r?"":r,r=c.items,l=void 0===r?[]:r,r=c.transformItems,d=void 0===r?function(e){return e}:r;if(""===i)throw new Error(Vt("The `attribute` option is required."));if(l&&0!==l.length)return a={},{$$type:"ais.numericMenu",init:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!0)},render:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!1)},dispose:function(e){return e=e.state,n(),e.clearRefinements(i)},getWidgetUiState:function(t,n){var n=n.searchParameters.getNumericRefinements(i),o=n["="]&&n["="][0];return o||0===o?e(e({},t),{},{numericMenu:e(e({},t.numericMenu),{},s({},i,"".concat(n["="])))}):(o=n[">="]&&n[">="][0]||"",n=n["<="]&&n["<="][0]||"",""===o&&""===n?t:e(e({},t),{},{numericMenu:e(e({},t.numericMenu),{},s({},i,"".concat(o,":").concat(n)))}))},getWidgetSearchParameters:function(t,n){var o,n=n.uiState,n=n.numericMenu&&n.numericMenu[i],t=t.clearRefinements(i);return n?-1===n.indexOf(":")?t.addNumericRefinement(i,"=",Number(n)):(o=(n=g(n.split(":").map(parseFloat),2))[0],n=n[1],o=m(o)?t.addNumericRefinement(i,">=",o):t,m(n)?o.addNumericRefinement(i,"<=",n):o):t.setQueryParameters({numericRefinements:e(e({},t.numericRefinements),{},s({},i,{}))})},getRenderState:function(t,n){return e(e({},t),{},{numericMenu:e(e({},t.numericMenu),{},s({},i,this.getWidgetRenderState(n)))})},getWidgetRenderState:function(e){var r,c,u,h,s=e.results,m=e.state,t=e.instantSearchInstance,f=e.helper,g=e.createURL,e=(a.refine||(a.refine=function(e){var t=Hs(f.state,i,e);a.sendEvent("click",e),f.setState(t).search()}),a.createURL||(a.createURL=function(e){return function(t){return g(Hs(e,i,t))}}),a.sendEvent||(a.sendEvent=(c={instantSearchInstance:t}.instantSearchInstance,function(){1===arguments.length&&c.sendEventToInsights(arguments.length<=0?void 0:arguments[0])})),!s||0===s.nbHits),t=(u=m,l.map(function(e){var t=e.start,n=e.end,e=e.label;return{label:e,value:encodeURI(JSON.stringify({start:t,end:n})),isRefined:Ps(u,i,{start:t,end:n,label:e})}})),p=!0,n=function(e,t){var s,o,i,a,n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return o=!(s=!0),{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw a}}};if(Array.isArray(e)||(n=mn(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(t);try{for(n.s();!(h=n.n()).done;)if(r=h.value,r.isRefined&&"{}"!==decodeURI(r.value)){p=!1;break}}catch(e){n.e(e)}finally{n.f()}return{createURL:a.createURL(m),items:d(t,{results:s}),hasNoResults:e,canRefine:!e||!p,refine:a.refine,sendEvent:a.sendEvent,widgetParams:o}}};throw new Error(Vt("The `items` option expects an array of objects."))}}var k=yt(Ut),ar=["name","escapedValue","path"],$t=a({name:"menu",connector:!0}),Ls=["isRefined","name:asc"],Vt=a({name:"numeric-menu",connector:!0});function Ps(e,t,n){var s=e.getNumericRefinements(t);return void 0!==n.start&&void 0!==n.end?n.start===n.end?ue(s,"=",n.start):ue(s,">=",n.start)&&ue(s,"<=",n.end):void 0!==n.start?ue(s,">=",n.start):void 0!==n.end?ue(s,"<=",n.end):void 0===n.start&&void 0===n.end&&Object.keys(s).every(function(e){return 0===(s[e]||[]).length})}function Hs(e,t,n){var n=JSON.parse(decodeURI(n)),s=e.getNumericRefinements(t);if(void 0===n.start&&void 0===n.end)return e.removeNumericRefinement(t);if(Ps(e,t,n)||(e=e.removeNumericRefinement(t)),void 0!==n.start&&void 0!==n.end){if(n.start>n.end)throw new Error("option.start should be > to option.end");if(n.start===n.end)return e=ue(s,"=",n.start)?e.removeNumericRefinement(t,"=",n.start):e.addNumericRefinement(t,"=",n.start)}return void 0!==n.start&&(e=(e=ue(s,">=",n.start)?e.removeNumericRefinement(t,">=",n.start):e).addNumericRefinement(t,">=",n.start)),"number"==typeof(e=void 0!==n.end?(e=ue(s,"<=",n.end)?e.removeNumericRefinement(t,"<=",n.end):e).addNumericRefinement(t,"<=",n.end):e).page&&(e.page=0),e}function ue(e,t,n){return void 0!==e[t]&&e[t].includes(n)}function Bs(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return v(t,or()),function(s){var i=s||{},r=i.totalPages,i=i.padding,a=new ir({currentPage:0,total:0,padding:void 0===i?3:i}),o={};return{$$type:"ais.pagination",init:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!0)},render:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!1)},dispose:function(e){return e=e.state,n(),e.setQueryParameter("page",void 0)},getWidgetUiState:function(t,n){return n=n.searchParameters.page||0,n?e(e({},t),{},{page:n+1}):t},getWidgetSearchParameters:function(e,t){return t=t.uiState,t=t.page?t.page-1:0,e.setQueryParameter("page",t)},getWidgetRenderState:function(e){var n=e.results,i=e.helper,c=e.state,l=e.createURL,e=(o.refine||(o.refine=function(e){i.setPage(e),i.search()}),o.createURL||(o.createURL=function(e){return function(t){return l(e.setPage(t))}}),c.page||0),t=(t=(t=n||{nbPages:0}).nbPages,void 0!==r?Math.min(r,t):t);return a.currentPage=e,a.total=t,{createURL:o.createURL(c),refine:o.refine,canRefine:1<t,currentRefinement:e,nbHits:n?.nbHits||0,nbPages:t,pages:n?a.pages():[],isFirstPage:a.isFirstPage(),isLastPage:a.isLastPage(),widgetParams:s}},getRenderState:function(t,n){return e(e({},t),{},{pagination:this.getWidgetRenderState(n)})}}}}var ir=function(){function e(t){K(this,e),s(this,"currentPage",void 0),s(this,"total",void 0),s(this,"padding",void 0),this.currentPage=t.currentPage,this.total=t.total,this.padding=t.padding}return W(e,[{key:"pages",value:function(){var n,e=this.total,s=this.currentPage,t=this.padding;return 0===e?[0]:Xt((n=this.nbPagesDisplayed(t,e))===e?{end:e}:{start:s-(t=this.calculatePaddingLeft(s,t,e,n)),end:s+(n-t)})}},{key:"nbPagesDisplayed",value:function(e,t){return Math.min(2*e+1,t)}},{key:"calculatePaddingLeft",value:function(e,t,n,s){return e<=t?e:n-t<=e?s-(n-e):t}},{key:"isLastPage",value:function(){return this.currentPage===this.total-1||0===this.total}},{key:"isFirstPage",value:function(){return 0===this.currentPage}}]),e}(),or=a({name:"pagination",connector:!0}),It=a({name:"range-input",connector:!0},{name:"range-slider",connector:!0});function xn(e){var t=e.min,n=e.max,e=e.precision,e=Math.pow(10,e);return{min:t&&Math.floor(t*e)/e,max:n&&Math.ceil(n*e)/e}}function Ht(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return v(t,It()),function(o){var u,h,l=o||{},c=l.attribute,i=void 0===c?"":c,a=l.min,r=l.max,c=l.precision,d=void 0===c?0:c;if(!i)throw new Error(It("The `attribute` option is required."));if(m(a)&&m(r)&&r<a)throw new Error(It("The `max` option can't be lower than `min`."));u={from:function(e){return e.toLocaleString()},to:function(e){return Number(Number(e).toFixed(d)).toLocaleString()}},h=function(e,t,n,s){var e=e.state,c=t.min,t=t.max,u=g(e.getNumericRefinement(i,">=")||[],1)[0],h=g(e.getNumericRefinement(i,"<=")||[],1)[0],o=void 0===n||""===n,l=void 0===s||""===s,n=xn({min:o?void 0:parseFloat(n),max:l?void 0:parseFloat(s),precision:d}),s=n.min,n=n.max,o=m(a)||c!==s?m(a)&&o?a:s:void 0,s=m(r)||t!==n?m(r)&&l?r:n:void 0,l=void 0===o,n=m(c)&&c<=o,l=l||m(o)&&(!m(c)||n),c=void 0===s,n=m(s)&&s<=t,c=c||m(s)&&(!m(t)||n);return(u!==o||h!==s)&&l&&c?(e=e.removeNumericRefinement(i),m(o)&&(e=e.addNumericRefinement(i,">=",o)),(e=m(s)?e.addNumericRefinement(i,"<=",s):e).resetPage()):null};function f(e,t){return function(){var n=g(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[void 0,void 0],2),s=n[0],n=n[1],s=h(e,t,s,n);s&&e.setState(s).search()}}return{$$type:"ais.range",init:function(n){t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:n.instantSearchInstance}),!0)},render:function(n){t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:n.instantSearchInstance}),!1)},getRenderState:function(t,n){return e(e({},t),{},{range:e(e({},t.range),{},s({},i,this.getWidgetRenderState(n)))})},getWidgetRenderState:function(t){var h,l=t.results,p=t.helper,t=t.instantSearchInstance,n=U(l&&l.disjunctiveFacets||[],function(e){return e.name===i}),n=n&&n.stats||{min:void 0,max:void 0},s=(n=n,s=m(a)?a:m(n.min)?n.min:0,n=m(r)?r:m(n.max)?n.max:0,xn({min:s,max:n,precision:d})),c=(c=g((n=p).getNumericRefinement(i,">=")||[],1)[0],n=g(n.getNumericRefinement(i,"<=")||[],1)[0],[m(c)?c:-1/0,m(n)?n:1/0]),n=f(p,l?s:{min:void 0,max:void 0});return{refine:n,canRefine:s.min!==s.max,format:u,range:s,sendEvent:(h=t,function(){1===arguments.length&&h.sendEventToInsights(arguments.length<=0?void 0:arguments[0])}),widgetParams:e(e({},o),{},{precision:d}),start:c}},dispose:function(e){return e=e.state,n(),e.removeDisjunctiveFacet(i).removeNumericRefinement(i)},getWidgetUiState:function(t,n){var n=n.searchParameters.getNumericRefinements(i),o=n[">="],o=void 0===o?[]:o,n=n["<="],n=void 0===n?[]:n;return 0===o.length&&0===n.length?t:e(e({},t),{},{range:e(e({},t.range),{},s({},i,"".concat(o,":").concat(n)))})},getWidgetSearchParameters:function(t,n){var o,n=n.uiState,t=t.addDisjunctiveFacet(i).setQueryParameters({numericRefinements:e(e({},t.numericRefinements),{},s({},i,{}))}),n=(m(a)&&(t=t.addNumericRefinement(i,">=",a)),m(r)&&(t=t.addNumericRefinement(i,"<=",r)),n.range&&n.range[i]);return t=n&&-1!==n.indexOf(":")&&(o=(n=g(n.split(":").map(parseFloat),2))[0],n=n[1],m(o)&&(!m(a)||a<o)&&(t=(t=t.removeNumericRefinement(i,">=")).addNumericRefinement(i,">=",o)),m(n))&&(!m(r)||n<r)?(t=t.removeNumericRefinement(i,"<=")).addNumericRefinement(i,"<=",n):t}}}}function qs(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return v(t,ut()),function(o){var l,r=o||{},a=r.attribute,i=r.operator,c=void 0===i?"or":i,i=r.limit,h=void 0===i?10:i,i=r.showMore,g=void 0!==i&&i,i=r.showMoreLimit,p=void 0===i?20:i,i=r.sortBy,O=void 0===i?oo:i,i=r.escapeFacetValues,j=void 0===i||i,i=r.transformItems,C=void 0===i?function(e){return e}:i;if(!a)throw new Error(ut("The `attribute` option is required."));if(!/^(and|or)$/.test(c))throw new Error(ut('The `operator` must one of: `"and"`, `"or"` (got "'.concat(c,'").')));if(!0===g&&p<=h)throw new Error(ut("`showMoreLimit` should be greater than `limit`."));function A(t){var n=t.name,s=t.escapedValue;return e(e({},f(t,xi)),{},{value:s,label:n,highlighted:n})}var u,v,b,y=[],m=!0,d=!1,x=function(){};function E(){x()}function w(){return d?p:h}function k(n,s){return function(o){return function(i){var r,c=o.instantSearchInstance,l=o.results;""===i&&y?t(e(e({},s.getWidgetRenderState(e(e({},o),{},{results:v}))),{},{instantSearchInstance:c}),!1):(r={highlightPreTag:(j?I:_).highlightPreTag,highlightPostTag:(j?I:_).highlightPostTag},n.searchForFacetValues(a,i,Math.min(w(),100),r).then(function(n){n=j?n.facetHits.map(function(t){return e(e({},t),{},{highlighted:$o(t.highlighted)})}):n.facetHits,n=C(n.map(function(t){var n=t.escapedValue,s=t.value;return e(e({},f(t,Ja)),{},{value:n,label:s})}),{results:l}),t(e(e({},s.getWidgetRenderState(e(e({},o),{},{results:v}))),{},{items:n,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:c}),!1)}))}}}return l=function(){return function(){}},{$$type:"ais.refinementList",init:function(n){t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:n.instantSearchInstance}),!0)},render:function(n){t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:n.instantSearchInstance}),!1)},getRenderState:function(t,n){return e(e({},t),{},{refinementList:e(e({},t.refinementList),{},s({},a,this.getWidgetRenderState(n)))})},getWidgetRenderState:function(e){var f,p,i=e.results,j=e.state,_=e.createURL,t=e.instantSearchInstance,c=e.helper,r=[],n=[],t=(u&&b&&l||(u=en({instantSearchInstance:t,helper:c,attribute:a,widgetType:this.$$type}),b=function(e){u("click",e),c.toggleFacetRefinement(a,e).search()},l=k(c,this)),i&&(n=(t=i.getFacetValues(a,{sortBy:O,facetOrdering:O===oo}))&&Array.isArray(t)?t:[],r=C(n.slice(0,w()).map(A),{results:i}),t=j.maxValuesPerFacet,s=w(),m=s<t?n.length<=s:n.length<s,v=i,y=r,e.results)&&(f=e,p=this,x=function(){d=!d,p.render(f)}),l&&l(e)),n=d&&y.length>h,s=g&&!m;return{createURL:function(e){return _(j.resetPage().toggleFacetRefinement(a,e))},items:r,refine:b,searchForItems:t,isFromSearch:!1,canRefine:0<r.length,widgetParams:o,isShowingMore:d,canToggleShowMore:n||s,toggleShowMore:E,sendEvent:u,hasExhaustiveItems:m}},dispose:function(e){return e=e.state,n(),e=e.setQueryParameter("maxValuesPerFacet",void 0),"and"===c?e.removeFacet(a):e.removeDisjunctiveFacet(a)},getWidgetUiState:function(t,n){return n=n.searchParameters,n="or"===c?n.getDisjunctiveRefinements(a):n.getConjunctiveRefinements(a),n.length?e(e({},t),{},{refinementList:e(e({},t.refinementList),{},s({},a,n))}):t},getWidgetSearchParameters:function(t,n){var n=n.uiState,i="or"===c,n=n.refinementList&&n.refinementList[a],t=t.clearRefinements(a),t=i?t.addDisjunctiveFacet(a):t.addFacet(a),o=t.maxValuesPerFacet||0,o=Math.max(o,g?p:h),t=t.setQueryParameter("maxValuesPerFacet",o);return n?n.reduce(function(e,t){return i?e.addDisjunctiveFacetRefinement(a,t):e.addFacetRefinement(a,t)},t):t.setQueryParameters(s({},o=i?"disjunctiveFacetsRefinements":"facetsRefinements",e(e({},t[o]),{},s({},a,[]))))}}}}function Ci(e,t){return t(e)}function Gs(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return v(t,Za()),function(s){var o,i,a=(s||{}).queryHook,r=void 0===a?Ci:a;return{$$type:"ais.searchBox",init:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!0)},render:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!1)},dispose:function(e){return e=e.state,n(),e.setQueryParameter("query",void 0)},getRenderState:function(t,n){return e(e({},t),{},{searchBox:this.getWidgetRenderState(n)})},getWidgetRenderState:function(e){var t=e.helper,n=e.searchMetadata,e=e.state;return o||(o=function(e){r(e,function(e){return t.setQuery(e).search()})},i=function(){t.setQuery("").search()}),{query:e.query||"",refine:o,clear:i,widgetParams:s,isSearchStalled:n.isSearchStalled}},getWidgetUiState:function(t,n){return n=n.searchParameters.query||"",""===n||t&&t.query===n?t:e(e({},t),{},{query:n})},getWidgetSearchParameters:function(e,t){return t=t.uiState,e.setQueryParameter("query",t.query||"")}}}}function Xs(t){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c,n=(v(t,ao()),{});return function(o){var i=o||{},a=i.items,i=i.transformItems,r=void 0===i?function(e){return e}:i;if(Array.isArray(a))return{$$type:"ais.sortBy",init:function(n){var s=n.instantSearchInstance,n=this.getWidgetRenderState(n),o=n.currentRefinement;U(a,function(e){return e.value===o}),t(e(e({},n),{},{instantSearchInstance:s}),!0)},render:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!1)},dispose:function(e){return e=e.state,s(),n.initialIndex?e.setIndex(n.initialIndex):e},getRenderState:function(t,n){return e(e({},t),{},{sortBy:this.getWidgetRenderState(n)})},getWidgetRenderState:function(e){var t=e.results,s=e.helper,i=e.state,e=e.parent,e=(!n.initialIndex&&e&&(n.initialIndex=e.getIndexName()),n.setIndex||(n.setIndex=function(e){s.setIndex(e).search()}),!t||0===t.nbHits);return{currentRefinement:i.index,options:r(a,{results:t}),refine:n.setIndex,hasNoResults:e,canRefine:!e&&0<a.length,widgetParams:o}},getWidgetUiState:function(t,s){return s=s.searchParameters.index,e(e({},t),{},{sortBy:s!==n.initialIndex?s:void 0})},getWidgetSearchParameters:function(e,t){return t=t.uiState,e.setQueryParameter("index",t.sortBy||n.initialIndex||e.index)}};throw new Error(ao("The `items` option expects an array of objects."))}}function Qs(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return v(t,ro()),function(o){var a,l,d,u,r=o||{},i=r.attribute,r=r.max,c=void 0===r?5:r;if(i)return a=function(e){var t,e=e.getNumericRefinements(i);if(null!=(t=e[">="])&&t.length)return e[">="][0]},d=function(e){return function(e,t){l("click",t),e.setState(h(e.state,t)).search()}.bind(null,e)},u=function(e){var t=e.state,n=e.createURL;return function(e){return n(h(t,e))}},{$$type:co,init:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!0)},render:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!1)},getRenderState:function(t,n){return e(e({},t),{},{ratingMenu:e(e({},t.ratingMenu),{},s({},i,this.getWidgetRenderState(n)))})},getWidgetRenderState:function(e){var h,m,f,v,y,_,O,p=e.helper,n=e.results,w=e.state,t=e.instantSearchInstance,e=e.createURL,s=[],b=(l||(v=(t={instantSearchInstance:t,helper:p,getRefinedStar:function(){return a(p.state)},attribute:i}).instantSearchInstance,O=t.helper,_=t.getRefinedStar,m=t.attribute,l=function(){for(var t,s,o,i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];1===e.length?v.sendEventToInsights(e[0]):(s=e[0],o=e[1],t=void 0===(t=e[2])?"Filter Applied":t,"click"===s&&_()!==Number(o)&&v.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:co,eventType:s,payload:{eventName:t,index:O.getIndex(),filters:["".concat(m,">=").concat(o)]},attribute:m}))}),!1),x=0,r=n?.getFacetValues(i,{});if(n&&r){r.length,f=0,r.forEach(function(e){e=g(e.name.split("."),2)[1],f=Math.max(f,(void 0===e?"":e).length)});for(y=a(w),h=1;h<c;h+=1)(function(e){var o,t=y===e,n=(b=b||t,r.filter(function(t){return Number(t.name)>=e&&Number(t.name)<=c}).map(function(e){return e.count}).reduce(function(e,t){return e+t},0));if(x+=n,y&&!t&&0===n)return;o=j(new Array(Math.floor(+c))).map(function(t,n){return+n<e}),s.push({stars:o,name:String(e),label:String(e),value:String(e),count:n,isRefined:t})})(h)}return s=s.reverse(),t=!n||0===n.nbHits,{items:s,hasNoResults:t,canRefine:(!t||b)&&0<x,refine:d(p),sendEvent:l,createURL:u({state:w,createURL:e}),widgetParams:o}},dispose:function(e){return e=e.state,n(),e.removeNumericRefinement(i)},getWidgetUiState:function(t,n){return n=n.searchParameters,n=a(n),"number"!=typeof n?t:e(e({},t),{},{ratingMenu:e(e({},t.ratingMenu),{},s({},i,n))})},getWidgetSearchParameters:function(t,n){return n=n.uiState,n=n.ratingMenu&&n.ratingMenu[i],t=t.clearRefinements(i).addDisjunctiveFacet(i),n?t.addNumericRefinement(i,"<=",c).addNumericRefinement(i,">=",n):t.setQueryParameters({numericRefinements:e(e({},t.numericRefinements),{},s({},i,{}))})}};throw new Error(ro("The `attribute` option is required."));function h(e,t){var n=a(e)===Number(t),e=e.resetPage().removeNumericRefinement(i);return n?e:e.addNumericRefinement(i,"<=",c).addNumericRefinement(i,">=",Number(t))}}}function Zs(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return v(t,Qa()),function(s){return{$$type:"ais.stats",init:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!0)},render:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!1)},dispose:function(){n()},getRenderState:function(t,n){return e(e({},t),{},{stats:this.getWidgetRenderState(n)})},getWidgetRenderState:function(e){var t=e.results,e=e.state;return t?{hitsPerPage:t.hitsPerPage,nbHits:t.nbHits,nbSortedHits:t.nbSortedHits,areHitsSorted:void 0!==t.appliedRelevancyStrictness&&0<t.appliedRelevancyStrictness&&t.nbSortedHits!==t.nbHits,nbPages:t.nbPages,page:t.page,processingTimeMS:t.processingTimeMS,query:t.query,widgetParams:s}:{hitsPerPage:e.hitsPerPage,nbHits:0,nbSortedHits:void 0,areHitsSorted:!1,nbPages:0,page:e.page||0,processingTimeMS:-1,query:e.query||"",widgetParams:s}}}}}function Js(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return v(t,uo()),function(o){var a,r,c,d,u,l=o||{},i=l.attribute,h=l.on,l=l.off;if(i)return c=void 0!==l,a=je(void 0===h||h).map(We),r=c?je(l).map(We):void 0,u=function(e,t){var n=t.state,s=t.createURL;return function(){n=n.resetPage();var t=e?a:r,t=(t&&t.forEach(function(e){n=n.removeDisjunctiveFacetRefinement(i,e)}),e?r:a);return t&&t.forEach(function(e){n=n.addDisjunctiveFacetRefinement(i,e)}),s(n)}},{$$type:ho,init:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!0)},render:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!1)},dispose:function(e){return e=e.state,n(),e.removeDisjunctiveFacet(i)},getRenderState:function(t,n){return e(e({},t),{},{toggleRefinement:e(e({},t.toggleRefinement),{},s({},i,this.getWidgetRenderState(n)))})},getWidgetRenderState:function(e){var t,s,m,f,p,j,y,g=e.state,_=e.helper,l=e.results,w=e.createURL,e=e.instantSearchInstance,h=l?a.every(function(e){return g.isDisjunctiveFacetRefined(i,e)}):a.every(function(e){return g.isDisjunctiveFacetRefined(i,e)}),v={isRefined:h,count:0},b={isRefined:c&&!h,count:0},n=(l&&(n=je(r||!1),m=l.getFacetValues(i,{})||[],t=a.map(function(e){return U(m,function(t){return t.escapedValue===We(String(e))})}).filter(function(e){return void 0!==e}),n=c?n.map(function(e){return U(m,function(t){return t.escapedValue===We(String(e))})}).filter(function(e){return void 0!==e}):[],v={isRefined:!!t.length&&t.every(function(e){return e.isRefined}),count:t.reduce(function(e,t){return e+t.count},0)||null},b={isRefined:!!n.length&&n.every(function(e){return e.isRefined}),count:n.reduce(function(e,t){return e+t.count},0)||m.reduce(function(e,t){return e+t.count},0)}),d||(j=(t={instantSearchInstance:e,attribute:i,on:a,helper:_}).instantSearchInstance,y=t.helper,f=t.attribute,p=t.on,d=function(){for(var n,s,o,i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];1===e.length?j.sendEventToInsights(e[0]):(n=e[0],o=e[1],s=e[2],"click"!==n||void 0===p||o||j.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:ho,eventType:n,payload:{eventName:void 0===s?"Filter Applied":s,index:y.getIndex(),filters:p.map(function(e){return"".concat(f,":").concat(e)})},attribute:f}))}),h?b:v);return{value:{name:i,isRefined:h,count:l?n.count:null,onFacetValue:v,offFacetValue:b},createURL:u(h,{state:g,createURL:w}),sendEvent:d,canRefine:Boolean(l?n.count:null),refine:(s=_,function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{isRefined:!1}).isRefined;e?(a.forEach(function(e){return s.removeDisjunctiveFacetRefinement(i,e)}),c&&r.forEach(function(e){return s.addDisjunctiveFacetRefinement(i,e)})):(d("click",e),c&&r.forEach(function(e){return s.removeDisjunctiveFacetRefinement(i,e)}),a.forEach(function(e){return s.addDisjunctiveFacetRefinement(i,e)})),s.search()}),widgetParams:o}},getWidgetUiState:function(t,n){var o=n.searchParameters,n=a&&a.every(function(e){return o.isDisjunctiveFacetRefined(i,e)});return n?e(e({},t),{},{toggle:e(e({},t.toggle),{},s({},i,n))}):t},getWidgetSearchParameters:function(t,n){var n=n.uiState,o=t.clearRefinements(i).addDisjunctiveFacet(i);return Boolean(n.toggle&&n.toggle[i])?(a&&a.forEach(function(e){o=o.addDisjunctiveFacetRefinement(i,e)}),o):c?(r&&r.forEach(function(e){o=o.addDisjunctiveFacetRefinement(i,e)}),o):o.setQueryParameters({disjunctiveFacetsRefinements:e(e({},t.disjunctiveFacetsRefinements),{},s({},i,[]))})}};throw new Error(uo("The `attribute` option is required."))}}function eo(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c,n=(v(t,mo()),{});return function(i){var a,l=i||{},c=l.attributes,r=l.separator,u=void 0===r?" > ":r,r=l.rootPath,h=void 0===r?null:r,r=l.transformItems,m=void 0===r?function(e){return e}:r;if(c&&Array.isArray(c)&&0!==c.length)return a=g(c,1)[0],{$$type:"ais.breadcrumb",init:function(n){t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:n.instantSearchInstance}),!0)},render:function(n){t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:n.instantSearchInstance}),!1)},dispose:function(){o()},getRenderState:function(t,n){return e(e({},t),{},{breadcrumb:e(e({},t.breadcrumb),{},s({},a,this.getWidgetRenderState(n)))})},getWidgetRenderState:function(e){var o,t=e.helper,a=e.createURL,s=e.results,e=e.state,e=s&&0!==e.hierarchicalFacets.length?(e=g(e.hierarchicalFacets,1)[0].name,e=s.getFacetValues(e,{}),e=Array.isArray(e.data)?e.data:[],m((o=function e(t){return t.reduce(function(t,n){return t=n.isRefined&&(t.push({label:n.name,value:n.escapedValue}),Array.isArray(n.data))?t.concat(e(n.data)):t},[])}(e)).map(function(e,t){return{label:e.label,value:t+1===o.length?null:o[t+1].value}}),{results:s})):[];return n.createURL||(n.createURL=function(e){return a(d(t.state,e))}),n.refine||(n.refine=function(e){t.setState(d(t.state,e)).search()}),{canRefine:0<e.length,createURL:n.createURL,items:e,refine:n.refine,widgetParams:i}},getWidgetSearchParameters:function(e){return e.isHierarchicalFacet(a)?(e.getHierarchicalFacetByName(a),e):e.addHierarchicalFacet({name:a,attributes:c,separator:u,rootPath:h})}};throw new Error(mo("The `attributes` option expects an array of strings."));function d(e,t){return t?e.resetPage().toggleFacetRefinement(a,t):0===(t=e.getHierarchicalFacetBreadcrumb(a)).length?e:e.resetPage().toggleFacetRefinement(a,t[0])}}}var xi=["name","escapedValue"],Ja=["escapedValue","value"],ut=a({name:"refinement-list",connector:!0}),oo=["isRefined","count:desc","name:asc"],Za=a({name:"search-box",connector:!0}),ao=a({name:"sort-by",connector:!0}),ro=a({name:"rating-menu",connector:!0}),co="ais.ratingMenu",Qa=a({name:"stats",connector:!0}),uo=a({name:"toggle-refinement",connector:!0}),ho="ais.toggleRefinement",mo=a({name:"breadcrumb",connector:!0}),Xa=a({name:"geo-search",connector:!0});function po(e){return e.insideBoundingBox||""}function go(e,t){return e.setQueryParameter("insideBoundingBox",t)}function vo(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return v(t,Xa()),function(s){function u(e){if(e.aroundLatLng){var e=e.aroundLatLng,t=e.match(ni);if(t)return{lat:parseFloat(t[1]),lng:parseFloat(t[2])};throw new Error('Invalid value for "aroundLatLng" parameter: "'.concat(e,'"'))}}function h(){return o.internalToggleRefineOnMapMove()}function r(e,t){return function(){o.isRefineOnMapMove=!o.isRefineOnMapMove,t(e)}}function m(){return o.isRefineOnMapMove}function f(){return o.internalSetMapMoveSinceLastRefine()}function l(e,t){return function(){var n=!0!==o.hasMapMoveSinceLastRefine;o.hasMapMoveSinceLastRefine=!0,n&&t(e)}}function p(){return o.hasMapMoveSinceLastRefine}var a,i=s||{},d=i.enableRefineOnMapMove,i=i.transformItems,g=void 0===i?function(e){return e}:i,o={isRefineOnMapMove:void 0===d||d,hasMapMoveSinceLastRefine:!1,lastRefinePosition:"",lastRefineBoundingBox:"",internalToggleRefineOnMapMove:c,internalSetMapMoveSinceLastRefine:c};return{$$type:jo,init:function(n){var s=n.instantSearchInstance;o.internalToggleRefineOnMapMove=r(n,c),o.internalSetMapMoveSinceLastRefine=l(n,c),t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!0)},render:function(n){var s=n.helper,c=n.instantSearchInstance,s=s.state,i=Boolean(s.aroundLatLng)&&Boolean(o.lastRefinePosition)&&s.aroundLatLng!==o.lastRefinePosition,d=!s.insideBoundingBox&&Boolean(o.lastRefineBoundingBox)&&s.insideBoundingBox!==o.lastRefineBoundingBox,i=((i||d)&&(o.hasMapMoveSinceLastRefine=!1),o.lastRefinePosition=s.aroundLatLng||"",o.lastRefineBoundingBox=po(s),o.internalToggleRefineOnMapMove=r(n,this.render.bind(this)),o.internalSetMapMoveSinceLastRefine=l(n,this.render.bind(this)),this.getWidgetRenderState(n));a("view",i.items),t(e(e({},i),{},{instantSearchInstance:c}),!1)},getWidgetRenderState:function(e){var n,c,l,i=e.helper,t=e.results,e=e.instantSearchInstance,r=i.state,t=t?g(t.hits.filter(function(e){return e._geoloc}),{results:t}):[];return a=a||bt({instantSearchInstance:e,index:i.getIndex(),widgetType:jo}),{items:t,position:u(r),currentRefinement:(e=r).insideBoundingBox&&ma(e.insideBoundingBox),refine:function(e){var t=e.northEast,e=e.southWest,t=[t.lat,t.lng,e.lat,e.lng].join();n.setState(go(n.state,t).resetPage()).search(),o.hasMapMoveSinceLastRefine=!1,o.lastRefineBoundingBox=t},sendEvent:a,clearMapRefinement:(l=n=i,function(){l.setQueryParameter("insideBoundingBox",void 0).search()}),isRefinedWithMap:(c=r,function(){return Boolean(c.insideBoundingBox)}),toggleRefineOnMapMove:h,isRefineOnMapMove:m,setMapMoveSinceLastRefine:f,hasMapMoveSinceLastRefine:p,widgetParams:s}},getRenderState:function(t,n){return e(e({},t),{},{geoSearch:this.getWidgetRenderState(n)})},dispose:function(e){return e=e.state,n(),e.setQueryParameter("insideBoundingBox",void 0)},getWidgetUiState:function(t,n){return n=po(n.searchParameters),!n||t&&t.geoSearch&&t.geoSearch.boundingBox===n?t:e(e({},t),{},{geoSearch:{boundingBox:n}})},getWidgetSearchParameters:function(e,t){return t=t.uiState,t&&t.geoSearch?go(e,t.geoSearch.boundingBox):e.setQueryParameter("insideBoundingBox",void 0)}}}}function bo(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c,s=(v(t,Ga()),"https://www.algolia.com/?utm_source=instantsearch.js&utm_medium=website&"+"utm_content=".concat(Y(function(e){return(null==(e=e.window.location)?void 0:e.hostname)||""},{fallback:function(){return""}}),"&")+"utm_campaign=poweredby");return function(o){var i=(o||{}).url,a=void 0===i?s:i;return{$$type:"ais.poweredBy",init:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!0)},render:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!1)},getRenderState:function(t,n){return e(e({},t),{},{poweredBy:this.getWidgetRenderState(n)})},getWidgetRenderState:function(){return{url:a,widgetParams:o}},dispose:function(){n()}}}}var jo="ais.geoSearch",Ga=a({name:"powered-by",connector:!0}),Ya=a({name:"configure",connector:!0});function wo(t,n){return t.setQueryParameters(Object.keys(n.searchParameters).reduce(function(t,n){return e(e({},t),{},s({},n,void 0))},{}))}function Rt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:c,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return function(s){var o;if(s&&Vo(s.searchParameters))return o={},{$$type:"ais.configure",init:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!0)},render:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!1)},dispose:function(e){return e=e.state,n(),wo(e,s)},getRenderState:function(t,n){return n=this.getWidgetRenderState(n),e(e({},t),{},{configure:e(e({},n),{},{widgetParams:e(e({},n.widgetParams),{},{searchParameters:Ne(new L.SearchParameters(null==(t=t.configure)?void 0:t.widgetParams.searchParameters),new L.SearchParameters(n.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(e){var t,e=e.helper;return o.refine||(o.refine=(t=e,function(e){var n=wo(t.state,s),n=Ne(n,new L.SearchParameters(e));s.searchParameters=e,t.setState(n).search()})),{refine:o.refine,widgetParams:s}},getWidgetSearchParameters:function(t,n){return n=n.uiState,Ne(t,new L.SearchParameters(e(e({},n.configure),s.searchParameters)))},getWidgetUiState:function(t){return e(e({},t),{},{configure:e(e({},t.configure),s.searchParameters)})}};throw new Error(Ya("The `searchParameters` option expects an object."))}}Lt=a({name:"configure-related-items",connector:!0});function Co(e){var t=e.attributeName,n=e.attributeValue,e=e.attributeScore;return"".concat(t,":").concat(n,"<score=").concat(e||1,">")}function Eo(t,n){return function(s){var a,s=s||{},o=s.hit,i=s.matchingPatterns,s=s.transformSearchParameters,s=void 0===s?function(e){return e}:s;if(!o)throw new Error(Lt("The `hit` option is required."));if(i)return a=Object.keys(i).reduce(function(e,t){var a=i[t],n=ie(o,t),s=a.score;return Array.isArray(n)?[].concat(j(e),[n.map(function(e){return Co({attributeName:t,attributeValue:e,attributeScore:s})})]):"string"==typeof n?[].concat(j(e),[Co({attributeName:t,attributeValue:n,attributeScore:s})]):e},[]),s=e({},s(new L.SearchParameters({sumOrFiltersScores:!0,facetFilters:["objectID:-".concat(o.objectID)],optionalFilters:a}))),e(e({},Rt(t,n)({searchParameters:s})),{},{$$type:"ais.configureRelatedItems"});throw new Error(Lt("The `matchingPatterns` option is required."))}}ko=a({name:"autocomplete",connector:!0}),Nt=a({name:"query-rules",connector:!0});function qa(t){var o,i,a,r=this.helper,c=this.initialRuleContexts,n=this.trackedFilters,s=this.transformRuleContexts,t=t.state,l=t.ruleContexts||[],n=(i=(n={helper:r,sharedHelperState:t,trackedFilters:n}).helper,a=n.sharedHelperState,o=n.trackedFilters,Object.keys(o).reduce(function(e,t){var n=on(i.lastResults||{},a,!0).filter(function(e){return e.attribute===t}).map(function(e){return e.numericValue||e.name}),s=(0,o[t])(n);return[].concat(j(e),j(n.filter(function(e){return s.includes(e)}).map(function(e){return"ais-".concat(t,"-").concat(e).replace(/[^a-z0-9-_]+/gi,"_")})))},[])),s=s([].concat(j(c),j(n))).slice(0,10);he(l,s)||r.overrideStateWithoutTriggeringChangeEvent(e(e({},t),{},{ruleContexts:s}))}function Tt(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return v(t,Nt()),function(s){var i,r=s||{},o=r.trackedFilters,a=void 0===o?{}:o,o=r.transformRuleContexts,d=void 0===o?function(e){return e}:o,o=r.transformItems,u=void 0===o?function(e){return e}:o,l=(Object.keys(a).forEach(function(e){if("function"!=typeof a[e])throw new Error(Nt(`'The "`.concat(e,'" filter value in the `trackedFilters` option expects a function.')))}),0<Object.keys(a).length),c=[];return{$$type:"ais.queryRules",init:function(n){var r=n.helper,o=n.state,u=n.instantSearchInstance;c=o.ruleContexts||[],i=qa.bind({helper:r,initialRuleContexts:c,trackedFilters:a,transformRuleContexts:d}),l&&(([o.disjunctiveFacetsRefinements,o.facetsRefinements,o.hierarchicalFacetsRefinements,o.numericRefinements].some(function(e){return Boolean(e&&0<Object.keys(e).length)})||Boolean(s.transformRuleContexts))&&i({state:o}),r.on("change",i)),t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:u}),!0)},render:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!1)},getWidgetRenderState:function(e){var e=e.results,t=(e||{}).userData;return{items:u(void 0===t?[]:t,{results:e}),widgetParams:s}},getRenderState:function(t,n){return e(e({},t),{},{queryRules:this.getWidgetRenderState(n)})},dispose:function(e){var t=e.helper,e=e.state;return n(),l?(t.removeListener("change",i),e.setQueryParameter("ruleContexts",c)):e}}}}function Ua(t){function d(){o(l(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"initial"))}function u(){n&&(n.stop(),n.removeEventListener("start",h),n.removeEventListener("error",m),n.removeEventListener("result",f),n.removeEventListener("end",p),n=void 0)}var n,i=t.searchAsYouSpeak,a=t.language,r=t.onQueryChange,g=t.onStateChange,c=window.webkitSpeechRecognition||window.SpeechRecognition,l=function(e){return{status:e,transcript:"",isSpeechFinal:!1,errorCode:void 0}},s=l("initial"),o=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};s=e(e({},s),t),g()},h=function(){o({status:"waiting"})},m=function(e){o({status:"error",errorCode:e.error})},f=function(e){o({status:"recognizing",transcript:e.results[0]&&e.results[0][0]&&e.results[0][0].transcript||"",isSpeechFinal:e.results[0]&&e.results[0].isFinal}),i&&s.transcript&&r(s.transcript)},p=function(){s.errorCode||!s.transcript||i||r(s.transcript),"error"!==s.status&&o({status:"finished"})};return{getState:function(){return s},isBrowserSupported:function(){return Boolean(c)},isListening:function(){return"askingPermission"===s.status||"waiting"===s.status||"recognizing"===s.status},startListening:function(){(n=new c)&&(d("askingPermission"),n.interimResults=!0,a&&(n.lang=a),n.addEventListener("start",h),n.addEventListener("error",m),n.addEventListener("result",f),n.addEventListener("end",p),n.start())},stopListening:function(){u(),d("finished")},dispose:u}}function To(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return v(t,zo()),function(s){var o=s.searchAsYouSpeak,r=void 0!==o&&o,a=s.language,i=s.additionalQueryParameters,o=s.createVoiceSearchHelper,c=void 0===o?Ua:o;return{$$type:"ais.voiceSearch",init:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!0)},render:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!1)},getRenderState:function(t,n){return e(e({},t),{},{voiceSearch:this.getWidgetRenderState(n)})},getWidgetRenderState:function(n){var d=this,l=n.helper,m=n.instantSearchInstance,o=(this._refine||(this._refine=function(t){var n;t!==l.state.query&&(n=a?[a.split("-")[0]]:void 0,l.setQueryParameter("queryLanguages",n),"function"==typeof i&&l.setState(l.state.setQueryParameters(e({ignorePlurals:!0,removeStopWords:!0,optionalWords:t},i({query:t})))),l.setQuery(t).search())}),this._voiceSearchHelper||(this._voiceSearchHelper=c({searchAsYouSpeak:r,language:a,onQueryChange:function(e){return d._refine(e)},onStateChange:function(){t(e(e({},d.getWidgetRenderState(n)),{},{instantSearchInstance:m}),!1)}})),this._voiceSearchHelper),u=o.isBrowserSupported,h=o.isListening,f=o.startListening,p=o.stopListening,o=o.getState;return{isBrowserSupported:u(),isListening:h(),toggleListening:function(){u()&&(h()?p:f)()},voiceListeningState:o(),widgetParams:s}},dispose:function(t){var s,t=t.state,o=(this._voiceSearchHelper.dispose(),n(),t);return"function"==typeof i&&(s=(s=i({query:""}))?Object.keys(s).reduce(function(e,t){return e[t]=void 0,e},{}):{},o=t.setQueryParameters(e({queryLanguages:void 0,ignorePlurals:void 0,removeStopWords:void 0,optionalWords:void 0},s))),o.setQueryParameter("query",void 0)},getWidgetUiState:function(t,n){return n=n.searchParameters.query||"",n?e(e({},t),{},{query:n}):t},getWidgetSearchParameters:function(e,t){return t=t.uiState,e.setQueryParameter("query",t.query||"")}}}}zo=a({name:"voice-search",connector:!0});function Do(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return v(t,kt()),function(s){var a,c,l,d,h,m,f,g,i=s||{},u=i.queryLanguages,v=i.attributesForPrediction,r=i.nbHits,p=void 0===r?1:r,r=i.renderDebounceTime,o=i.searchDebounceTime,b=void 0===o?100:o,o=i.escapeHTML,j=void 0===o||o,o=i.extraParameters,y=void 0===o?{}:o;if(u&&0!==u.length)return f=function(e){var t=++g;return Promise.resolve(e).then(function(e){return l&&t<d?l:(d=t,l=e)})},a=[],c=!(d=g=-1),h=Zo(t,(l=void 0)===r?100:r),{$$type:"ais.answers",init:function(n){var s=n.state,s=n.instantSearchInstance.client.initIndex(s.index);if("function"!=typeof s.findAnswers)throw new Error(kt("`algoliasearch` >= 4.8.0 required."));m=Zo(s.findAnswers,b),t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:n.instantSearchInstance}),!0)},render:function(n){var o=this,s=n.state.query;s?(a=[],c=!0,t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:n.instantSearchInstance}),!1),f(m(s,u,e(e({},y),{},{nbHits:p,attributesForPrediction:v}))).then(function(t){t&&(j&&0<t.hits.length&&(t.hits=gt(t.hits)),t=Zt(Ot(t.hits,0,p),t.queryID),a=t,c=!1,h(e(e({},o.getWidgetRenderState(n)),{},{instantSearchInstance:n.instantSearchInstance}),!1))})):(c=!(a=[]),t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:n.instantSearchInstance}),!1))},getRenderState:function(t,n){return e(e({},t),{},{answers:this.getWidgetRenderState(n)})},getWidgetRenderState:function(){return{hits:a,isLoading:c,widgetParams:s}},dispose:function(e){return e=e.state,n(),e},getWidgetSearchParameters:function(e){return e}};throw new Error(kt("The `queryLanguages` expects an array of strings."))}}function No(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:c,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return function(s){var o={};return{$$type:"ais.relevantSort",init:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!0)},render:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!1)},dispose:function(e){return e=e.state,n(),e.setQueryParameter("relevancyStrictness",void 0)},getRenderState:function(t,n){return e(e({},t),{},{relevantSort:this.getWidgetRenderState(n)})},getWidgetRenderState:function(e){var t=e.results,n=e.helper;return o.refine||(o.refine=function(e){n.setQueryParameter("relevancyStrictness",e).search()}),e=(t||{}).appliedRelevancyStrictness,t=void 0!==e,{isRelevantSorted:void 0!==e&&0<e,isVirtualReplica:t,canRefine:t,refine:o.refine,widgetParams:s}},getWidgetSearchParameters:function(e,t){var t=t.uiState;return e.setQueryParameter("relevancyStrictness",null!=(t=t.relevantSort)?t:e.relevancyStrictness)},getWidgetUiState:function(t,n){return n=n.searchParameters,e(e({},t),{},{relevantSort:n.relevancyStrictness||t.relevantSort})}}}}function St(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return v(t,_t()),function(s){var o,r=s.widgets,i=s.maxValuesPerFacet,l=void 0===i?20:i,i=s.facets,a=void 0===i?["*"]:i,i=s.transformItems,d=void 0===i?function(e){return e}:i,c=s.fallbackWidget;if(!(r&&Array.isArray(r)&&r.every(function(e){return"object"===B(e)})))throw new Error(_t("The `widgets` option expects an array of widgets."));if(Array.isArray(a)&&a.length<=1&&("*"===a[0]||void 0===a[0]))return o=new Map,{$$type:"ais.dynamicWidgets",init:function(n){r.forEach(function(e){var t=ri(e,n);o.set(t,{widget:e,isMounted:!1})}),t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:n.instantSearchInstance}),!0)},render:function(n){var i=n.parent,s=this.getWidgetRenderState(n),a=[],r=[];c&&s.attributesToRender.forEach(function(e){var t;o.has(e)||(t=c({attribute:e}),o.set(e,{widget:t,isMounted:!1}))}),o.forEach(function(e,t){var n=e.widget,e=e.isMounted,i=-1<s.attributesToRender.indexOf(t);!e&&i?(r.push(n),o.set(t,{widget:n,isMounted:!0})):e&&!i&&(a.push(n),o.set(t,{widget:n,isMounted:!1}))}),i.addWidgets(r),setTimeout(function(){return i.removeWidgets(a)},0),t(e(e({},s),{},{instantSearchInstance:n.instantSearchInstance}),!1)},dispose:function(e){var e=e.parent,t=[];o.forEach(function(e){var n=e.widget;e.isMounted&&t.push(n)}),e.removeWidgets(t),n()},getWidgetSearchParameters:function(e){return a.reduce(function(e,t){return e.addFacet(t)},e.setQueryParameters({maxValuesPerFacet:Math.max(l||0,e.maxValuesPerFacet||0)}))},getRenderState:function(t,n){return e(e({},t),{},{dynamicWidgets:this.getWidgetRenderState(n)})},getWidgetRenderState:function(e){var t=e.results;if(e.state,!t)return{attributesToRender:[],widgetParams:s};if(e=d(null!=(e=null==(e=t.renderingContent)||null==(e=e.facetOrdering)||null==(e=e.facets)?void 0:e.order)?e:[],{results:t}),Array.isArray(e))return{attributesToRender:e,widgetParams:s};throw new Error(_t("The `transformItems` option expects a function that returns an Array."))}};throw new Error(_t('The `facets` option only accepts [] or ["*"], you passed '.concat(JSON.stringify(a))))}}var kt=a({name:"answers",connector:!0}),_t=a({name:"dynamic-widgets",connector:!0}),D=st(Do),G=st(St),D=Object.freeze({__proto__:null,EXPERIMENTAL_connectAnswers:D,connectDynamicWidgets:St,EXPERIMENTAL_connectDynamicWidgets:G,connectClearRefinements:Fn,connectCurrentRefinements:Dn,connectHierarchicalMenu:In,connectHits:_n,connectHitsWithInsights:H,connectHitsPerPage:Es,connectInfiniteHits:Ut,connectInfiniteHitsWithInsights:k,connectMenu:Wt,connectNumericMenu:zs,connectPagination:Bs,connectRange:Ht,connectRefinementList:qs,connectSearchBox:Gs,connectSortBy:Xs,connectRatingMenu:Qs,connectStats:Zs,connectToggleRefinement:Js,connectBreadcrumb:eo,connectGeoSearch:vo,connectPoweredBy:bo,connectConfigure:Rt,EXPERIMENTAL_connectConfigureRelatedItems:Eo,connectAutocomplete:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return v(t,ko()),function(o){var r=(o||{}).escapeHTML,i=void 0===r||r,a={};return{$$type:"ais.autocomplete",init:function(n){var s=n.instantSearchInstance;t(e(e({},this.getWidgetRenderState(n)),{},{instantSearchInstance:s}),!0)},render:function(n){var s=n.instantSearchInstance,n=this.getWidgetRenderState(n);n.indices.forEach(function(e){(0,e.sendEvent)("view",e.hits)}),t(e(e({},n),{},{instantSearchInstance:s}),!1)},getRenderState:function(t,n){return e(e({},t),{},{autocomplete:this.getWidgetRenderState(n)})},getWidgetRenderState:function(e){var t=this,n=e.helper,s=e.state,r=e.scopedResults,c=e.instantSearchInstance,e=(a.refine||(a.refine=function(e){n.setQuery(e).search()}),r.map(function(e){e.results.hits=i?gt(e.results.hits):e.results.hits;var n=bt({instantSearchInstance:c,index:e.results.index,widgetType:t.$$type});return{indexId:e.indexId,indexName:e.results.index,hits:e.results.hits,results:e.results,sendEvent:n}}));return{currentRefinement:s.query||"",indices:e,refine:a.refine,widgetParams:o}},getWidgetUiState:function(t,n){return n=n.searchParameters.query||"",""===n||t&&t.query===n?t:e(e({},t),{},{query:n})},getWidgetSearchParameters:function(t,n){return n={query:n.uiState.query||""},i?t.setQueryParameters(e(e({},n),I)):t.setQueryParameters(n)},dispose:function(t){return t=t.state,n(),t=t.setQueryParameter("query",void 0),i?t.setQueryParameters(Object.keys(I).reduce(function(t,n){return e(e({},t),{},s({},n,void 0))},{})):t}}}},connectQueryRules:Tt,connectVoiceSearch:To,connectRelevantSort:No}),Ba=a({name:"analytics"});function t(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.reduce(function(e,t){return Array.isArray(t)?e.concat(t):e.concat([t])},[]).filter(Boolean).join(" ")}function x(t){var n=t.defaultTemplates,s=t.templates;return e({templatesConfig:t.templatesConfig},function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return rt([].concat(j(Object.keys(e||{})),j(Object.keys(n)))).reduce(function(t,s){var i=e?e[s]:void 0,o=n[s],a=void 0!==o&&o!==i;return t.templates[s]=a?o:i,t.useCustomCompileOptions[s]=a,t},{templates:{},useCustomCompileOptions:{}})}(n,s))}function Mt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Re(e,t){return e(t={exports:{}},t.exports),t.exports}var ya,Pe,ti,G=Re(function(e,t){function d(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function h(e,t,n){if(t.charAt(n)==e.charAt(0)){for(var s=1,o=e.length;s<o;s++)if(t.charAt(n+s)!=e.charAt(s))return;return 1}}function u(e,t,s,o){for(var c=[],a=null,i=null,l=s[s.length-1];0<e.length;){if(i=e.shift(),l&&"<"==l.tag&&!(i.tag in r))throw new Error("Illegal content in < super tag.");if(n.tags[i.tag]<=n.tags.$||function(e,t){for(var n=0,s=t.length;n<s;n++)if(t[n].o==e.n)return e.tag="#"}(i,o))s.push(i),i.nodes=u(e,i.tag,s,o);else{if("/"==i.tag){if(0===s.length)throw new Error("Closing tag without opener: /"+i.n);if(a=s.pop(),i.n==a.n||function(e,t,n){for(var s=0,o=n.length;s<o;s++)if(n[s].c==e&&n[s].o==t)return 1}(i.n,a.n,o))return a.end=i.i,c;throw new Error("Nesting error: "+a.n+" vs. "+i.n)}`
`==i.tag&&(i.last=0==e.length||`
`==e[0].tag)}c.push(i)}if(0<s.length)throw new Error("missing closing tag: "+s.pop().n);return c}function m(e){var t,n=[];for(t in e.partials)n.push('"'+s(t)+'":{name:"'+s(e.partials[t].name)+'", '+m(e.partials[t])+"}");return"partials: {"+n.join(",")+"}, subs: "+function(e){var t,n=[];for(t in e)n.push('"'+s(t)+'": function(c,p,t,i) {'+e[t]+"}");return"{ "+n.join(",")+" }"}(e.subs)}function s(e){return e.replace(g,"\\\\").replace(f,'\\"').replace(j,`\\n`).replace(p,"\\r").replace(v,"\\u2028").replace(b,"\\u2029")}function o(e){return~e.indexOf(".")?"d":"f"}function c(e,t){var n="<"+(t.prefix||"")+e.n+i++;return t.partials[n]={name:e.n,partials:{}},t.code+='t.b(t.rp("'+s(n)+'",c,p,"'+(e.indent||"")+'"));',n}function l(e,t){t.code+="t.b(t.t(t."+o(e.n)+'("'+s(e.n)+'",c,p,0)));'}function a(e){return"t.b("+e+");"}var n,i,r,y=/\S/,f=/"/g,j=/\n/g,p=/\r/g,g=/\\/g,v=/\u2028/,b=/\u2029/;(n=t).tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},n.scan=function(e,t){var i,r,f,g,b,w=e.length,u=0,p=null,c="",o=[],m=!1,s=0,v=0,l="{{",a="}}";function j(){0<c.length&&(o.push({tag:"_t",text:new String(c)}),c="")}function _(e,t){if(j(),e&&function(){for(var t=!0,e=v;e<o.length;e++)if(!(t=n.tags[o[e].tag]<n.tags._v||"_t"==o[e].tag&&null===o[e].text.match(y)))return;return t}())for(var i,s=v;s<o.length;s++)o[s].text&&((i=o[s+1])&&">"==i.tag&&(i.indent=o[s].text.toString()),o.splice(s,1));else t||o.push({tag:`
`});m=!1,v=o.length}for(t&&(t=t.split(" "),l=t[0],a=t[1]),s=0;s<w;s++)0==u?h(l,e,s)?(--s,j(),u=1):`
`==e.charAt(s)?_(m):c+=e.charAt(s):1==u?(s+=l.length-1,u="="==(p=(b=n.tags[e.charAt(s+1)])?e.charAt(s+1):"_v")?(i=s,f=g=void 0,g="="+a,f=(r=e).indexOf(g,i),r=d(r.substring(r.indexOf("=",i)+1,f)).split(" "),l=r[0],a=r[r.length-1],s=f+g.length-1,0):(b&&s++,2),m=s):h(a,e,s)?(o.push({tag:p,n:d(c),otag:l,ctag:a,i:"/"==p?m-l.length:s+a.length}),c="",s+=a.length-1,u=0,"{"==p&&("}}"==a?s++:"}"===(i=o[o.length-1]).n.substr(i.n.length-1)&&(i.n=i.n.substring(0,i.n.length-1)))):c+=e.charAt(s);return _(m,!0),o},r={_t:!0,"\n":!0,$:!0,"/":!0},n.stringify=function(e){return"{code: function (c,p,i) { "+n.wrapMain(e.code)+" },"+m(e)+"}"},i=0,n.generate=function(e,t,s){i=0;var o={code:"",subs:{},partials:{}};return n.walk(e,o),s.asString?this.stringify(o,t,s):this.makeTemplate(o,t,s)},n.wrapMain=function(e){return'var t=this;t.b(i=i||"");'+e+"return t.fl();"},n.template=n.Template,n.makeTemplate=function(e,t,n){var s=this.makePartials(e);return s.code=new Function("c","p","i",this.wrapMain(e.code)),new this.template(s,t,this,n)},n.makePartials=function(e){var t,n={subs:{},partials:e.partials,name:e.name};for(t in n.partials)n.partials[t]=this.makePartials(n.partials[t]);for(t in e.subs)n.subs[t]=new Function("c","p","t","i",e.subs[t]);return n},n.codegen={"#":function(e,t){t.code+="if(t.s(t."+o(e.n)+'("'+s(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){',n.walk(e.nodes,t),t.code+="});c.pop();}"},"^":function(e,t){t.code+="if(!t.s(t."+o(e.n)+'("'+s(e.n)+'",c,p,1),c,p,1,0,0,"")){',n.walk(e.nodes,t),t.code+="};"},">":c,"<":function(e,t){var s={partials:{},code:"",subs:{},inPartial:!0},e=(n.walk(e.nodes,s),t.partials[c(e,t)]);e.subs=s.subs,e.partials=s.partials},$:function(e,t){var o={subs:{},code:"",partials:t.partials,prefix:e.n};n.walk(e.nodes,o),t.subs[e.n]=o.code,t.inPartial||(t.code+='t.sub("'+s(e.n)+'",c,p,i);')},"\n":function(e,t){t.code+=a(`"\\n"`+(e.last?"":" + i"))},_v:function(e,t){t.code+="t.b(t.v(t."+o(e.n)+'("'+s(e.n)+'",c,p,0)));'},_t:function(e,t){t.code+=a('"'+s(e.text)+'"')},"{":l,"&":l},n.walk=function(e,t){for(var o,s=0,i=e.length;s<i;s++)(o=n.codegen[e[s].tag])&&o(e[s],t);return t},n.parse=function(e,t,n){return u(e,0,[],(n=n||{}).sectionTags||[])},n.cache={},n.cacheKey=function(e,t){return[e,!!t.asString,!!t.disableLambda,t.delimiters,!!t.modelGet].join("||")},n.compile=function(e,t){var o,a,i=n.cacheKey(e,t=t||{}),s=this.cache[i];if(s){o=s.partials;for(a in o)delete o[a].instance;return s}return s=this.generate(this.parse(this.scan(e,t.delimiters),e,t),e,t),this.cache[i]=s}}),H=Re(function(e,t){function o(e,t,n){var s;return t&&"object"==typeof t&&(void 0!==t[e]?s=t[e]:n&&t.get&&"function"==typeof t.get&&(s=t.get(e))),s}function n(e){return String(e??"")}var s,i,a,r,c,l,d;(t=t).Template=function(e,t,n,s){this.r=(e=e||{}).code||this.r,this.c=n,this.options=s||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},t.Template.prototype={r:function(){return""},v:function(e){return e=n(e),d.test(e)?e.replace(i,"&amp;").replace(a,"&lt;").replace(r,"&gt;").replace(c,"&#39;").replace(l,"&quot;"):e},t:n,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n){return this.r(e,t,n)},ep:function(e,t){var s=this.partials[e],n=t[s.name];if(s.instance&&s.base==n)return s.instance;if("string"==typeof n){if(!this.c)throw new Error("No compiler available.");n=this.c.compile(n,this.options)}if(!n)return null;if(this.partials[e].base=n,s.subs){for(key in t.stackText||(t.stackText={}),s.subs)t.stackText[key]||(t.stackText[key]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);n=function(e,t,n,s,o,i){function c(){}function l(){}l.prototype=(c.prototype=e).subs;var a,r=new c;for(a in r.subs=new l,r.subsText={},r.buf="",s=s||{},r.stackSubs=s,r.subsText=i,t)s[a]||(s[a]=t[a]);for(a in s)r.subs[a]=s[a];for(a in o=o||{},r.stackPartials=o,n)o[a]||(o[a]=n[a]);for(a in o)r.partials[a]=o[a];return r}(n,s.subs,s.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=n},rp:function(e,t,n,s){return e=this.ep(e,n),e?e.ri(t,n,s):""},rs:function(e,t,n){var o,i=e[e.length-1];if(s(i))for(o=0;o<i.length;o++)e.push(i[o]),n(e,t,this),e.pop();else n(e,t,this)},s:function(e,t,n,o,i,a,r){return(!s(e)||0!==e.length)&&(n=!!(e="function"==typeof e?this.ms(e,t,n,o,i,a,r):e),!o&&n&&t&&t.push("object"==typeof e?e:t[t.length-1]),n)},d:function(e,t,n,i){var r,l,c=e.split("."),a=this.f(c[0],t,n,i),u=this.options.modelGet,d=null;if("."===e&&s(t[t.length-2]))a=t[t.length-1];else for(r=1;r<c.length;r++)a=void 0!==(l=o(c[r],a,u))?(d=a,l):"";return!(i&&!a)&&(i||"function"!=typeof a||(t.push(d),a=this.mv(a,t,n),t.pop()),a)},f:function(e,t,n,s){for(var i=!1,r=!1,c=this.options.modelGet,a=t.length-1;0<=a;a--)if(void 0!==(i=o(e,t[a],c))){r=!0;break}return r?s||"function"!=typeof i?i:this.mv(i,t,n):!s&&""},ls:function(e,t,s,o,i){var a=this.options.delimiters;return this.options.delimiters=i,this.b(this.ct(n(e.call(t,o)),t,s)),this.options.delimiters=a,!1},ct:function(e,t,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,n)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,n,s,o,i,a){return t=t[t.length-1],e=e.call(t),"function"==typeof e?!!s||(s=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(e,t,n,s.substring(o,i),a)):e},mv:function(e,t,s){return t=t[t.length-1],e=e.call(t),"function"==typeof e?this.ct(n(e.call(t)),t,s):e},sub:function(e,t,n,s){var o=this.subs[e];o&&(this.activeSub=e,o(t,n,this,s),this.activeSub=!1)}},i=/&/g,a=/</g,r=/>/g,c=/'/g,l=/"/g,d=/[&<>"']/,s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}),Uo=(G.Template=H.Template,G.template=G.Template,G),Ko=function(e,t,n,s){t[0]=0;for(o=1;o<t.length;o++){var o,i=t[o++],a=t[o]?(t[0]|=i?1:2,n[t[o++]]):t[++o];3===i?s[0]=a:4===i?s[1]=Object.assign(s[1]||{},a):5===i?(s[1]=s[1]||{})[t[++o]]=a:6===i?s[1][t[++o]]+=a+"":i?(i=e.apply(a,Ko(e,a,n,["",null])),s.push(i),a[0]?t[0]|=2:(t[o-2]=0,t[o]=i)):s.push(a)}return s},qo=new Map,Da=function(e){var t=qo.get(this);return t||(t=new Map,qo.set(this,t)),1<(t=Ko(this,t.get(e)||(t.set(e,t=function(e){for(var s,r,l,t=1,n="",c="",o=[0],i=function(e){1===t&&(e||(n=n.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?o.push(0,e,n):3===t&&(e||n)?(o.push(3,e,n),t=2):2===t&&"..."===n&&e?o.push(4,e,0):2===t&&n&&!e?o.push(5,0,!0,n):5<=t&&((n||!e&&5===t)&&(o.push(t,0,n,l),t=6),e)&&(o.push(t,e,0,l),t=6),n=""},a=0;a<e.length;a++){a&&(1===t&&i(),i(a));for(r=0;r<e[a].length;r++)s=e[a][r],1===t?"<"===s?(i(),o=[o],t=3):n+=s:4===t?n="--"===n&&">"===s?(t=1,""):s+n[0]:c?s===c?c="":n+=s:'"'===s||"'"===s?c=s:">"===s?(i(),t=1):t&&("="===s?(t=5,l=n,n=""):"/"===s&&(t<5||">"===e[a][r+1])?(i(),3===t&&(o=o[0]),(o=(t=o)[0]).push(2,0,t),t=0):" "===s||"	"===s||`
`===s||"\r"===s?(i(),t=2):n+=s),3===t&&"!--"===n&&(t=4,o=o[0])}return i(),o}(e)),t),arguments,[])).length?t:t[0]}.bind(n),Fa=Mt(Re(function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t,n,s=1;s<arguments.length;s++){n=arguments[s];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})),Xo=Re(function(e){e.exports=function(e,t){if(e==null)return{};for(var n,o={},i=Object.keys(e),s=0;s<i.length;s++)n=i[s],0<=t.indexOf(n)||(o[n]=e[n]);return o},e.exports.__esModule=!0,e.exports.default=e.exports}),k=(Mt(Xo),Re(function(e){e.exports=function(e,t){if(e==null)return{};if(s=Xo(e,t),Object.getOwnPropertySymbols)for(var n,s,i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n]);return s},e.exports.__esModule=!0,e.exports.default=e.exports})),ka=Mt(k),Oa=["parts","highlightedTagName","nonHighlightedTagName","separator","className","classNames"],Pe=(H={createElement:n,Fragment:J}).createElement,ti=H.Fragment,ya={createElement:Pe,Fragment:ti}.createElement,ft=function(e){var i=e.parts,n=e.highlightedTagName,a=void 0===n?"mark":n,n=e.nonHighlightedTagName,r=void 0===n?"span":n,n=e.separator,c=void 0===n?", ":n,n=e.className,s=e.classNames,o=void 0===s?{}:s,s=ka(e,Oa);return Pe("span",Fa({},s,{className:t(o.root,n)}),i.map(function(e,t){var n=t===i.length-1;return Pe(ti,{key:t},e.map(function(e,t){return Pe(da,{key:t,classNames:o,highlightedTagName:a,nonHighlightedTagName:r,isHighlighted:e.isHighlighted},e.value)}),!n&&Pe("span",{className:o.separator},c))}))};function da(e){var t=e.classNames,s=e.children,o=e.highlightedTagName,n=e.isHighlighted,e=e.nonHighlightedTagName;return ya(n?o:e,{className:n?t.highlighted:t.nonHighlighted},s)}oi=["classNames"];function la(e){var s=e.classNames,s=void 0===s?{}:s,e=f(e,oi);return n(ft,d({classNames:{root:t("ais-Highlight",s.root),highlighted:t("ais-Highlight-highlighted",s.highlighted),nonHighlighted:t("ais-Highlight-nonHighlighted",s.nonHighlighted),separator:t("ais-Highlight-separator",s.separator)}},e))}ai=["hit","attribute","cssClasses"];function ra(e){var t=e.hit,s=e.attribute,o=e.cssClasses;return n(la,d({},f(e,ai),{parts:je(ie(t._highlightResult,s)||[]).map(function(e){return Me($e(e.value||""))}),classNames:o}))}ci=["classNames"];function ia(e){var s=e.classNames,s=void 0===s?{}:s,e=f(e,ci);return n(ft,d({classNames:{root:t("ais-ReverseHighlight",s.root),highlighted:t("ais-ReverseHighlight-highlighted",s.highlighted),nonHighlighted:t("ais-ReverseHighlight-nonHighlighted",s.nonHighlighted),separator:t("ais-ReverseHighlight-separator",s.separator)}},e))}di=["hit","attribute","cssClasses"],ui=["isHighlighted"];function oa(t){var s=t.hit,o=t.attribute,i=t.cssClasses;return n(ia,d({},f(t,di),{parts:je(ie(s._highlightResult,o)||[]).map(function(t){return Me($e(t.value||"")).map(function(t){var n=t.isHighlighted;return e(e({},f(t,ui)),{},{isHighlighted:!n})})}),classNames:i}))}mi=["classNames"];function Zi(e){var s=e.classNames,s=void 0===s?{}:s,e=f(e,mi);return n(ft,d({classNames:{root:t("ais-ReverseSnippet",s.root),highlighted:t("ais-ReverseSnippet-highlighted",s.highlighted),nonHighlighted:t("ais-ReverseSnippet-nonHighlighted",s.nonHighlighted),separator:t("ais-ReverseSnippet-separator",s.separator)}},e))}pi=["hit","attribute","cssClasses"],gi=["isHighlighted"];function Gi(t){var s=t.hit,o=t.attribute,i=t.cssClasses;return n(Zi,d({},f(t,pi),{parts:je(ie(s._snippetResult,o)||[]).map(function(t){return Me($e(t.value||"")).map(function(t){var n=t.isHighlighted;return e(e({},f(t,gi)),{},{isHighlighted:!n})})}),classNames:i}))}bi=["classNames"];function Wi(e){var s=e.classNames,s=void 0===s?{}:s,e=f(e,bi);return n(ft,d({classNames:{root:t("ais-Snippet",s.root),highlighted:t("ais-Snippet-highlighted",s.highlighted),nonHighlighted:t("ais-Snippet-nonHighlighted",s.nonHighlighted),separator:t("ais-Snippet-separator",s.separator)}},e))}yi=["hit","attribute","cssClasses"];function $i(e){var t=e.hit,s=e.attribute,o=e.cssClasses;return n(Wi,d({},f(e,yi),{parts:je(ie(t._snippetResult,s)||[]).map(function(e){return Me($e(e.value||""))}),classNames:o}))}function wi(t){var n=t.templates,o=t.templateKey,r=t.compileOptions,c=t.helpers,i=t.data,a=t.bindEvent,t=t.sendEvent,n=n[o];if("string"!=typeof n&&"function"!=typeof n)throw new Error("Template must be 'string' or 'function', was '".concat(B(n),"' (key: ").concat(o,")"));return"function"==typeof n?((o=a||{}).html=Da,o.sendEvent=t,o.components={Highlight:ra,ReverseHighlight:oa,Snippet:$i,ReverseSnippet:Gi},n(i,o)):(a=function(t,n,o){var i=0<arguments.length&&void 0!==t?t:{},a=1<arguments.length?n:void 0,r=2<arguments.length?o:void 0;return Object.keys(i).reduce(function(t,n){return e(e({},t),{},s({},n,function(){var e=this;return function(t){return i[n].call(r,t,function(t){return Uo.compile(t,a).render(e)})}}))},{})}(c,r,i),Uo.compile(n,r).render(e(e({},i),{},{helpers:a})).replace(/[ \n\r\t\f\xA0]+/g,function(e){return e.replace(/(^|\xA0+)[^\xA0]+/g,"$1 ")}).trim())}function Vi(e,t){var o=e.items,s=e.widgetParams,e=e.canRefine;t||(t=s.container,s=s.cssClasses,r(n(zi,{cssClasses:s,items:o,canRefine:e}),t))}var u=function(){ge(e,V);var t=ce(e);function e(){return K(this,e),t.apply(this,arguments)}return W(e,[{key:"shouldComponentUpdate",value:function(e){return!he(this.props.data,e.data)||this.props.templateKey!==e.templateKey||!he(this.props.rootProps,e.rootProps)}},{key:"render",value:function(){var t=this.props.rootTagName,e=this.props.useCustomCompileOptions[this.props.templateKey]?this.props.templatesConfig.compileOptions:{},e=wi({templates:this.props.templates,templateKey:this.props.templateKey,compileOptions:e,helpers:this.props.templatesConfig.helpers,data:this.props.data,bindEvent:this.props.bindEvent,sendEvent:this.props.sendEvent});return null===e?null:"object"===B(e)?n(t,this.props.rootProps,e):n(t,d({},this.props.rootProps,{dangerouslySetInnerHTML:{__html:e}}))}}]),e}(),sr=(s(u,"defaultProps",{data:{},rootTagName:"div",useCustomCompileOptions:{},templates:{},templatesConfig:{}}),function(e){var o=e.items,s=e.cssClasses,i=e.templateProps,a=e.createURL,r=e.refine;return n("div",{className:t(s.root,0===o.length&&s.noRefinementRoot)},n("ul",{className:s.list},n("li",{className:t(s.item,0===o.length&&s.selectedItem)},n(u,d({},i,{templateKey:"home",rootTagName:"a",rootProps:{className:s.link,href:a(void 0),onClick:function(e){e.preventDefault(),r(void 0)}}}))),o.map(function(e,c){var l=c===o.length-1;return n("li",{key:e.label+c,className:t(s.item,l&&s.selectedItem)},n(u,d({},i,{templateKey:"separator",rootTagName:"span",rootProps:{className:s.separator,"aria-hidden":!0}})),l?e.label:n("a",{className:s.link,href:a(e.value),onClick:function(t){t.preventDefault(),r(e.value)}},e.label))})))}),Ei={home:function(){return"Home"},separator:function(){return">"}},ki=a({name:"breadcrumb"}),be=h("Breadcrumb"),Si=function(e){var s=e.hasRefinements,i=e.refine,o=e.cssClasses,e=e.templateProps;return n("div",{className:o.root},n(u,d({},e,{templateKey:"resetLabel",rootTagName:"button",rootProps:{className:t(o.button,!s&&o.disabledButton),onClick:i,disabled:!s},data:{hasRefinements:s}})))},Mi={resetLabel:function(){return"Clear refinements"}},Fi=a({name:"clear-refinements"}),Pt=h("ClearRefinements"),zi=function(e){var o=e.items,s=e.cssClasses,e=e.canRefine;return n("div",{className:t(s.root,!e&&s.noRefinementRoot)},n("ul",{className:s.list},o.map(function(e,t){return n("li",{key:"".concat(e.indexName,"-").concat(e.attribute,"-").concat(t),className:s.item},n("span",{className:s.label},(t=e.label).toString().charAt(0).toUpperCase()+t.toString().slice(1),":"),e.refinements.map(function(t){return n("span",{key:(i=t.attribute,a=t.value,[i,t.type,a,t.operator].map(function(e){return e}).filter(Boolean).join(":")),className:s.category},n("span",{className:s.categoryLabel},"query"===t.attribute?n("q",null,t.label):t.label),n("button",{className:s.delete,onClick:(o=e.refine.bind(null,t),function(e){xt(e)||(e.preventDefault(),o())})},"â"));var o,i,a}))})))},Di=a({name:"current-refinements"}),ae=h("CurrentRefinements"),Li={header:function(){return""},loader:function(){return""},item:function(e){return JSON.stringify(e)}},Ri=function(s){var i=s.hits,r=s.isLoading,o=s.cssClasses,a=s.templateProps;return n("div",{className:t(o.root,0===i.length&&o.emptyRoot)},n(u,d({},a,{templateKey:"header",rootProps:{className:o.header},data:{hits:i,isLoading:r}})),r?n(u,d({},a,{templateKey:"loader",rootProps:{className:o.loader}})):n("ul",{className:o.list},i.map(function(t,s){return n(u,d({},a,{templateKey:"item",rootTagName:"li",rootProps:{className:o.item},key:t.objectID,data:e(e({},t),{},{__hitIndex:s})}))})))},Pi=a({name:"answers"}),Oe=h("Answers"),Ii=["container","widgets","fallbackWidget"],Cn=a({name:"dynamic-widgets"}),Oi=h("DynamicWidgets");function _i(e){var t=document.createElement("div");return t.className=Oi({descendantName:"widget"}),e.appendChild(t),t}function ji(t){var n,s,i,a,r,c=(t=t||{}).container,o=t.widgets,l=t.fallbackWidget,t=f(t,Ii);if(!c)throw new Error(Cn("The `container` option is required."));if(o&&Array.isArray(o)&&o.every(function(e){return"function"==typeof e}))return i=p(c),(n=document.createElement("div")).className=Oi(),s=new Map,a=[],r=St(function(e,t){e=e.attributesToRender,t&&i.appendChild(n),e.forEach(function(e){s.has(e)&&(e=s.get(e),n.appendChild(e))})},function(){i.removeChild(n)})(e(e({},t),{},{widgets:a,fallbackWidget:"function"==typeof l?function(e){var e=e.attribute,t=_i(n);return s.set(e,t),l({attribute:e,container:t})}:void 0})),e(e({},r),{},{init:function(e){o.forEach(function(t){var o=_i(n),t=t(o),i=ri(t,e);s.set(i,o),a.push(t)}),r.init(e)},$$widgetType:"ais.dynamicWidgets"});throw new Error(Cn("The `widgets` option expects an array of callbacks."))}function qt(e){var s=e.className,t=e.disabled;return n("button",{className:s,onClick:e.onClick,disabled:void 0!==t&&t},e.children)}function Ki(e){var t=e.classNameLabel,s=e.classNameInput,o=e.checked,i=e.onToggle,e=e.children;return n("label",{className:t},n("input",{className:s,type:"checkbox",checked:o,onChange:i}),e)}function qi(t,s){var d,h,v,w,p=t.items,A=t.position,m=t.currentRefinement,f=t.refine,F=t.clearMapRefinement,C=t.toggleRefineOnMapMove,y=t.isRefineOnMapMove,D=t.setMapMoveSinceLastRefine,b=t.hasMapMoveSinceLastRefine,z=t.isRefinedWithMap,i=t.widgetParams,t=t.instantSearchInstance,_=i.container,c=i.googleReference,a=i.cssClasses,l=i.templates,E=i.initialZoom,k=i.initialPosition,O=i.enableRefine,S=i.enableClearMapRefinement,M=i.enableRefineControl,u=i.mapOptions,T=i.createMarker,j=i.markerOptions,o=i.renderState;s?(o.isUserInteraction=!0,o.isPendingRefine=!1,o.markers=[],(i=document.createElement("div")).className=a.root,_.appendChild(i),(s=document.createElement("div")).className=a.map,i.appendChild(s),(d=document.createElement("div")).className=a.tree,i.appendChild(d),o.mapInstance=new c.maps.Map(s,e({mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1,clickableIcons:!1,zoomControlOptions:{position:c.maps.ControlPosition.LEFT_TOP}},u)),c.maps.event.addListenerOnce(o.mapInstance,"idle",function(){function e(){o.isUserInteraction&&O&&(D(),y())&&(o.isPendingRefine=!0)}o.mapInstance.addListener("center_changed",e),o.mapInstance.addListener("zoom_changed",e),o.mapInstance.addListener("dragstart",e),o.mapInstance.addListener("idle",function(){o.isUserInteraction&&o.isPendingRefine&&(o.isPendingRefine=!1,vi({mapInstance:o.mapInstance,refine:f}))})}),o.templateProps=x({templatesConfig:t.templatesConfig,templates:l})):(i=p.map(function(e){return e.objectID}),s=(d=g(Xi(o.markers,i),2))[0],u=d[1],v=s.map(function(e){return e.__id}),t=p.filter(function(e){return!v.includes(e.objectID)}),u.forEach(function(e){return e.setMap(null)}),o.markers=s.concat(t.map(function(e){var t=T({map:o.mapInstance,item:e});return Object.keys(j.events).forEach(function(n){t.addListener(n,function(s){j.events[n]({map:o.mapInstance,event:s,item:e,marker:t})})}),t})),l=!b(),w=m?0:null,(h=!m&&Boolean(o.markers.length)?Qi(c,o.markers):m)&&l?fi(o,function(){o.mapInstance.fitBounds(new c.maps.LatLngBounds(h.southWest,h.northEast),w)}):l&&fi(o,function(){o.mapInstance.setCenter(A||k),o.mapInstance.setZoom(E)}),r(n(Yi,{cssClasses:a,enableRefine:O,enableRefineControl:M,enableClearMapRefinement:S,isRefineOnMapMove:y(),isRefinedWithMap:z(),hasMapMoveSinceLastRefine:b(),onRefineToggle:C,onRefineClick:function(){return vi({mapInstance:o.mapInstance,refine:f})},onClearClick:F,templateProps:o.templateProps}),_.querySelector(".".concat(a.tree))))}var Yi=function(e){var s=e.cssClasses,c=e.enableRefine,a=e.enableRefineControl,l=e.enableClearMapRefinement,o=e.isRefineOnMapMove,h=e.isRefinedWithMap,i=e.hasMapMoveSinceLastRefine,m=e.onRefineToggle,r=e.onRefineClick,f=e.onClearClick,e=e.templateProps;return n(J,null,c&&n("div",null,a&&n("div",{className:s.control},o||!i?n(Ki,{classNameLabel:t(s.label,o&&s.selectedLabel),classNameInput:s.input,checked:o,onToggle:m},n(u,d({},e,{templateKey:"toggle",rootTagName:"span"}))):n(qt,{className:s.redo,disabled:!i,onClick:r},n(u,d({},e,{templateKey:"redo",rootTagName:"span"})))),!a&&!o&&n("div",{className:s.control},n(qt,{className:t(s.redo,!i&&s.disabledRedo),disabled:!i,onClick:r},n(u,d({},e,{templateKey:"redo",rootTagName:"span"})))),l&&h&&n(qt,{className:s.reset,onClick:f},n(u,d({},e,{templateKey:"reset",rootTagName:"span"})))))},vi=function(e){var t=e.refine,e=e.mapInstance;return t({northEast:e.getBounds().getNorthEast().toJSON(),southWest:e.getBounds().getSouthWest().toJSON()})},Xi=function(e,t){return e.reduce(function(e,n){var e=g(e,2),s=e[0],e=e[1];return t.includes(n.__id)?[s.concat(n),e]:[s,e.concat(n)]},[[],[]])},Qi=function(e,t){return t=t.reduce(function(e,t){return e.extend(t.getPosition())},new e.maps.LatLngBounds),{northEast:t.getNorthEast().toJSON(),southWest:t.getSouthWest().toJSON()}},fi=function(e,t){e.isUserInteraction=!1,t(),e.isUserInteraction=!0},Ji=n("p",null,"Your custom HTML Marker"),ea={HTMLMarker:function(){return Ji},reset:function(){return"Clear the map refinement"},toggle:function(){return"Search as I move the map"},redo:function(){return"Redo search here"}},ta=["initialZoom","initialPosition","templates","cssClasses","builtInMarker","customHTMLMarker","enableRefine","enableClearMapRefinement","enableRefineControl","container","googleReference"],na=["item"],sa=["item"],hi=a({name:"geo-search"}),P=h("GeoSearch");function aa(e){var t=e.className,s=e.handleClick,o=e.facetValueToRefine,i=e.isRefined,a=e.templateProps,r=e.templateKey,c=e.templateData,e=e.subItems;return n("li",{className:t,onClick:function(e){s({facetValueToRefine:o,isRefined:i,originalEvent:e})}},n(u,d({},a,{templateKey:r,data:c})),e)}var G={query:"",showSubmit:!0,showReset:!0,showLoadingIndicator:!0,autofocus:!1,searchAsYouType:!0,isSearchStalled:!1,disabled:!1,onChange:c,onSubmit:c,onReset:c,refine:c},tn=function(){ge(e,V);var t=ce(e);function e(){K(this,e);for(var n,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return s(o(n=t.call.apply(t,[this].concat(r))),"state",{query:n.props.query,focused:!1}),s(o(n),"input",rn()),s(o(n),"onInput",function(e){var t=n.props,o=t.searchAsYouType,i=t.refine,t=t.onChange,s=e.target.value;o&&i(s),n.setState({query:s}),t(e)}),s(o(n),"onSubmit",function(e){var t=n.props,s=t.searchAsYouType,o=t.refine,t=t.onSubmit;return e.preventDefault(),e.stopPropagation(),n.input.current&&n.input.current.blur(),s||o(n.state.query),t(e),!1}),s(o(n),"onReset",function(e){var t=n.props,s=t.refine,t=t.onReset;n.input.current&&n.input.current.focus(),s(""),n.setState({query:""}),t(e)}),s(o(n),"onBlur",function(){n.setState({focused:!1})}),s(o(n),"onFocus",function(){n.setState({focused:!0})}),n}return W(e,[{key:"resetInput",value:function(){this.setState({query:""})}},{key:"componentWillReceiveProps",value:function(e){this.state.focused||e.query===this.state.query||this.setState({query:e.query})}},{key:"render",value:function(){var e=this.props,t=e.cssClasses,o=e.placeholder,i=e.autofocus,a=e.showSubmit,r=e.showReset,c=e.showLoadingIndicator,s=e.templates,e=e.isSearchStalled;return n("div",{className:t.root},n("form",{action:"",role:"search",className:t.form,noValidate:!0,onSubmit:this.onSubmit,onReset:this.onReset},n("input",{ref:this.input,value:this.state.query,disabled:this.props.disabled,className:t.input,type:"search",placeholder:o,autoFocus:i,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",maxLength:512,onInput:this.onInput,onBlur:this.onBlur,onFocus:this.onFocus}),n(u,{templateKey:"submit",rootTagName:"button",rootProps:{className:t.submit,type:"submit",title:"Submit the search query.",hidden:!a},templates:s,data:{cssClasses:t}}),n(u,{templateKey:"reset",rootTagName:"button",rootProps:{className:t.reset,type:"reset",title:"Clear the search query.",hidden:!(r&&this.state.query.trim()&&!e)},templates:s,data:{cssClasses:t}}),c&&n(u,{templateKey:"loadingIndicator",rootTagName:"span",rootProps:{className:t.loadingIndicator,hidden:!e},templates:s,data:{cssClasses:t}})))}}]),e}(),ca=(s(tn,"defaultProps",G),["root"]);function ii(e){return void 0!==e.data}var ke=function(){ge(i,V);var a=ce(i);function i(e){return K(this,i),s(o(e=a.call(this,e)),"searchBox",rn()),e.handleItemClick=e.handleItemClick.bind(o(e)),e}return W(i,[{key:"shouldComponentUpdate",value:function(e){return!he(this.props.facetValues,e.facetValues)}},{key:"refine",value:function(e){this.props.toggleRefinement(e)}},{key:"_generateFacetItem",value:function(s){ii(s)&&Array.isArray(s.data)&&0<s.data.length&&((o=this.props.cssClasses).root,o=f(o,ca),o=n(i,d({},this.props,{cssClasses:o,depth:this.props.depth+1,facetValues:s.data,showMore:!1,className:this.props.cssClasses.childList})));var o,a=this.props.createURL(s.value),a=e(e({},s),{},{url:a,attribute:this.props.attribute,cssClasses:this.props.cssClasses,isFromSearch:this.props.isFromSearch}),r=s.value,c=(void 0!==s.isRefined&&(r+="/".concat(s.isRefined)),void 0!==s.count&&(r+="/".concat(s.count)),t(this.props.cssClasses.item,s.isRefined&&this.props.cssClasses.selectedItem,!s.count&&this.props.cssClasses.disabledItem,Boolean(ii(s)&&Array.isArray(s.data)&&0<s.data.length)&&this.props.cssClasses.parentItem));return n(aa,{templateKey:"item",key:r,facetValueToRefine:s.value,handleClick:this.handleItemClick,isRefined:s.isRefined,className:c,subItems:o,templateData:a,templateProps:this.props.templateProps})}},{key:"handleItemClick",value:function(e){var n,s=e.facetValueToRefine,o=e.isRefined,t=e.originalEvent;if(!xt(t)&&t.target instanceof HTMLElement&&t.target.parentNode instanceof HTMLElement&&(!o||!t.target.parentNode.querySelector('input[type="radio"]:checked'))){if("INPUT"!==t.target.tagName){for(n=t.target;n!==t.currentTarget;){if("LABEL"===n.tagName&&(n.querySelector('input[type="checkbox"]')||n.querySelector('input[type="radio"]')))return;"A"===n.tagName&&n.href&&t.preventDefault(),n=n.parentNode}t.stopPropagation()}this.refine(s)}}},{key:"componentWillReceiveProps",value:function(e){this.searchBox.current&&!e.isFromSearch&&this.searchBox.current.resetInput()}},{key:"refineFirstValue",value:function(){var e=this.props.facetValues&&this.props.facetValues[0];e&&(e=e.value,this.props.toggleRefinement(e))}},{key:"render",value:function(){var e=this,s=t(this.props.cssClasses.showMore,!(!0===this.props.showMore&&this.props.canToggleShowMore)&&this.props.cssClasses.disabledShowMore),s=!0===this.props.showMore&&n(u,d({},this.props.templateProps,{templateKey:"showMoreText",rootTagName:"button",rootProps:{className:s,disabled:!this.props.canToggleShowMore,onClick:this.props.toggleShowMore},data:{isShowingMore:this.props.isShowingMore}})),o=!0!==this.props.searchIsAlwaysActive&&!this.props.isFromSearch&&!!this.props.hasExhaustiveItems,o=this.props.searchFacetValues&&n("div",{className:this.props.cssClasses.searchBox},n(tn,{ref:this.searchBox,placeholder:this.props.searchPlaceholder,disabled:o,cssClasses:this.props.cssClasses.searchable,templates:this.props.searchBoxTemplateProps.templates,onChange:function(t){return e.props.searchFacetValues(t.target.value)},onReset:function(){return e.props.searchFacetValues("")},onSubmit:function(){return e.refineFirstValue()},searchAsYouType:!1})),i=this.props.facetValues&&0<this.props.facetValues.length&&n("ul",{className:this.props.cssClasses.list},this.props.facetValues.map(this._generateFacetItem,this)),a=this.props.searchFacetValues&&this.props.isFromSearch&&(!this.props.facetValues||0===this.props.facetValues.length)&&n(u,d({},this.props.templateProps,{templateKey:"searchableNoResults",rootProps:{className:this.props.cssClasses.noResults}}));return n("div",{className:t(this.props.cssClasses.root,(!this.props.facetValues||0===this.props.facetValues.length)&&this.props.cssClasses.noRefinementRoot,this.props.className)},this.props.children,o,i,a,s)}}]),i}(),ua=(s(ke,"defaultProps",{cssClasses:{},depth:0}),{item:function(e){var o=e.url,i=e.label,a=e.count,s=e.cssClasses,e=e.isRefined;return n("a",{className:t(t(s.link),t(e?s.selectedItemLink:void 0)),href:o},n("span",{className:t(s.label)},i),n("span",{className:t(s.count)},te(a)))},showMoreText:function(e){return e.isShowingMore?"Show less":"Show more"}}),ha=a({name:"hierarchical-menu"}),z=h("HierarchicalMenu"),fa={empty:function(){return"No results"},item:function(e){return JSON.stringify(e,null,2)}},pa=a({name:"hits"}),tt=h("Hits"),va=Cs(function(s){var i=s.results,r=s.hits,c=s.bindEvent,l=s.sendEvent,o=s.cssClasses,a=s.templateProps;return 0===i.hits.length?n(u,d({},a,{templateKey:"empty",rootProps:{className:t(o.root,o.emptyRoot)},data:i})):n("div",{className:o.root},n("ol",{className:o.list},r.map(function(t,s){return n(u,d({},a,{templateKey:"item",rootTagName:"li",rootProps:{className:o.item},key:t.objectID,data:e(e({},t),{},{__hitIndex:s}),bindEvent:c,sendEvent:l}))})))});function ei(e){var o=e.currentValue,i=e.options,s=e.cssClasses,a=e.setValue;return n("select",{className:t(s.select),onChange:function(e){return a(e.target.value)},value:"".concat(o)},i.map(function(e){return n("option",{className:t(s.option),key:e.label+e.value,value:"".concat(e.value)},e.label)}))}var ja=a({name:"hits-per-page"}),gn=h("HitsPerPage"),_a={empty:function(){return"No results"},showPreviousText:function(){return"Show previous results"},showMoreText:function(){return"Show more results"},item:function(e){return JSON.stringify(e,null,2)}},wa=a({name:"infinite-hits"}),me=h("InfiniteHits"),xa=Cs(function(s){var a=s.results,l=s.hits,h=s.bindEvent,m=s.sendEvent,f=s.hasShowPrevious,p=s.showPrevious,g=s.showMore,r=s.isFirstPage,c=s.isLastPage,o=s.cssClasses,i=s.templateProps;return 0===a.hits.length?n(u,d({},i,{templateKey:"empty",rootProps:{className:t(o.root,o.emptyRoot)},data:a})):n("div",{className:o.root},f&&n(u,d({},i,{templateKey:"showPreviousText",rootTagName:"button",rootProps:{className:t(o.loadPrevious,r&&o.disabledLoadPrevious),disabled:r,onClick:p}})),n("ol",{className:o.list},l.map(function(t,s){return n(u,d({},i,{templateKey:"item",rootTagName:"li",rootProps:{className:o.item},key:t.objectID,data:e(e({},t),{},{__hitIndex:s}),bindEvent:h,sendEvent:m}))})),n(u,d({},i,{templateKey:"showMoreText",rootTagName:"button",rootProps:{className:t(o.loadMore,c&&o.disabledLoadMore),disabled:c,onClick:g}})))}),Ca={item:function(e){var s=e.cssClasses,o=e.url,i=e.label,e=e.count;return n("a",{className:t(s.link),href:o},n("span",{className:t(s.label)},i),n("span",{className:t(s.count)},te(e)))},showMoreText:function(e){return e.isShowingMore?"Show less":"Show more"}},Ea=a({name:"menu"}),q=h("Menu");function Aa(e){var s=e.cssClasses,i=e.templateProps,o=e.items,a=e.refine,e=(U(o,function(e){return e.isRefined})||{value:""}).value;return n("div",{className:t(s.root,0===o.length&&s.noRefinementRoot)},n("select",{className:s.select,value:e,onChange:function(e){a(e.target.value)}},n(u,d({},i,{templateKey:"defaultOption",rootTagName:"option",rootProps:{value:"",className:s.option}})),o.map(function(e){return n(u,d({},i,{templateKey:"item",rootTagName:"option",rootProps:{value:e.value,className:s.option},key:e.value,data:e}))})))}var Sa={item:function(e){var t=e.label,e=e.count;return"".concat(t," (").concat(te(e),")")},defaultOption:function(){return"See all"}},Ma=a({name:"menu-select"}),wt=h("MenuSelect"),Ta={item:function(e){var t=e.cssClasses,s=e.attribute,o=e.label,e=e.isRefined;return n("label",{className:t.label},n("input",{type:"radio",className:t.radio,name:s,defaultChecked:e}),n("span",{className:t.labelText},o))}},za=a({name:"numeric-menu"}),le=h("NumericMenu");function Na(e){function s(t){return function(n){xt(n)||(n.preventDefault(),e.setCurrentPage(t))}}return n("div",{className:t(e.cssClasses.root,e.nbPages<=1&&e.cssClasses.noRefinementRoot)},n("ul",{className:e.cssClasses.list},e.showFirst&&n(ze,{ariaLabel:"First",className:e.cssClasses.firstPageItem,isDisabled:e.isFirstPage,label:e.templates.first,pageNumber:0,createURL:e.createURL,cssClasses:e.cssClasses,createClickHandler:s}),e.showPrevious&&n(ze,{ariaLabel:"Previous",className:e.cssClasses.previousPageItem,isDisabled:e.isFirstPage,label:e.templates.previous,pageNumber:e.currentPage-1,createURL:e.createURL,cssClasses:e.cssClasses,createClickHandler:s}),e.pages.map(function(t){return n(ze,{key:t,ariaLabel:"".concat(t+1),className:e.cssClasses.pageItem,isSelected:t===e.currentPage,label:"".concat(t+1),pageNumber:t,createURL:e.createURL,cssClasses:e.cssClasses,createClickHandler:s})}),e.showNext&&n(ze,{ariaLabel:"Next",className:e.cssClasses.nextPageItem,isDisabled:e.isLastPage,label:e.templates.next,pageNumber:e.currentPage+1,createURL:e.createURL,cssClasses:e.cssClasses,createClickHandler:s}),e.showLast&&n(ze,{ariaLabel:"Last",className:e.cssClasses.lastPageItem,isDisabled:e.isLastPage,label:e.templates.last,pageNumber:e.nbPages-1,createURL:e.createURL,cssClasses:e.cssClasses,createClickHandler:s})))}function ze(e){var i=e.label,c=e.ariaLabel,a=e.pageNumber,l=e.className,s=e.isDisabled,s=void 0!==s&&s,r=e.isSelected,o=e.cssClasses,d=e.createURL,e=e.createClickHandler;return n("li",{className:t(o.item,l,s&&o.disabledItem,void 0!==r&&r&&o.selectedItem)},s?n("span",{className:o.link,dangerouslySetInnerHTML:{__html:i}}):n("a",{className:o.link,"aria-label":c,href:d(a),onClick:e(a),dangerouslySetInnerHTML:{__html:i}}))}var ot,y,fn,Bo,R=h("Pagination"),Va=a({name:"pagination"}),$a={previous:"â¹",next:"âº",first:"Â«",last:"Â»"},et=0,Fo=[],ct=[],So=l.__b,_o=l.__r,yo=l.diffed,fo=l.__c,lo=l.unmount;function hn(e,t){return l.__h&&l.__h(y,e,et||t),et=0,t=y.__H||(y.__H={__:[],__h:[]}),e>=t.__.length&&t.__.push({__V:ct}),t.__[e]}function no(e){et=1;var n,o=Ds,s=void 0,t=hn(ot++,2);return t.t=o,t.__c||(t.__=[s?s(e):Ds(void 0,e),function(e){var n=(t.__N||t.__)[0],e=t.t(n,e);n!==e&&(t.__N=[e,t.__[1]],t.__c.setState({}))}],(t.__c=y).u)||(y.u=!0,n=y.shouldComponentUpdate,y.shouldComponentUpdate=function(e,s,o){var i,a;return!t.__c.__H||((a=t.__c.__H.__.filter(function(e){return e.__c})).every(function(e){return!e.__N})||(i=!1,a.forEach(function(e){var t;e.__N&&(t=e.__[0],e.__=e.__N,e.__N=void 0,t!==e.__[0])&&(i=!0)}),!!i))&&(!n||n.call(this,e,s,o))}),t.__N||t.__}function er(e){return et=5,n=function(){return{current:e}},s=[],Vs((t=hn(ot++,7)).__H,s)?(t.__V=n(),t.i=s,t.__h=n,t.__V):t.__;var t,n,s}function tr(){for(var e;e=Fo.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Qe),e.__H.__h.forEach(Kt),e.__H.__h=[]}catch(t){e.__H.__h=[],l.__e(t,e.__v)}}l.__b=function(e){"function"!=typeof e.type||e.o||e.type===J?e.o||(e.o=e.__&&e.__.o?e.__.o:""):e.o=(e.__&&e.__.o?e.__.o:"")+(e.__&&e.__.__k?e.__.__k.indexOf(e):0),y=null,So&&So(e)},l.__r=function(e){_o&&_o(e),ot=0,e=(y=e.__c).__H,e&&(fn===y?(e.__h=[],y.__h=[],e.__.forEach(function(e){e.__N&&(e.__=e.__N),e.__V=ct,e.__N=e.i=void 0})):(e.__h.forEach(Qe),e.__h.forEach(Kt),e.__h=[])),fn=y},l.diffed=function(e){yo&&yo(e),e=e.__c,e&&e.__H&&(!e.__H.__h.length||1!==Fo.push(e)&&Bo===l.requestAnimationFrame||((Bo=l.requestAnimationFrame)||function(e){function t(){clearTimeout(s),ln&&cancelAnimationFrame(n),setTimeout(e)}var n,s=setTimeout(t,100);ln&&(n=requestAnimationFrame(t))})(tr),e.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.__V!==ct&&(e.__=e.__V),e.i=void 0,e.__V=ct})),fn=y=null},l.__c=function(e,t){t.some(function(e){try{e.__h.forEach(Qe),e.__h=e.__h.filter(function(e){return!e.__||Kt(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],l.__e(n,e.__v)}}),fo&&fo(e,t)},l.unmount=function(e){lo&&lo(e);var t,e=e.__c;e&&e.__H&&(e.__H.__.forEach(function(e){try{Qe(e)}catch(e){t=e}}),e.__H=void 0,t)&&l.__e(t,e.__v)},ln="function"==typeof requestAnimationFrame;function Qe(e){var n=y,t=e.__c;"function"==typeof t&&(e.__c=void 0,t()),y=n}function Kt(e){var t=y;e.__c=e.__(),y=t}function Vs(e,t){return!e||e.length!==t.length||t.some(function(t,n){return t!==e[n]})}function Ds(e,t){return"function"==typeof t?t(e):t}function rr(e){var o,a,s=g(no(e.isCollapsed),2),i=s[0],c=s[1],s=g(no(!1),2),d=s[0],h=s[1],r=er(null);return s=function(){var t=r.current;if(t)return t.appendChild(e.bodyElement),function(){t.removeChild(e.bodyElement)}},a=[r,e.bodyElement],o=hn(ot++,3),!l.__s&&Vs(o.__H,a)&&(o.__=s,o.i=a,y.__H.__h.push(o)),d||e.isCollapsed===i||c(e.isCollapsed),n("div",{className:t(e.cssClasses.root,e.hidden&&e.cssClasses.noRefinementRoot,e.collapsible&&e.cssClasses.collapsibleRoot,i&&e.cssClasses.collapsedRoot),hidden:e.hidden},e.templates.header&&n("div",{className:e.cssClasses.header},n(u,{templates:e.templates,templateKey:"header",rootTagName:"span",data:e.data}),e.collapsible&&n("button",{className:e.cssClasses.collapseButton,"aria-expanded":!i,onClick:function(e){e.preventDefault(),h(!0),c(function(e){return!e})}},n(u,{templates:e.templates,templateKey:"collapseButtonText",rootTagName:"span",data:{collapsed:i}}))),n("div",{className:e.cssClasses.body,ref:r}),e.templates.footer&&n(u,{templates:e.templates,templateKey:"footer",rootProps:{className:e.cssClasses.footer},data:e.data}))}var cr=a({name:"panel"}),X=h("Panel"),dr=["placesReference","defaultPosition"],ur=["places"],hr=function(e){var s=e.url,t=e.theme,e=e.cssClasses;return n("div",{className:e.root},n("a",{href:s,target:"_blank",className:e.link,"aria-label":"Search by Algolia",rel:"noopener noreferrer"},n("svg",{height:"1.2em",className:e.logo,viewBox:"0 0 572 64",style:{width:"auto"}},n("path",{fill:"dark"===t?"#FFF":"#36395A",d:"M16 48.3c-3.4 0-6.3-.6-8.7-1.7A12.4 12.4 0 0 1 1.9 42C.6 40 0 38 0 35.4h6.5a6.7 6.7 0 0 0 3.9 6c1.4.7 3.3 1.1 5.6 1.1 2.2 0 4-.3 5.4-1a7 7 0 0 0 3-2.4 6 6 0 0 0 1-3.4c0-1.5-.6-2.8-1.9-3.7-1.3-1-3.3-1.6-5.9-1.8l-4-.4c-3.7-.3-6.6-1.4-8.8-3.4a10 10 0 0 1-3.3-7.9c0-2.4.6-4.6 1.8-6.4a12 12 0 0 1 5-4.3c2.2-1 4.7-1.6 7.5-1.6s5.5.5 7.6 1.6a12 12 0 0 1 5 4.4c1.2 1.8 1.8 4 1.8 6.7h-6.5a6.4 6.4 0 0 0-3.5-5.9c-1-.6-2.6-1-4.4-1s-3.2.3-4.4 1c-1.1.6-2 1.4-2.6 2.4-.5 1-.8 2-.8 3.1a5 5 0 0 0 1.5 3.6c1 1 2.6 1.7 4.7 1.9l4 .3c2.8.2 5.2.8 7.2 1.8 2.1 1 3.7 2.2 4.9 3.8a9.7 9.7 0 0 1 1.7 5.8c0 2.5-.7 4.7-2 6.6a13 13 0 0 1-5.6 4.4c-2.4 1-5.2 1.6-8.4 1.6Zm35.6 0c-2.6 0-4.8-.4-6.7-1.3a13 13 0 0 1-4.7-3.5 17.1 17.1 0 0 1-3.6-10.4v-1c0-2 .3-3.8 1-5.6a13 13 0 0 1 7.3-8.3 15 15 0 0 1 6.3-1.4A13.2 13.2 0 0 1 64 24.3c1 2.2 1.6 4.6 1.6 7.2V34H39.4v-4.3h21.8l-1.8 2.2c0-2-.3-3.7-.9-5.1a7.3 7.3 0 0 0-2.7-3.4c-1.2-.7-2.7-1.1-4.6-1.1s-3.4.4-4.7 1.3a8 8 0 0 0-2.9 3.6c-.6 1.5-.9 3.3-.9 5.4 0 2 .3 3.7 1 5.3a7.9 7.9 0 0 0 2.8 3.7c1.3.8 3 1.3 5 1.3s3.8-.5 5.1-1.3c1.3-1 2.1-2 2.4-3.2h6a11.8 11.8 0 0 1-7 8.7 16 16 0 0 1-6.4 1.2ZM80 48c-2.2 0-4-.3-5.7-1a8.4 8.4 0 0 1-3.7-3.3 9.7 9.7 0 0 1-1.3-5.2c0-2 .5-3.8 1.5-5.2a9 9 0 0 1 4.3-3.1c1.8-.7 4-1 6.7-1H89v4.1h-7.5c-2 0-3.4.5-4.4 1.4-1 1-1.6 2.1-1.6 3.6s.5 2.7 1.6 3.6c1 1 2.5 1.4 4.4 1.4 1.1 0 2.2-.2 3.2-.7 1-.4 1.9-1 2.6-2 .6-1 1-2.4 1-4.2l1.7 2.1c-.2 2-.7 3.8-1.5 5.2a9 9 0 0 1-3.4 3.3 12 12 0 0 1-5.3 1Zm9.5-.7v-8.8h-1v-10c0-1.8-.5-3.2-1.4-4.1-1-1-2.4-1.4-4.2-1.4a142.9 142.9 0 0 0-10.2.4v-5.6a74.8 74.8 0 0 1 8.6-.4c3 0 5.5.4 7.5 1.2s3.4 2 4.4 3.6c1 1.7 1.4 4 1.4 6.7v18.4h-5Zm12.9 0V17.8h5v12.3h-.2c0-4.2 1-7.4 2.8-9.5a11 11 0 0 1 8.3-3.1h1v5.6h-2a9 9 0 0 0-6.3 2.2c-1.5 1.5-2.2 3.6-2.2 6.4v15.6h-6.4Zm34.4 1a15 15 0 0 1-6.6-1.3c-1.9-.9-3.4-2-4.7-3.5a15.5 15.5 0 0 1-2.7-5c-.6-1.7-1-3.6-1-5.4v-1c0-2 .4-3.8 1-5.6a15 15 0 0 1 2.8-4.9c1.3-1.5 2.8-2.6 4.6-3.5a16.4 16.4 0 0 1 13.3.2c2 1 3.5 2.3 4.8 4a12 12 0 0 1 2 6H144c-.2-1.6-1-3-2.2-4.1a7.5 7.5 0 0 0-5.2-1.7 8 8 0 0 0-4.7 1.3 8 8 0 0 0-2.8 3.6 13.8 13.8 0 0 0 0 10.3c.6 1.5 1.5 2.7 2.8 3.6s2.8 1.3 4.8 1.3c1.5 0 2.7-.2 3.8-.8a7 7 0 0 0 2.6-2c.7-1 1-2 1.2-3.2h6.2a11 11 0 0 1-2 6.2 15.1 15.1 0 0 1-11.8 5.5Zm19.7-1v-40h6.4V31h-1.3c0-3 .4-5.5 1.1-7.6a9.7 9.7 0 0 1 3.5-4.8A9.9 9.9 0 0 1 172 17h.3c3.5 0 6 1.1 7.9 3.5 1.7 2.3 2.6 5.7 2.6 10v16.8h-6.4V29.6c0-2.1-.6-3.8-1.8-5a6.4 6.4 0 0 0-4.8-1.8c-2 0-3.7.7-5 2a7.8 7.8 0 0 0-1.9 5.5v17h-6.4Zm63.8 1a12.2 12.2 0 0 1-10.9-6.2 19 19 0 0 1-1.8-7.3h1.4v12.5h-5.1v-40h6.4v19.8l-2 3.5c.2-3.1.8-5.7 1.9-7.7a11 11 0 0 1 4.4-4.5c1.8-1 3.9-1.5 6.1-1.5a13.4 13.4 0 0 1 12.8 9.1c.7 1.9 1 3.8 1 6v1c0 2.2-.3 4.1-1 6a13.6 13.6 0 0 1-13.2 9.4Zm-1.2-5.5a8.4 8.4 0 0 0 7.9-5c.7-1.5 1.1-3.3 1.1-5.3s-.4-3.8-1.1-5.3a8.7 8.7 0 0 0-3.2-3.6 9.6 9.6 0 0 0-9.2-.2 8.5 8.5 0 0 0-3.3 3.2c-.8 1.4-1.3 3-1.3 5v2.3a9 9 0 0 0 1.3 4.8 9 9 0 0 0 3.4 3c1.4.7 2.8 1 4.4 1Zm27.3 3.9-10-28.9h6.5l9.5 28.9h-6Zm-7.5 12.2v-5.7h4.9c1 0 2-.1 2.9-.4a4 4 0 0 0 2-1.4c.4-.7.9-1.6 1.2-2.7l8.6-30.9h6.2l-9.3 32.4a14 14 0 0 1-2.5 5 8.9 8.9 0 0 1-4 2.8c-1.5.6-3.4.9-5.6.9h-4.4Zm9-12.2v-5.2h6.4v5.2H248Z"}),n("path",{fill:"dark"===t?"#FFF":"#003DFF",d:"M534.4 9.1H528a.8.8 0 0 1-.7-.7V1.8c0-.4.2-.7.6-.8l6.5-1c.4 0 .8.2.9.6v7.8c0 .4-.4.7-.8.7zM428 35.2V.8c0-.5-.3-.8-.7-.8h-.2l-6.4 1c-.4 0-.7.4-.7.8v35c0 1.6 0 11.8 12.3 12.2.5 0 .8-.4.8-.8V43c0-.4-.3-.7-.6-.8-4.5-.5-4.5-6-4.5-7zm106.5-21.8H528c-.4 0-.7.4-.7.8v34c0 .4.3.8.7.8h6.5c.4 0 .8-.4.8-.8v-34c0-.5-.4-.8-.8-.8zm-17.7 21.8V.8c0-.5-.3-.8-.8-.8l-6.5 1c-.4 0-.7.4-.7.8v35c0 1.6 0 11.8 12.3 12.2.4 0 .8-.4.8-.8V43c0-.4-.3-.7-.7-.8-4.4-.5-4.4-6-4.4-7zm-22.2-20.6a16.5 16.5 0 0 1 8.6 9.3c.8 2.2 1.3 4.8 1.3 7.5a19.4 19.4 0 0 1-4.6 12.6 14.8 14.8 0 0 1-5.2 3.6c-2 .9-5.2 1.4-6.8 1.4a21 21 0 0 1-6.7-1.4 15.4 15.4 0 0 1-8.6-9.3 21.3 21.3 0 0 1 0-14.4 15.2 15.2 0 0 1 8.6-9.3c2-.8 4.3-1.2 6.7-1.2s4.6.4 6.7 1.2zm-6.7 27.6c2.7 0 4.7-1 6.2-3s2.2-4.3 2.2-7.8-.7-6.3-2.2-8.3-3.5-3-6.2-3-4.7 1-6.1 3c-1.5 2-2.2 4.8-2.2 8.3s.7 5.8 2.2 7.8 3.5 3 6.2 3zm-88.8-28.8c-6.2 0-11.7 3.3-14.8 8.2a18.6 18.6 0 0 0 4.8 25.2c1.8 1.2 4 1.8 6.2 1.7s.1 0 .1 0h.9c4.2-.7 8-4 9.1-8.1v7.4c0 .4.3.7.8.7h6.4a.7.7 0 0 0 .7-.7V14.2c0-.5-.3-.8-.7-.8h-13.5zm6.3 26.5a9.8 9.8 0 0 1-5.7 2h-.5a10 10 0 0 1-9.2-14c1.4-3.7 5-6.3 9-6.3h6.4v18.3zm152.3-26.5h13.5c.5 0 .8.3.8.7v33.7c0 .4-.3.7-.8.7h-6.4a.7.7 0 0 1-.8-.7v-7.4c-1.2 4-4.8 7.4-9 8h-.1a4.2 4.2 0 0 1-.5.1h-.9a10.3 10.3 0 0 1-7-2.6c-4-3.3-6.5-8.4-6.5-14.2 0-3.7 1-7.2 3-10 3-5 8.5-8.3 14.7-8.3zm.6 28.4c2.2-.1 4.2-.6 5.7-2V21.7h-6.3a9.8 9.8 0 0 0-9 6.4 10.2 10.2 0 0 0 9.1 13.9h.5zM452.8 13.4c-6.2 0-11.7 3.3-14.8 8.2a18.5 18.5 0 0 0 3.6 24.3 10.4 10.4 0 0 0 13 .6c2.2-1.5 3.8-3.7 4.5-6.1v7.8c0 2.8-.8 5-2.2 6.3-1.5 1.5-4 2.2-7.5 2.2l-6-.3c-.3 0-.7.2-.8.5l-1.6 5.5c-.1.4.1.8.5 1h.1c2.8.4 5.5.6 7 .6 6.3 0 11-1.4 14-4.1 2.7-2.5 4.2-6.3 4.5-11.4V14.2c0-.5-.4-.8-.8-.8h-13.5zm6.3 8.2v18.3a9.6 9.6 0 0 1-5.6 2h-1a10.3 10.3 0 0 1-8.8-14c1.4-3.7 5-6.3 9-6.3h6.4zM291 31.5A32 32 0 0 1 322.8 0h30.8c.6 0 1.2.5 1.2 1.2v61.5c0 1.1-1.3 1.7-2.2 1l-19.2-17a18 18 0 0 1-11 3.4 18.1 18.1 0 1 1 18.2-14.8c-.1.4-.5.7-.9.6-.1 0-.3 0-.4-.2l-3.8-3.4c-.4-.3-.6-.8-.7-1.4a12 12 0 1 0-2.4 8.3c.4-.4 1-.5 1.6-.2l14.7 13.1v-46H323a26 26 0 1 0 10 49.7c.8-.4 1.6-.2 2.3.3l3 2.7c.3.2.3.7 0 1l-.2.2a32 32 0 0 1-47.2-28.6z"}))))},dt=h("PoweredBy"),fr=a({name:"powered-by"}),pr=a({name:"query-rule-context"}),gr=function(e){var t=e.cssClasses,s=e.templates,e=e.items;return n(u,{templateKey:"default",templates:s,rootProps:{className:t.root},data:{items:e}})},vr={default:function(e){return e=e.items,JSON.stringify(e,null,2)}},br=a({name:"query-rule-custom-data"}),jr=h("QueryRuleCustomData"),yr=function(){ge(e,V);var i=ce(e);function e(){K(this,e);for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return s(o(t=i.call.apply(i,[this].concat(r))),"state",{min:t.props.values.min,max:t.props.values.max}),s(o(t),"onInput",function(e){return function(n){n=n.currentTarget.value,t.setState(s({},e,Number(n)))}}),s(o(t),"onSubmit",function(e){e.preventDefault(),t.props.refine([t.state.min,t.state.max])}),t}return W(e,[{key:"componentWillReceiveProps",value:function(e){this.setState({min:e.values.min,max:e.values.max})}},{key:"render",value:function(){var o=this.state,r=o.min,o=o.max,s=this.props,i=s.min,a=s.max,l=s.step,e=s.cssClasses,s=s.templateProps,c=!!i&&!!a&&a<=i,h=Boolean(r||o);return n("div",{className:t(e.root,!h&&e.noRefinement)},n("form",{className:e.form,onSubmit:this.onSubmit},n("label",{className:e.label},n("input",{className:t(e.input,e.inputMin),type:"number",min:i,max:a,step:l,value:r??"",onInput:this.onInput("min"),placeholder:i?.toString(),disabled:c})),n(u,d({},s,{templateKey:"separatorText",rootTagName:"span",rootProps:{className:e.separator}})),n("label",{className:e.label},n("input",{className:t(e.input,e.inputMax),type:"number",min:i,max:a,step:l,value:o??"",onInput:this.onInput("max"),placeholder:a?.toString(),disabled:c})),n(u,d({},s,{templateKey:"submitText",rootTagName:"button",rootProps:{type:"submit",className:e.submit,disabled:c}}))))}}]),e}(),_r=a({name:"range-input"}),ne=h("RangeInput"),Or={separatorText:function(){return"to"},submitText:function(){return"Go"}},xr=40,Cr=35,Er=27,kr=36,Ar=37,Sr=34,Mr=33,Fr=39,Tr=38,ee=100;function Fe(e,t,n){return(e-t)/(n-t)*100}function ls(e,t,n){return 0===e?t:100===e?n:Math.round((n-t)*(e/100)+t)}function cs(e){return["rheostat","vertical"===e.orientation?"rheostat-vertical":"rheostat-horizontal"].concat(e.className.split(" ")).join(" ")}function rs(e){return Number(e.currentTarget.getAttribute("data-handle-key"))}function Ae(e){e.stopPropagation(),e.preventDefault()}function Hr(s){var o=s.style,s=s.children,i=Math.round(parseFloat(o.left)),a=[0,50,100].includes(i),s=Math.round(100*parseInt(s,10))/100;return n("div",{style:e(e({},o),{},{marginLeft:100===i?"-2px":0}),className:t("rheostat-marker","rheostat-marker-horizontal",a&&"rheostat-marker-large")},a&&n("div",{className:"rheostat-value"},s))}var Ir=n("div",{className:"rheostat-background"}),ts=function(){ge(e,V);var t=ce(e);function e(n){var i;return K(this,e),s(o(i=t.call(this,n)),"state",{className:cs(i.props),handlePos:i.props.values.map(function(e){return Fe(e,i.props.min,i.props.max)}),handleDimensions:0,mousePos:null,sliderBox:{},slidingIndex:null,values:i.props.values}),s(o(i),"rheostat",rn()),i.getPublicState=i.getPublicState.bind(o(i)),i.getSliderBoundingBox=i.getSliderBoundingBox.bind(o(i)),i.getProgressStyle=i.getProgressStyle.bind(o(i)),i.getMinValue=i.getMinValue.bind(o(i)),i.getMaxValue=i.getMaxValue.bind(o(i)),i.getHandleDimensions=i.getHandleDimensions.bind(o(i)),i.getClosestSnapPoint=i.getClosestSnapPoint.bind(o(i)),i.getSnapPosition=i.getSnapPosition.bind(o(i)),i.getNextPositionForKey=i.getNextPositionForKey.bind(o(i)),i.getNextState=i.getNextState.bind(o(i)),i.handleClick=i.handleClick.bind(o(i)),i.getClosestHandle=i.getClosestHandle.bind(o(i)),i.setStartSlide=i.setStartSlide.bind(o(i)),i.startMouseSlide=i.startMouseSlide.bind(o(i)),i.startTouchSlide=i.startTouchSlide.bind(o(i)),i.handleMouseSlide=i.handleMouseSlide.bind(o(i)),i.handleTouchSlide=i.handleTouchSlide.bind(o(i)),i.handleSlide=i.handleSlide.bind(o(i)),i.endSlide=i.endSlide.bind(o(i)),i.handleKeydown=i.handleKeydown.bind(o(i)),i.validatePosition=i.validatePosition.bind(o(i)),i.validateValues=i.validateValues.bind(o(i)),i.canMove=i.canMove.bind(o(i)),i.fireChangeEvent=i.fireChangeEvent.bind(o(i)),i.slideTo=i.slideTo.bind(o(i)),i.updateNewValues=i.updateNewValues.bind(o(i)),i}return W(e,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,o=t.className,r=t.disabled,i=t.min,a=t.max,t=t.orientation,n=this.state,s=n.values,n=n.slidingIndex,i=e.min!==i||e.max!==a,a=s.length!==e.values.length||s.some(function(t,n){return e.values[n]!==t}),s=e.className!==o||e.orientation!==t,o=e.disabled&&!r;s&&this.setState({className:cs(e)}),(i||a)&&this.updateNewValues(e),o&&null!==n&&this.endSlide()}},{key:"getPublicState",value:function(){var e=this.props,t=e.min;return{max:e.max,min:t,values:this.state.values}}},{key:"getSliderBoundingBox",value:function(){var t=this.rheostat.current,e=t.getBoundingClientRect();return{height:e.height||t.clientHeight,left:e.left,top:e.top,width:e.width||t.clientWidth}}},{key:"getProgressStyle",value:function(e){var n=this.state.handlePos,t=n[e];return 0===e?"vertical"===this.props.orientation?{height:"".concat(t,"%"),top:0}:{left:0,width:"".concat(t,"%")}:(n=t-(t=n[e-1]),"vertical"===this.props.orientation?{height:"".concat(n,"%"),top:"".concat(t,"%")}:{left:"".concat(t,"%"),width:"".concat(n,"%")})}},{key:"getMinValue",value:function(e){return this.state.values[e-1]?Math.max(this.props.min,this.state.values[e-1]):this.props.min}},{key:"getMaxValue",value:function(e){return this.state.values[e+1]?Math.min(this.props.max,this.state.values[e+1]):this.props.max}},{key:"getHandleDimensions",value:function(e,t){return e=e.currentTarget||null,e?"vertical"===this.props.orientation?e.clientHeight/t.height*ee/2:e.clientWidth/t.width*ee/2:0}},{key:"getClosestSnapPoint",value:function(e){return this.props.snapPoints.length?this.props.snapPoints.reduce(function(t,n){return Math.abs(t-e)<Math.abs(n-e)?t:n}):e}},{key:"getSnapPosition",value:function(e){var t,n,s;return this.props.snap?(n=(t=this.props).max,s=ls(e,t=t.min,n),Fe(this.getClosestSnapPoint(s),t,n)):e}},{key:"getNextPositionForKey",value:function(e,t){var n=this.state,i=n.handlePos,n=n.values,o=this.props,l=o.max,d=o.min,o=o.snapPoints,r=this.props.snap,c=n[e],i=i[e],h=i,u=1,a=(100<=l?i=Math.round(i):u=100/(l-d),null),e=(r&&(a=o.indexOf(this.getClosestSnapPoint(n[e]))),s(n={},Ar,function(e){return-1*e}),s(n,Fr,function(e){return e}),s(n,Tr,function(e){return e}),s(n,xr,function(e){return-1*e}),s(n,Sr,function(e){return 1<e?-e:-10*e}),s(n,Mr,function(e){return 1<e?e:10*e}),n);if(Object.prototype.hasOwnProperty.call(e,t))i+=e[t](u),r&&a&&(h<i?a<o.length-1&&(c=o[a+1]):0<a&&(c=o[a-1]));else if(t===kr)i=0,r&&(c=o[0]);else{if(t!==Cr)return null;i=ee,r&&(c=o[o.length-1])}return r?Fe(c,d,l):i}},{key:"getNextState",value:function(e,t){var s=this.state.handlePos,n=this.props,o=n.max,i=n.min,a=this.validatePosition(e,t),n=s.map(function(t,n){return n===e?a:t});return{handlePos:n,values:n.map(function(e){return ls(e,i,o)})}}},{key:"getClosestHandle",value:function(e){var t=this.state.handlePos;return t.reduce(function(n,s,o){return Math.abs(t[o]-e)<Math.abs(t[n]-e)?o:n},0)}},{key:"setStartSlide",value:function(e,t,n){var s=this.getSliderBoundingBox();this.setState({handleDimensions:this.getHandleDimensions(e,s),mousePos:{x:t,y:n},sliderBox:s,slidingIndex:rs(e)})}},{key:"startMouseSlide",value:function(e){this.setStartSlide(e,e.clientX,e.clientY),document.addEventListener("mousemove",this.handleMouseSlide,!1),document.addEventListener("mouseup",this.endSlide,!1),Ae(e)}},{key:"startTouchSlide",value:function(e){var t;1<e.changedTouches.length||(t=e.changedTouches[0],this.setStartSlide(e,t.clientX,t.clientY),document.addEventListener("touchmove",this.handleTouchSlide,!1),document.addEventListener("touchend",this.endSlide,!1),this.props.onSliderDragStart&&this.props.onSliderDragStart(),Ae(e))}},{key:"handleMouseSlide",value:function(e){null!==this.state.slidingIndex&&(this.handleSlide(e.clientX,e.clientY),Ae(e))}},{key:"handleTouchSlide",value:function(e){var t;null!==this.state.slidingIndex&&(1<e.changedTouches.length?this.endSlide():(t=e.changedTouches[0],this.handleSlide(t.clientX,t.clientY),Ae(e)))}},{key:"handleSlide",value:function(e,t){var n=this.state,s=n.slidingIndex,n=n.sliderBox,n="vertical"===this.props.orientation?(t-n.top)/n.height*ee:(e-n.left)/n.width*ee;this.slideTo(s,n),this.canMove(s,n)&&(this.setState({mousePos:{x:e,y:t}}),this.props.onSliderDragMove)&&this.props.onSliderDragMove()}},{key:"endSlide",value:function(){var e,n=this,t=this.state.slidingIndex;this.setState({slidingIndex:null}),document.removeEventListener("mouseup",this.endSlide,!1),document.removeEventListener("touchend",this.endSlide,!1),document.removeEventListener("touchmove",this.handleTouchSlide,!1),document.removeEventListener("mousemove",this.handleMouseSlide,!1),this.props.onSliderDragEnd&&this.props.onSliderDragEnd(),this.props.snap?(e=this.getSnapPosition(this.state.handlePos[t]),this.slideTo(t,e,function(){return n.fireChangeEvent()})):this.fireChangeEvent()}},{key:"handleClick",value:function(e){var t,n=this;e.target.getAttribute("data-handle-key")||(t=this.getSliderBoundingBox(),e=("vertical"===this.props.orientation?(e.clientY-t.top)/t.height:(e.clientX-t.left)/t.width)*ee,t=this.getClosestHandle(e),e=this.getSnapPosition(e),this.slideTo(t,e,function(){return n.fireChangeEvent()}),this.props.onClick&&this.props.onClick())}},{key:"handleKeydown",value:function(e){var t,s=this,n=rs(e);e.keyCode===Er?e.currentTarget.blur():null!==(t=this.getNextPositionForKey(n,e.keyCode))&&(this.canMove(n,t)&&(this.slideTo(n,t,function(){return s.fireChangeEvent()}),this.props.onKeyPress)&&this.props.onKeyPress(),Ae(e))}},{key:"validatePosition",value:function(e,t){var n=this.state,s=n.handlePos,n=n.handleDimensions;return Math.max(Math.min(t,void 0!==s[e+1]?s[e+1]-n:ee),void 0!==s[e-1]?s[e-1]+n:0)}},{key:"validateValues",value:function(e,t){var t=t||this.props,n=t.max,s=t.min;return e.map(function(e,t,o){return e=Math.max(Math.min(e,n),s),o.length&&e<o[t-1]?o[t-1]:e})}},{key:"canMove",value:function(e,t){var n=this.state,s=n.handlePos,n=n.handleDimensions;return!(t<0||ee<t||(void 0!==s[e+1]?s[e+1]-n:1/0)<t||t<(void 0!==s[e-1]?s[e-1]+n:-1/0))}},{key:"fireChangeEvent",value:function(){var e=this.props.onChange;e&&e(this.getPublicState())}},{key:"slideTo",value:function(e,t,n){var s=this,e=this.getNextState(e,t);this.setState(e,function(){var e=s.props.onValuesUpdated;e&&e(s.getPublicState()),n&&n()})}},{key:"updateNewValues",value:function(e){var t,n,s,o=this;null===this.state.slidingIndex&&(n=e.max,s=e.min,t=e.values,t=this.validateValues(t,e),this.setState({handlePos:t.map(function(e){return Fe(e,s,n)}),values:t},function(){return o.fireChangeEvent()}))}},{key:"render",value:function(){var t=this,e=this.props,m=e.children,s=e.disabled,l=e.handle,c=e.max,r=e.min,a=e.orientation,i=e.pitComponent,d=e.pitPoints,u=e.progressBar,e=this.state,h=e.className,o=e.handlePos,f=e.values;return n("div",{className:h,ref:this.rheostat,onClick:s?void 0:this.handleClick,style:{position:"relative"}},Ir,o.map(function(e,o){return e="vertical"===a?{top:"".concat(e,"%"),position:"absolute"}:{left:"".concat(e,"%"),position:"absolute"},n(l,{"aria-valuemax":t.getMaxValue(o),"aria-valuemin":t.getMinValue(o),"aria-valuenow":f[o],"aria-disabled":s,"data-handle-key":o,className:"rheostat-handle",key:"handle-".concat(o),onClick:Ae,onKeyDown:s?void 0:t.handleKeydown,onMouseDown:s?void 0:t.startMouseSlide,onTouchStart:s?void 0:t.startTouchSlide,role:"slider",style:e,tabIndex:0})}),o.map(function(e,s,o){return 0===s&&1<o.length?null:n(u,{className:"rheostat-progress",key:"progress-bar-".concat(s),style:t.getProgressStyle(s)})}),i&&d.map(function(e){var t=Fe(e,r,c),t="vertical"===a?{top:"".concat(t,"%"),position:"absolute"}:{left:"".concat(t,"%"),position:"absolute"};return n(i,{key:"pit-".concat(e),style:t},e)}),m)}}]),e}(),Vr=(s(ts,"defaultProps",{className:"",children:null,disabled:!1,handle:function(e){return n("button",d({},e,{type:"button"}))},max:ee,min:0,onClick:null,onChange:null,onKeyPress:null,onSliderDragEnd:null,onSliderDragMove:null,onSliderDragStart:null,onValuesUpdated:null,orientation:"horizontal",pitComponent:null,pitPoints:[],progressBar:"div",snap:!1,snapPoints:[],values:[0]}),function(){ge(e,V);var i=ce(e);function e(){K(this,e);for(var a,c=arguments.length,l=new Array(c),r=0;r<c;r++)l[r]=arguments[r];return s(o(a=i.call.apply(i,[this].concat(l))),"handleChange",function(e){e=e.values,a.isDisabled||a.props.refine(e)}),s(o(a),"createHandleComponent",function(e){return function(s){var o=Math.round(100*parseFloat(s["aria-valuenow"]))/100,o="object"===B(e)&&e.format?e.format(o):o;return n("div",d({},s,{className:t(s.className,0===s["data-handle-key"]&&"rheostat-handle-lower",1===s["data-handle-key"]&&"rheostat-handle-upper")}),e&&n("div",{className:"rheostat-tooltip"},o))}}),a}return W(e,[{key:"isDisabled",get:function(){return this.props.min>=this.props.max}},{key:"computeDefaultPitPoints",value:function(e){var t=e.min,e=e.max,n=(e-t)/34;return[t].concat(j(Xt({end:33}).map(function(e){return t+n*(e+1)})),[e])}},{key:"computeSnapPoints",value:function(e){var n=e.min,t=e.max,e=e.step;if(e)return[].concat(j(Xt({start:n,end:t,step:e})),[t])}},{key:"render",value:function(){var e=this.props,r=e.tooltips,i=e.step,a=e.pips,c=e.values,e=e.cssClasses,s=this.isDisabled?{min:this.props.min,max:this.props.max+.001}:this.props,o=s.min,s=s.max,i=this.computeSnapPoints({min:o,max:s,step:i}),a=!1===a?[]:this.computeDefaultPitPoints({min:o,max:s});return n("div",{className:t(e.root,this.isDisabled&&e.disabledRoot)},n(ts,{handle:this.createHandleComponent(r),onChange:this.handleChange,min:o,max:s,pitComponent:Hr,pitPoints:a,snap:!0,snapPoints:i,values:this.isDisabled?[o,s]:c,disabled:this.isDisabled}))}}]),e}()),$r=a({name:"range-slider"}),Jn=h("RangeSlider");function Ur(e){var s=e.children,i=e.count,o=e.value,a=e.url,e=e.cssClasses;return i?n("a",{className:t(e.link),"aria-label":"".concat(o," & up"),href:a},s):n("div",{className:t(e.link),"aria-label":"".concat(o," & up"),disabled:!0},s)}var Kr={item:function(e){var o=e.count,i=e.value,a=e.url,r=e.stars,s=e.cssClasses;return n(Ur,{count:o,value:i,url:a,cssClasses:s},r.map(function(e,o){return n("svg",{key:o,className:t(s.starIcon,e?s.fullStarIcon:s.emptyStarIcon),"aria-hidden":"true",width:"24",height:"24"},n("use",{xlinkHref:e?"#ais-RatingMenu-starSymbol":"#ais-RatingMenu-starEmptySymbol"}))}),n("span",{className:t(s.label)},"& Up"),o&&n("span",{className:t(s.count)},te(o)))}},qr=a({name:"rating-menu"}),S=h("RatingMenu"),Gr=n("path",{d:"M12 .288l2.833 8.718h9.167l-7.417 5.389 2.833 8.718-7.416-5.388-7.417 5.388 2.833-8.718-7.416-5.389h9.167z"}),Xr=n("path",{d:"M12 6.76l1.379 4.246h4.465l-3.612 2.625 1.379 4.246-3.611-2.625-3.612 2.625 1.379-4.246-3.612-2.625h4.465l1.38-4.246zm0-6.472l-2.833 8.718h-9.167l7.416 5.389-2.833 8.718 7.417-5.388 7.416 5.388-2.833-8.718 7.417-5.389h-9.167l-2.833-8.718z"}),Qr=n("path",{d:"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"}),Zr=n("path",{d:"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"}),Jr=n("g",{fill:"none",fillRule:"evenodd"},n("g",{transform:"translate(1 1)",strokeWidth:"2"},n("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),n("path",{d:"M36 18c0-9.94-8.06-18-18-18"},n("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})))),Qn={reset:function(e){return n("svg",{className:e.cssClasses.resetIcon,viewBox:"0 0 20 20",width:"10",height:"10"},Qr)},submit:function(e){return n("svg",{className:e.cssClasses.submitIcon,width:"10",height:"10",viewBox:"0 0 40 40"},Zr)},loadingIndicator:function(e){return n("svg",{className:e.cssClasses.loadingIcon,width:"16",height:"16",viewBox:"0 0 38 38",stroke:"#444"},Jr)}},tc={item:function(e){var s=e.cssClasses,i=e.count,a=e.value,o=e.highlighted,r=e.isRefined,e=e.isFromSearch;return n("label",{className:t(s.label)},n("input",{type:"checkbox",className:t(s.checkbox),value:a,defaultChecked:r}),n("span",{className:t(s.labelText),dangerouslySetInnerHTML:e?{__html:o}:void 0},!e&&o),n("span",{className:t(s.count)},te(i)))},showMoreText:function(e){return e.isShowingMore?"Show less":"Show more"},searchableNoResults:function(){return"No results"}},nc=a({name:"refinement-list"}),T=h("RefinementList"),oe=h("SearchBox"),ic=function(e){var t=e.cssClasses,o=e.templates,s=e.isRelevantSorted,i=e.isVirtualReplica,a=e.refine;return i?n("div",{className:t.root},n(u,{templateKey:"text",templates:o,rootProps:{className:t.text},data:{isRelevantSorted:s}}),n("button",{type:"button",className:t.button,onClick:function(){a(s?0:void 0)}},n(u,{rootTagName:"span",templateKey:"button",templates:o,data:{isRelevantSorted:s}}))):null},ac={text:function(){return""},button:function(e){return e.isRelevantSorted?"See all results":"See relevant results"}},rc=a({name:"relevant-sort"}),At=h("RelevantSort"),lc=a({name:"search-box"}),se=h("SearchBox"),uc=a({name:"sort-by"}),Bt=h("SortBy"),mc=["nbHits","nbSortedHits","cssClasses","templateProps"],fc=function(s){var i=s.nbHits,o=s.nbSortedHits,a=s.cssClasses,r=s.templateProps,s=f(s,mc);return n("div",{className:t(a.root)},n(u,d({},r,{templateKey:"text",rootTagName:"span",rootProps:{className:a.text},data:e({hasManySortedResults:o&&1<o,hasNoSortedResults:0===o,hasOneSortedResults:1===o,hasManyResults:1<i,hasNoResults:0===i,hasOneResult:1===i,nbHits:i,nbSortedHits:o,cssClasses:a},s)})))},pc=a({name:"stats"}),Kn=h("Stats"),vc={text:function(e){return"".concat((e.areHitsSorted?function(e){var t=e.nbHits,n=e.hasNoSortedResults,s=e.hasOneSortedResults,o=e.hasManySortedResults,e=e.nbSortedHits,t="sorted out of ".concat(te(t));return n?"No relevant results ".concat(t):s?"1 relevant result ".concat(t):o?"".concat(te(e||0)," relevant results ").concat(t):""}:function(e){var t=e.nbHits,n=e.hasNoResults,s=e.hasOneResult,e=e.hasManyResults;return n?"No results":s?"1 result":e?"".concat(te(t)," results"):""})(e)," found in ").concat(e.processingTimeMS,"ms")}};function bc(e){var t=e.status,s=e.errorCode,e=e.isListening;return"error"===t&&"not-allowed"===s?xc:n(J,null,n("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z",fill:e?"currentColor":"none"}),Cc,Ec,kc)}var jc=function(e){var s=e.currentRefinement,o=e.refine,t=e.cssClasses,e=e.templateProps;return n("div",{className:t.root},n("label",{className:t.label},n("input",{className:t.checkbox,type:"checkbox",checked:s.isRefined,onChange:function(e){return o({isRefined:!e.target.checked})}}),n(u,d({},e,{rootTagName:"span",rootProps:{className:t.labelText},templateKey:"labelText",data:s}))))},yc={labelText:function(e){return e.name}},_c=a({name:"toggle-refinement"}),Je=h("ToggleRefinement"),Oc=function(e){var o=e.cssClasses,s=e.isBrowserSupported,i=e.isListening,l=e.toggleListening,t=e.voiceListeningState,e=e.templates,a=t.status,r=t.transcript,c=t.isSpeechFinal,t=t.errorCode;return n("div",{className:o.root},n(u,{templateKey:"buttonText",rootTagName:"button",rootProps:{className:o.button,type:"button",title:"Search by voice".concat(s?"":" (not supported on this browser)"),onClick:function(e){e.currentTarget instanceof HTMLElement&&e.currentTarget.blur(),l()},disabled:!s},data:{status:a,errorCode:t,isListening:i,transcript:r,isSpeechFinal:c,isBrowserSupported:s},templates:e}),n(u,{templateKey:"status",rootProps:{className:o.status},data:{status:a,errorCode:t,isListening:i,transcript:r,isSpeechFinal:c,isBrowserSupported:s},templates:e}))},xc=n(J,null,n("line",{x1:"1",y1:"1",x2:"23",y2:"23"}),n("path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"}),n("path",{d:"M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"}),n("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),n("line",{x1:"8",y1:"23",x2:"16",y2:"23"})),Cc=n("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),Ec=n("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),kc=n("line",{x1:"8",y1:"23",x2:"16",y2:"23"}),Ac={buttonText:function(e){var t=e.status,s=e.errorCode,e=e.isListening;return n("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},n(bc,{status:t,errorCode:s,isListening:e}))},status:function(e){return n("p",null,e.transcript)}},Sc=a({name:"voice-search"}),dn=h("VoiceSearch"),k=st(function(s){var a,c,l,d,u,s=s||{},i=s.container,h=s.attributesForPrediction,j=s.queryLanguages,m=s.nbHits,f=s.searchDebounceTime,g=s.renderDebounceTime,v=s.escapeHTML,b=s.extraParameters,o=s.templates,o=void 0===o?{}:o,s=s.cssClasses,s=void 0===s?{}:s;if(i)return c=p(i),i={root:t(Oe(),s.root),emptyRoot:t(Oe({modifierName:"empty"}),s.emptyRoot),header:t(Oe({descendantName:"header"}),s.header),loader:t(Oe({descendantName:"loader"}),s.loader),list:t(Oe({descendantName:"list"}),s.list),item:t(Oe({descendantName:"item"}),s.item)},l=(s={containerNode:c,cssClasses:i,templates:o,renderState:{}}).containerNode,d=s.cssClasses,a=s.renderState,u=s.templates,e(e({},Do(function(e,t){var s=e.hits,o=e.isLoading,e=e.instantSearchInstance;t?a.templateProps=x({defaultTemplates:Li,templatesConfig:e.templatesConfig,templates:u}):r(n(Ri,{cssClasses:d,hits:s,isLoading:o,templateProps:a.templateProps}),l)},function(){return r(null,c)})({attributesForPrediction:h,queryLanguages:j,nbHits:m,searchDebounceTime:f,renderDebounceTime:g,escapeHTML:v,extraParameters:b})),{},{$$widgetType:"ais.answers"});throw new Error(Pi("The `container` option is required."))}),H=st(ji),G=Object.freeze({__proto__:null,EXPERIMENTAL_answers:k,dynamicWidgets:ji,EXPERIMENTAL_dynamicWidgets:H,analytics:function(t){var o,i,a,r,c,l,d,u,m,s=t||{},h=s.pushFunction,n=s.delay,p=void 0===n?3e3:n,n=s.triggerOnUIInteraction,f=void 0!==n&&n,n=s.pushInitialSearch,s=s.pushPagination,g=void 0!==s&&s;if(h)return o=null,m=function(e){var t,n,s=[];for(t in e)e.hasOwnProperty(t)&&(n=e[t].join("+"),s.push("".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(t),"_").concat(encodeURIComponent(n))));return s.join("&")},u=function(e){var t,n,o,i,s=[];for(n in e)if(e.hasOwnProperty(n))if(t=e[n],t.hasOwnProperty(">=")&&t.hasOwnProperty("<="))t[">="]&&t[">="][0]===t["<="]&&t["<="][0]?s.push("".concat(n,"=").concat(n,"_").concat(t[">="])):s.push("".concat(n,"=").concat(n,"_").concat(t[">="],"to").concat(t["<="]));else if(t.hasOwnProperty(">="))s.push("".concat(n,"=").concat(n,"_from").concat(t[">="]));else if(t.hasOwnProperty("<="))s.push("".concat(n,"=").concat(n,"_to").concat(t["<="]));else if(t.hasOwnProperty("=")){i=[];for(o in t["="])t["="].hasOwnProperty(o)&&i.push(t["="][o]);s.push("".concat(n,"=").concat(n,"_").concat(i.join("-")))}return s.join("&")},i=function(t){var n,s,o;null!==t&&(o=[],s=m(e(e(e({},t.state.disjunctiveFacetsRefinements),t.state.facetsRefinements),t.state.hierarchicalFacetsRefinements)),n=u(t.state.numericRefinements),""!==s&&o.push(s),""!==n&&o.push(n),s=o.join("&"),n="Query: ".concat(t.state.query||"",", ").concat(s),!0===g&&(n+=", Page: ".concat(t.state.page||0)),a!==n)&&(h(s,t.state,t.results),a=n)},c=!(a="")!==(void 0===n||n),l=function(){i(o)},d=function(){i(o)},{$$type:"ais.analytics",$$widgetType:"ais.analytics",init:function(){!0===f&&(document.addEventListener("click",l),window.addEventListener("beforeunload",d))},render:function(e){var t=e.results,e=e.state;!0===c?c=!1:(o={results:t,state:e},r&&clearTimeout(r),r=window.setTimeout(function(){return i(o)},p))},dispose:function(){!0===f&&(document.removeEventListener("click",l),window.removeEventListener("beforeunload",d))},getRenderState:function(t,n){return e(e({},t),{},{analytics:this.getWidgetRenderState(n)})},getWidgetRenderState:function(){return{widgetParams:t}}};throw new Error(Ba("The `pushFunction` option is required."))},breadcrumb:function(s){var a,c,l,d,u,s=s||{},o=s.container,h=s.attributes,m=s.separator,f=s.rootPath,g=s.transformItems,i=s.templates,i=void 0===i?{}:i,s=s.cssClasses,s=void 0===s?{}:s;if(o)return a=p(o),o={root:t(be(),s.root),noRefinementRoot:t(be({modifierName:"noRefinement"}),s.noRefinementRoot),list:t(be({descendantName:"list"}),s.list),item:t(be({descendantName:"item"}),s.item),selectedItem:t(be({descendantName:"item",modifierName:"selected"}),s.selectedItem),separator:t(be({descendantName:"separator"}),s.separator),link:t(be({descendantName:"link"}),s.link)},l=(s={containerNode:a,cssClasses:o,renderState:{},templates:i}).containerNode,d=s.cssClasses,c=s.renderState,u=s.templates,e(e({},eo(function(e,t){var s=e.canRefine,o=e.createURL,i=e.instantSearchInstance,a=e.items,e=e.refine;t?c.templateProps=x({defaultTemplates:Ei,templatesConfig:i.templatesConfig,templates:u}):r(n(sr,{canRefine:s,cssClasses:d,createURL:o,items:a,refine:e,templateProps:c.templateProps}),l)},function(){return r(null,a)})({attributes:h,separator:m,rootPath:f,transformItems:g})),{},{$$widgetType:"ais.breadcrumb"});throw new Error(ki("The `container` option is required."))},clearRefinements:function(s){var a,c,l,d,u,s=s||{},o=s.container,i=s.templates,i=void 0===i?{}:i,h=s.includedAttributes,m=s.excludedAttributes,f=s.transformItems,s=s.cssClasses,s=void 0===s?{}:s;if(o)return a=p(o),o={root:t(Pt(),s.root),button:t(Pt({descendantName:"button"}),s.button),disabledButton:t(Pt({descendantName:"button",modifierName:"disabled"}),s.disabledButton)},l=(s={containerNode:a,cssClasses:o,renderState:{},templates:i}).containerNode,d=s.cssClasses,c=s.renderState,u=s.templates,e(e({},Fn(function(e,t){var s=e.refine,o=e.canRefine,e=e.instantSearchInstance;t?c.templateProps=x({defaultTemplates:Mi,templatesConfig:e.templatesConfig,templates:u}):r(n(Si,{refine:s,cssClasses:d,hasRefinements:o,templateProps:c.templateProps}),l)},function(){return r(null,a)})({includedAttributes:h,excludedAttributes:m,transformItems:f})),{},{$$widgetType:"ais.clearRefinements"});throw new Error(Fi("The `container` option is required."))},configure:function(t){return e(e({},Rt(c)({searchParameters:t})),{},{$$widgetType:"ais.configure"})},currentRefinements:function(n){var i,n=n||{},o=n.container,a=n.includedAttributes,c=n.excludedAttributes,s=n.cssClasses,s=void 0===s?{}:s,n=n.transformItems;if(o)return i=p(o),o={root:t(ae(),s.root),noRefinementRoot:t(ae({modifierName:"noRefinement"}),s.noRefinementRoot),list:t(ae({descendantName:"list"}),s.list),item:t(ae({descendantName:"item"}),s.item),label:t(ae({descendantName:"label"}),s.label),category:t(ae({descendantName:"category"}),s.category),categoryLabel:t(ae({descendantName:"categoryLabel"}),s.categoryLabel),delete:t(ae({descendantName:"delete"}),s.delete)},e(e({},Dn(Vi,function(){return r(null,i)})({container:i,cssClasses:o,includedAttributes:a,excludedAttributes:c,transformItems:n})),{},{$$widgetType:"ais.currentRefinements"});throw new Error(Di("The `container` option is required."))},EXPERIMENTAL_configureRelatedItems:function(t){return e(e({},Eo(c)(t)),{},{$$widgetType:"ais.configureRelatedItems"})},geoSearch:function(n){var g,j,y,_,w,x,n=n||{},h=n.initialZoom,h=void 0===h?1:h,m=n.initialPosition,m=void 0===m?{lat:0,lng:0}:m,c=n.templates,c=void 0===c?{}:c,i=n.cssClasses,i=void 0===i?{}:i,a=n.builtInMarker,a=void 0===a?{}:a,O=n.customHTMLMarker,l=n.enableRefine,l=void 0===l||l,d=n.enableClearMapRefinement,d=void 0===d||d,b=n.enableRefineControl,b=void 0===b||b,v=n.container,u=n.googleReference,n=f(n,ta);if(!v)throw new Error(hi("The `container` option is required."));if(u)return j=p(v),v={root:t(P(),i.root),tree:P({descendantName:"tree"}),map:t(P({descendantName:"map"}),i.map),control:t(P({descendantName:"control"}),i.control),label:t(P({descendantName:"label"}),i.label),selectedLabel:t(P({descendantName:"label",modifierName:"selected"}),i.selectedLabel),input:t(P({descendantName:"input"}),i.input),redo:t(P({descendantName:"redo"}),i.redo),disabledRedo:t(P({descendantName:"redo",modifierName:"disabled"}),i.disabledRedo),reset:t(P({descendantName:"reset"}),i.reset)},y=e(e({},ea),c),_=e(e({},{createOptions:function(){return{}},events:{}}),a),g=(Boolean(O)||Boolean(c.HTMLMarker))&&e(e({},{createOptions:function(){return{}},events:{}}),O),w=u,x=function(){ge(e,w.maps.OverlayView);var t=ce(e);function e(n){var i,c=n.__id,l=n.position,d=n.map,a=n.template,u=n.className,n=n.anchor,n=void 0===n?{x:0,y:0}:n;return K(this,e),s(o(i=t.call(this)),"__id",void 0),s(o(i),"anchor",void 0),s(o(i),"offset",void 0),s(o(i),"listeners",void 0),s(o(i),"latLng",void 0),s(o(i),"element",void 0),i.__id=c,i.anchor=n,i.listeners={},i.latLng=new w.maps.LatLng(l),i.element=document.createElement("div"),i.element.className=u,i.element.style.position="absolute","object"===B(a)?r(a,i.element):i.element.innerHTML=a,i.setMap(d),i}return W(e,[{key:"onAdd",value:function(){this.getPanes().overlayMouseTarget.appendChild(this.element);var e=this.element.getBoundingClientRect();this.offset={x:this.anchor.x+e.width/2,y:this.anchor.y+e.height},this.element.style.width="".concat(e.width,"px")}},{key:"draw",value:function(){var e=this.getProjection().fromLatLngToDivPixel(this.latLng);this.element.style.left="".concat(Math.round(e.x-this.offset.x),"px"),this.element.style.top="".concat(Math.round(e.y-this.offset.y),"px"),this.element.style.zIndex=String(parseInt(this.element.style.top,10))}},{key:"onRemove",value:function(){var e=this;this.element&&(this.element.parentNode.removeChild(this.element),Object.keys(this.listeners).forEach(function(t){e.element.removeEventListener(t,e.listeners[t])}),delete this.element,delete this.listeners)}},{key:"addListener",value:function(e,t){this.listeners[e]=t;var n=this.element;return n.addEventListener(e,t),{remove:function(){return n.removeEventListener(e,t)}}}},{key:"getPosition",value:function(){return this.latLng}}]),e}(),i=g?function(n){var s=n.item,n=f(n,sa);return new x(e(e(e({},g.createOptions(s)),n),{},{__id:s.objectID,position:s._geoloc,className:t(P({descendantName:"marker"})),template:wi({templateKey:"HTMLMarker",templates:y,data:s})}))}:function(t){var n=t.item,t=f(t,na);return new u.maps.Marker(e(e(e({},_.createOptions(n)),t),{},{__id:n.objectID,position:n._geoloc}))},a=g||_,e(e({},vo(qi,function(){return r(null,j)})(e(e({},n),{},{renderState:{},container:j,googleReference:u,initialZoom:h,initialPosition:m,templates:y,cssClasses:v,createMarker:i,markerOptions:a,enableRefine:l,enableClearMapRefinement:d,enableRefineControl:b}))),{},{$$widgetType:"ais.geoSearch"});throw new Error(hi("The `googleReference` option is required."))},hierarchicalMenu:function(s){var c,l,d,u,h,m,s=s||{},a=s.container,f=s.attributes,g=s.separator,v=s.rootPath,b=s.showParentLevel,j=s.limit,o=s.showMore,o=void 0!==o&&o,y=s.showMoreLimit,_=s.sortBy,w=s.transformItems,i=s.templates,i=void 0===i?{}:i,s=s.cssClasses,s=void 0===s?{}:s;if(a)return l=p(a),a={root:t(z(),s.root),noRefinementRoot:t(z({modifierName:"noRefinement"}),s.noRefinementRoot),list:t(z({descendantName:"list"}),s.list),childList:t(z({descendantName:"list",modifierName:"child"}),s.childList),item:t(z({descendantName:"item"}),s.item),selectedItem:t(z({descendantName:"item",modifierName:"selected"}),s.selectedItem),parentItem:t(z({descendantName:"item",modifierName:"parent"}),s.parentItem),link:t(z({descendantName:"link"}),s.link),selectedItemLink:t(z({descendantName:"link",modifierName:"selected"}),s.selectedItemLink),label:t(z({descendantName:"label"}),s.label),count:t(z({descendantName:"count"}),s.count),showMore:t(z({descendantName:"showMore"}),s.showMore),disabledShowMore:t(z({descendantName:"showMore",modifierName:"disabled"}),s.disabledShowMore)},m=(s={cssClasses:a,containerNode:l,templates:i,showMore:o,renderState:{}}).cssClasses,h=s.containerNode,u=s.showMore,d=s.templates,c=s.renderState,e(e({},In(function(e,t){var s=e.createURL,o=e.items,i=e.refine,a=e.instantSearchInstance,l=e.isShowingMore,f=e.toggleShowMore,e=e.canToggleShowMore;t?c.templateProps=x({defaultTemplates:ua,templatesConfig:a.templatesConfig,templates:d}):r(n(ke,{createURL:s,cssClasses:m,facetValues:o,templateProps:c.templateProps,toggleRefinement:i,showMore:u,toggleShowMore:f,isShowingMore:l,canToggleShowMore:e}),h)},function(){return r(null,l)})({attributes:f,separator:g,rootPath:v,showParentLevel:b,limit:j,showMore:o,showMoreLimit:y,sortBy:_,transformItems:w})),{},{$$widgetType:"ais.hierarchicalMenu"});throw new Error(ha("The `container` option is required."))},hits:function(s){var a,c,l,d,u,s=s||{},o=s.container,h=s.escapeHTML,m=s.transformItems,i=s.templates,i=void 0===i?{}:i,s=s.cssClasses,s=void 0===s?{}:s;if(o)return a=p(o),o={root:t(tt(),s.root),emptyRoot:t(tt({modifierName:"empty"}),s.emptyRoot),list:t(tt({descendantName:"list"}),s.list),item:t(tt({descendantName:"item"}),s.item)},c=(s={containerNode:a,cssClasses:o,renderState:{},templates:i}).renderState,l=s.cssClasses,d=s.containerNode,u=s.templates,e(e({},yt(_n)(function(e,t){var o=e.hits,i=e.results,s=e.instantSearchInstance,a=e.insights,e=e.bindEvent;t?c.templateProps=x({defaultTemplates:fa,templatesConfig:s.templatesConfig,templates:u}):r(n(va,{cssClasses:l,hits:o,results:i,templateProps:c.templateProps,insights:a,sendEvent:function(e){s.sendEventToInsights(e)},bindEvent:e}),d)},function(){return r(null,a)})({escapeHTML:h,transformItems:m})),{},{$$widgetType:"ais.hits"});throw new Error(pa("The `container` option is required."))},hitsPerPage:function(s){var a,c,l,s=s||{},i=s.container,d=s.items,o=s.cssClasses,o=void 0===o?{}:o,s=s.transformItems;if(i)return a=p(i),i={root:t(gn(),o.root),select:t(gn({descendantName:"select"}),o.select),option:t(gn({descendantName:"option"}),o.option)},l=(o={containerNode:a,cssClasses:i}).containerNode,c=o.cssClasses,e(e({},Es(function(e,t){var s=e.items,e=e.refine;t||(t=(U(s,function(e){return e.isRefined})||{}).value,r(n("div",{className:c.root},n(ei,{cssClasses:c,currentValue:t,options:s,setValue:e})),l))},function(){return r(null,a)})({items:d,transformItems:s})),{},{$$widgetType:"ais.hitsPerPage"});throw new Error(ja("The `container` option is required."))},index:Mo,infiniteHits:function(s){var c,l,d,u,h,m,s=s||{},i=s.container,g=s.escapeHTML,v=s.transformItems,a=s.templates,a=void 0===a?{}:a,o=s.cssClasses,o=void 0===o?{}:o,f=s.showPrevious,s=s.cache;if(i)return c=p(i),i={root:t(me(),o.root),emptyRoot:t(me({modifierName:"empty"}),o.emptyRoot),item:t(me({descendantName:"item"}),o.item),list:t(me({descendantName:"list"}),o.list),loadPrevious:t(me({descendantName:"loadPrevious"}),o.loadPrevious),disabledLoadPrevious:t(me({descendantName:"loadPrevious",modifierName:"disabled"}),o.disabledLoadPrevious),loadMore:t(me({descendantName:"loadMore"}),o.loadMore),disabledLoadMore:t(me({descendantName:"loadMore",modifierName:"disabled"}),o.disabledLoadMore)},d=(o={containerNode:c,cssClasses:i,templates:a,showPrevious:f,renderState:{}}).containerNode,u=o.cssClasses,l=o.renderState,h=o.templates,m=o.showPrevious,e(e({},yt(Ut)(function(e,t){var o=e.hits,i=e.results,a=e.showMore,c=e.showPrevious,f=e.isFirstPage,p=e.isLastPage,s=e.instantSearchInstance,g=e.insights,e=e.bindEvent;t?l.templateProps=x({defaultTemplates:_a,templatesConfig:s.templatesConfig,templates:h}):r(n(xa,{cssClasses:u,hits:o,results:i,hasShowPrevious:m,showPrevious:c,showMore:a,templateProps:l.templateProps,isFirstPage:f,isLastPage:p,insights:g,sendEvent:function(e){s.sendEventToInsights(e)},bindEvent:e}),d)},function(){return r(null,c)})({escapeHTML:g,transformItems:v,showPrevious:f,cache:s})),{},{$$widgetType:"ais.infiniteHits"});throw new Error(wa("The `container` option is required."))},menu:function(s){var c,l,d,u,m,f,s=s||{},i=s.container,g=s.attribute,v=s.sortBy,b=s.limit,h=s.showMore,j=s.showMoreLimit,o=s.cssClasses,o=void 0===o?{}:o,a=s.templates,a=void 0===a?{}:a,s=s.transformItems;if(i)return l=p(i),i={root:t(q(),o.root),noRefinementRoot:t(q({modifierName:"noRefinement"}),o.noRefinementRoot),list:t(q({descendantName:"list"}),o.list),item:t(q({descendantName:"item"}),o.item),selectedItem:t(q({descendantName:"item",modifierName:"selected"}),o.selectedItem),link:t(q({descendantName:"link"}),o.link),label:t(q({descendantName:"label"}),o.label),count:t(q({descendantName:"count"}),o.count),showMore:t(q({descendantName:"showMore"}),o.showMore),disabledShowMore:t(q({descendantName:"showMore",modifierName:"disabled"}),o.disabledShowMore)},f=(o={containerNode:l,cssClasses:i,renderState:{},templates:a,showMore:h}).containerNode,m=o.cssClasses,c=o.renderState,d=o.templates,u=o.showMore,e(e({},Wt(function(t,s){var i=t.refine,a=t.items,o=t.createURL,l=t.instantSearchInstance,h=t.isShowingMore,p=t.toggleShowMore,t=t.canToggleShowMore;s?c.templateProps=x({defaultTemplates:Ca,templatesConfig:l.templatesConfig,templates:d}):(s=a.map(function(t){return e(e({},t),{},{url:o(t.value)})}),r(n(ke,{createURL:o,cssClasses:m,facetValues:s,showMore:u,templateProps:c.templateProps,toggleRefinement:i,toggleShowMore:p,isShowingMore:h,canToggleShowMore:t}),f))},function(){return r(null,l)})({attribute:g,limit:b,showMore:h,showMoreLimit:j,sortBy:v,transformItems:s})),{},{$$widgetType:"ais.menu"});throw new Error(Ea("The `container` option is required."))},menuSelect:function(s){var d,u,h,m,f,s=s||{},i=s.container,g=s.attribute,a=s.sortBy,a=void 0===a?["name:asc"]:a,c=s.limit,c=void 0===c?10:c,o=s.cssClasses,o=void 0===o?{}:o,l=s.templates,l=void 0===l?{}:l,s=s.transformItems;if(i)return d=p(i),i={root:t(wt(),o.root),noRefinementRoot:t(wt({modifierName:"noRefinement"}),o.noRefinementRoot),select:t(wt({descendantName:"select"}),o.select),option:t(wt({descendantName:"option"}),o.option)},h=(o={containerNode:d,cssClasses:i,renderState:{},templates:l}).containerNode,m=o.cssClasses,u=o.renderState,f=o.templates,e(e({},Wt(function(e,t){var s=e.refine,o=e.items,e=e.instantSearchInstance;t?u.templateProps=x({defaultTemplates:Sa,templatesConfig:e.templatesConfig,templates:f}):r(n(Aa,{cssClasses:m,items:o,refine:s,templateProps:u.templateProps}),h)},function(){return r(null,d)})({attribute:g,limit:c,sortBy:a,transformItems:s})),{},{$$widgetType:"ais.menuSelect"});throw new Error(Ma("The `container` option is required."))},numericMenu:function(s){var c,l,d,u,h,m,s=s||{},i=s.container,f=s.attribute,g=s.items,o=s.cssClasses,o=void 0===o?{}:o,a=s.templates,a=void 0===a?{}:a,s=s.transformItems;if(i)return c=p(i),i={root:t(le(),o.root),noRefinementRoot:t(le({modifierName:"noRefinement"}),o.noRefinementRoot),list:t(le({descendantName:"list"}),o.list),item:t(le({descendantName:"item"}),o.item),selectedItem:t(le({descendantName:"item",modifierName:"selected"}),o.selectedItem),label:t(le({descendantName:"label"}),o.label),radio:t(le({descendantName:"radio"}),o.radio),labelText:t(le({descendantName:"labelText"}),o.labelText)},d=(o={containerNode:c,attribute:f,cssClasses:i,renderState:{},templates:a}).containerNode,u=o.attribute,h=o.cssClasses,l=o.renderState,m=o.templates,e(e({},zs(function(e,t){var s=e.createURL,o=e.instantSearchInstance,i=e.refine,e=e.items;t?l.templateProps=x({defaultTemplates:Ta,templatesConfig:o.templatesConfig,templates:m}):r(n(ke,{createURL:s,cssClasses:h,facetValues:e,templateProps:l.templateProps,toggleRefinement:i,attribute:u}),d)},function(){return r(null,c)})({attribute:f,items:g,transformItems:s})),{},{$$widgetType:"ais.numericMenu"});throw new Error(za("The `container` option is required."))},pagination:function(s){var h,m,f,g,v,b,j,y,_,s=s||{},a=s.container,i=s.templates,i=void 0===i?{}:i,o=s.cssClasses,o=void 0===o?{}:o,w=s.totalPages,O=s.padding,u=s.showFirst,u=void 0===u||u,d=s.showLast,d=void 0===d||d,l=s.showPrevious,l=void 0===l||l,c=s.showNext,c=void 0===c||c,s=s.scrollTo,s=void 0===s?"body":s;if(a)return h=p(a),s=!1!==(a=!0===s?"body":s)&&p(a),a={root:t(R(),o.root),noRefinementRoot:t(R({modifierName:"noRefinement"}),o.noRefinementRoot),list:t(R({descendantName:"list"}),o.list),item:t(R({descendantName:"item"}),o.item),firstPageItem:t(R({descendantName:"item",modifierName:"firstPage"}),o.firstPageItem),lastPageItem:t(R({descendantName:"item",modifierName:"lastPage"}),o.lastPageItem),previousPageItem:t(R({descendantName:"item",modifierName:"previousPage"}),o.previousPageItem),nextPageItem:t(R({descendantName:"item",modifierName:"nextPage"}),o.nextPageItem),pageItem:t(R({descendantName:"item",modifierName:"page"}),o.pageItem),selectedItem:t(R({descendantName:"item",modifierName:"selected"}),o.selectedItem),disabledItem:t(R({descendantName:"item",modifierName:"disabled"}),o.disabledItem),link:t(R({descendantName:"link"}),o.link)},o=e(e({},$a),i),_=(i={containerNode:h,cssClasses:a,templates:o,showFirst:u,showLast:d,showPrevious:l,showNext:c,scrollToNode:s}).containerNode,y=i.cssClasses,j=i.templates,f=i.showFirst,b=i.showLast,v=i.showPrevious,g=i.showNext,m=i.scrollToNode,e(e({},Bs(function(e,t){var s=e.createURL,o=e.currentRefinement,i=e.nbPages,a=e.pages,c=e.isFirstPage,l=e.isLastPage,d=e.refine;t||r(n(Na,{createURL:s,cssClasses:y,currentPage:o,templates:j,nbPages:i,pages:a,isFirstPage:c,isLastPage:l,setCurrentPage:function(e){d(e),!1!==m&&m.scrollIntoView()},showFirst:f,showLast:b,showPrevious:v,showNext:g}),_)},function(){return r(null,h)})({totalPages:w,padding:O})),{},{$$widgetType:"ais.pagination"});throw new Error(Va("The `container` option is required."))},panel:function(s){var s=s||{},o=s.templates,l=void 0===o?{}:o,o=s.hidden,d=void 0===o?function(){return!1}:o,o=s.collapsed,s=s.cssClasses,s=void 0===s?{}:s,i=document.createElement("div"),a=Boolean(o),u="function"==typeof o?o:function(){return!1},c={root:t(X(),s.root),noRefinementRoot:t(X({modifierName:"noRefinement"}),s.noRefinementRoot),collapsibleRoot:t(X({modifierName:"collapsible"}),s.collapsibleRoot),collapsedRoot:t(X({modifierName:"collapsed"}),s.collapsedRoot),collapseButton:t(X({descendantName:"collapseButton"}),s.collapseButton),collapseIcon:t(X({descendantName:"collapseIcon"}),s.collapseIcon),body:t(X({descendantName:"body"}),s.body),header:t(X({descendantName:"header"}),s.header),footer:t(X({descendantName:"footer"}),s.footer)};return function(t){return function(s){var o,h,m,f,g,v,b,j;if(s&&s.container)return m=p(s.container),h={containerNode:m,bodyContainerNode:i,cssClasses:c,templates:e(e({},{header:"",footer:"",collapseButtonText:function(e){return e=e.collapsed,`<svg
          class="`.concat(c.collapseIcon,`"
          width="1em"
          height="1em"
          viewBox="0 0 500 500"
        >
        <path d="`).concat(e?"M100 250l300-150v300z":"M250 400l150-300H100z",`" fill="currentColor" />
        </svg>`)}}),l)},g=h.containerNode,v=h.bodyContainerNode,b=h.cssClasses,j=h.templates,f=function(e){var t=e.options,s=e.hidden,o=e.collapsible,e=e.collapsed;r(n(rr,{cssClasses:b,hidden:s,collapsible:o,isCollapsed:e,templates:j,data:t,bodyElement:v}),g)},o=t(e(e({},s),{},{container:i})),e(e({},o),{},{init:function(){for(var t,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];t=s[0],t=e(e({},o.getWidgetRenderState?o.getWidgetRenderState(t):{}),t),f({options:t,hidden:!0,collapsible:a,collapsed:!1}),"function"==typeof o.init&&(t=o.init).call.apply(t,[this].concat(s))},render:function(){for(var t,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];t=s[0],t=e(e({},o.getWidgetRenderState?o.getWidgetRenderState(t):{}),t),f({options:t,hidden:Boolean(d(t)),collapsible:a,collapsed:Boolean(u(t))}),"function"==typeof o.render&&(t=o.render).call.apply(t,[this].concat(s))},dispose:function(){if(r(null,m),"function"==typeof o.dispose){for(var t,n=arguments.length,s=new Array(n),e=0;e<n;e++)s[e]=arguments[e];return(t=o.dispose).call.apply(t,[this].concat(s))}}});throw new Error(cr("The `container` option is required in the widget within the panel."))}}},places:function(t){var n,o,a=t||{},r=a.placesReference,i=a.defaultPosition,s=void 0===i?[]:i,i=f(a,dr);if("function"!=typeof r)throw new Error("The `placesReference` option requires a valid Places.js reference.");return o=r(i),n={query:"",initialLatLngViaIP:void 0,isInitialLatLngViaIPSet:!1},{$$type:"ais.places",$$widgetType:"ais.places",init:function(e){var t=e.helper;o.on("change",function(e){var e=e.suggestion,s=e.value,e=e.latlng,o=e.lat,e=e.lng;n.query=s,t.setQueryParameter("insideBoundingBox",void 0).setQueryParameter("aroundLatLngViaIP",!1).setQueryParameter("aroundLatLng","".concat(o,",").concat(e)).search()}),o.on("clear",function(){n.query="",t.setQueryParameter("insideBoundingBox",void 0),1<s.length?t.setQueryParameter("aroundLatLngViaIP",!1).setQueryParameter("aroundLatLng",s.join(",")):t.setQueryParameter("aroundLatLngViaIP",n.initialLatLngViaIP).setQueryParameter("aroundLatLng",void 0),t.search()})},getWidgetUiState:function(t,o){return o=o.searchParameters.aroundLatLng||s.join(","),o!==s.join(",")||n.query?e(e({},t),{},{places:{query:n.query,position:o}}):(t.places,f(t,ur))},getWidgetSearchParameters:function(e,t){var t=t.uiState.places||{},i=t.query,i=void 0===i?"":i,t=t.position,t=void 0===t?s.join(","):t;return n.query=i,n.isInitialLatLngViaIPSet||(n.isInitialLatLngViaIPSet=!0,n.initialLatLngViaIP=e.aroundLatLngViaIP),o.setVal(i),o.close(),e.setQueryParameter("insideBoundingBox",void 0).setQueryParameter("aroundLatLngViaIP",!1).setQueryParameter("aroundLatLng",t||void 0)},getRenderState:function(t,n){return e(e({},t),{},{places:this.getWidgetRenderState(n)})},getWidgetRenderState:function(){return{widgetParams:t}}}},poweredBy:function(s){var a,c,l,s=s||{},i=s.container,o=s.cssClasses,o=void 0===o?{}:o,s=s.theme,s=void 0===s?"light":s;if(i)return a=p(i),i={root:t(dt(),dt({modifierName:"dark"===s?"dark":"light"}),o.root),link:t(dt({descendantName:"link"}),o.link),logo:t(dt({descendantName:"logo"}),o.logo)},c=(o={containerNode:a,cssClasses:i}).containerNode,l=o.cssClasses,e(e({},bo(function(e,t){var s=e.url,e=e.widgetParams;t&&(t=e.theme,r(n(hr,{cssClasses:l,url:s,theme:void 0===t?"light":t}),c))},function(){return r(null,a)})({theme:s})),{},{$$widgetType:"ais.poweredBy"});throw new Error(fr("The `container` option is required."))},queryRuleContext:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(t.trackedFilters)return e(e({},Tt(c)(t)),{},{$$widgetType:"ais.queryRuleContext"});throw new Error(pr("The `trackedFilters` option is required."))},queryRuleCustomData:function(s){var c,l,d,u,s=s||{},a=s.container,i=s.cssClasses,i=void 0===i?{}:i,o=s.templates,o=void 0===o?{}:o,s=s.transformItems,s=void 0===s?function(e){return e}:s;if(a)return i={root:t(jr(),i.root)},c=p(a),a=e(e({},vr),o),l=(o={containerNode:c,cssClasses:i,renderState:{},templates:a}).containerNode,d=o.cssClasses,u=o.templates,e(e({},Tt(function(e){e=e.items,r(n(gr,{cssClasses:d,templates:u,items:e}),l)},function(){r(null,c)})({transformItems:s})),{},{$$widgetType:"ais.queryRuleCustomData"});throw new Error(br("The `container` option is required."))},rangeInput:function(s){var c,l,d,u,h,s=s||{},i=s.container,m=s.attribute,f=s.min,v=s.max,a=s.precision,a=void 0===a?0:a,o=s.cssClasses,o=void 0===o?{}:o,s=s.templates,s=void 0===s?{}:s;if(i)return c=p(i),i={root:t(ne(),o.root),noRefinement:t(ne({modifierName:"noRefinement"})),form:t(ne({descendantName:"form"}),o.form),label:t(ne({descendantName:"label"}),o.label),input:t(ne({descendantName:"input"}),o.input),inputMin:t(ne({descendantName:"input",modifierName:"min"}),o.inputMin),inputMax:t(ne({descendantName:"input",modifierName:"max"}),o.inputMax),separator:t(ne({descendantName:"separator"}),o.separator),submit:t(ne({descendantName:"submit"}),o.submit)},d=(o={containerNode:c,cssClasses:i,templates:s,renderState:{}}).containerNode,u=o.cssClasses,l=o.renderState,h=o.templates,e(e({},Ht(function(e,t){var a=e.refine,s=e.range,o=e.start,i=e.widgetParams,e=e.instantSearchInstance;t?l.templateProps=x({defaultTemplates:Or,templatesConfig:e.templatesConfig,templates:h}):(t=s.min,e=s.max,o=(s=g(o,2))[0],s=s[1],i=1/Math.pow(10,i.precision||0),r(n(yr,{min:t,max:e,step:i,values:{min:o!==-1/0&&o!==t?o:void 0,max:s!==1/0&&s!==e?s:void 0},cssClasses:u,refine:a,templateProps:l.templateProps}),d))},function(){return r(null,c)})({attribute:m,min:f,max:v,precision:a})),{},{$$type:"ais.rangeInput",$$widgetType:"ais.rangeInput"});throw new Error(_r("The `container` option is required."))},rangeSlider:function(s){var l,d,u,h,m,f,s=s||{},i=s.container,v=s.attribute,b=s.min,j=s.max,o=s.cssClasses,o=void 0===o?{}:o,y=s.step,c=s.pips,c=void 0===c||c,a=s.precision,a=void 0===a?0:a,s=s.tooltips,s=void 0===s||s;if(i)return l=p(i),i={root:t(Jn(),o.root),disabledRoot:t(Jn({modifierName:"disabled"}),o.disabledRoot)},f=(o={containerNode:l,step:y,pips:c,tooltips:s,cssClasses:i}).containerNode,m=o.cssClasses,d=o.pips,h=o.step,u=o.tooltips,e(e({},Ht(function(e,t){var o,i=e.refine,s=e.range,e=e.start;t||(t=s.min,s=s.max,o=(e=g(e,2))[0],e=e[1],r(n(Vr,{cssClasses:m,refine:i,min:t,max:s,values:[s<(i=o===-1/0?t:o)?s:i,(o=e===1/0?s:e)<t?t:o],tooltips:u,step:h,pips:d}),f))},function(){return r(null,l)})({attribute:v,min:b,max:j,precision:a})),{},{$$type:"ais.rangeSlider",$$widgetType:"ais.rangeSlider"});throw new Error($r("The `container` option is required."))},ratingMenu:function(s){var c,l,d,u,h,s=s||{},i=s.container,m=s.attribute,a=s.max,a=void 0===a?5:a,o=s.cssClasses,o=void 0===o?{}:o,s=s.templates,s=void 0===s?{}:s;if(i)return c=p(i),i={root:t(S(),o.root),noRefinementRoot:t(S({modifierName:"noRefinement"}),o.noRefinementRoot),list:t(S({descendantName:"list"}),o.list),item:t(S({descendantName:"item"}),o.item),selectedItem:t(S({descendantName:"item",modifierName:"selected"}),o.selectedItem),disabledItem:t(S({descendantName:"item",modifierName:"disabled"}),o.disabledItem),link:t(S({descendantName:"link"}),o.link),starIcon:t(S({descendantName:"starIcon"}),o.starIcon),fullStarIcon:t(S({descendantName:"starIcon",modifierName:"full"}),o.fullStarIcon),emptyStarIcon:t(S({descendantName:"starIcon",modifierName:"empty"}),o.emptyStarIcon),label:t(S({descendantName:"label"}),o.label),count:t(S({descendantName:"count"}),o.count)},d=(o={containerNode:c,cssClasses:i,renderState:{},templates:s}).containerNode,u=o.cssClasses,h=o.templates,l=o.renderState,e(e({},Qs(function(e,t){var s=e.refine,o=e.items,i=e.createURL,e=e.instantSearchInstance;t?l.templateProps=x({defaultTemplates:Kr,templatesConfig:e.templatesConfig,templates:h}):r(n(ke,{createURL:i,cssClasses:u,facetValues:o,templateProps:l.templateProps,toggleRefinement:s},n("svg",{style:"display:none;"},n("symbol",{id:S({descendantName:"starSymbol"}),viewBox:"0 0 24 24"},Gr),n("symbol",{id:S({descendantName:"starEmptySymbol"}),viewBox:"0 0 24 24"},Xr))),d)},function(){return r(null,c)})({attribute:m,max:a})),{},{$$widgetType:"ais.ratingMenu"});throw new Error(qr("The `container` option is required."))},refinementList:function(s){var a,m,f,g,v,b,j,y,w,O,s=s||{},l=s.container,S=s.attribute,A=s.operator,C=s.sortBy,k=s.limit,_=s.showMore,E=s.showMoreLimit,c=s.searchable,c=void 0!==c&&c,h=s.searchablePlaceholder,h=void 0===h?"Search...":h,u=s.searchableEscapeFacetValues,d=s.searchableIsAlwaysActive,d=void 0===d||d,o=s.cssClasses,o=void 0===o?{}:o,i=s.templates,i=void 0===i?{}:i,s=s.transformItems;if(l)return u=!!c&&Boolean(void 0===u||u),m=p(l),l={root:t(T(),o.root),noRefinementRoot:t(T({modifierName:"noRefinement"}),o.noRefinementRoot),list:t(T({descendantName:"list"}),o.list),item:t(T({descendantName:"item"}),o.item),selectedItem:t(T({descendantName:"item",modifierName:"selected"}),o.selectedItem),searchBox:t(T({descendantName:"searchBox"}),o.searchBox),label:t(T({descendantName:"label"}),o.label),checkbox:t(T({descendantName:"checkbox"}),o.checkbox),labelText:t(T({descendantName:"labelText"}),o.labelText),count:t(T({descendantName:"count"}),o.count),noResults:t(T({descendantName:"noResults"}),o.noResults),showMore:t(T({descendantName:"showMore"}),o.showMore),disabledShowMore:t(T({descendantName:"showMore",modifierName:"disabled"}),o.disabledShowMore),searchable:{root:t(oe(),o.searchableRoot),form:t(oe({descendantName:"form"}),o.searchableForm),input:t(oe({descendantName:"input"}),o.searchableInput),submit:t(oe({descendantName:"submit"}),o.searchableSubmit),submitIcon:t(oe({descendantName:"submitIcon"}),o.searchableSubmitIcon),reset:t(oe({descendantName:"reset"}),o.searchableReset),resetIcon:t(oe({descendantName:"resetIcon"}),o.searchableResetIcon),loadingIndicator:t(oe({descendantName:"loadingIndicator"}),o.searchableLoadingIndicator),loadingIcon:t(oe({descendantName:"loadingIcon"}),o.searchableLoadingIcon)}},o={containerNode:m,cssClasses:l,templates:i,searchBoxTemplates:{submit:i.searchableSubmit,reset:i.searchableReset,loadingIndicator:i.searchableLoadingIndicator},renderState:{},searchable:c,searchablePlaceholder:h,searchableIsAlwaysActive:d,showMore:_},v=o.containerNode,b=o.cssClasses,f=o.templates,O=o.searchBoxTemplates,a=o.renderState,y=o.showMore,w=o.searchable,g=o.searchablePlaceholder,j=o.searchableIsAlwaysActive,e(e({},qs(function(e,t){var c=e.refine,s=e.items,l=e.createURL,d=e.searchForItems,o=e.isFromSearch,i=e.instantSearchInstance,u=e.toggleShowMore,h=e.isShowingMore,m=e.hasExhaustiveItems,e=e.canToggleShowMore;t?(a.templateProps=x({defaultTemplates:tc,templatesConfig:i.templatesConfig,templates:f}),a.searchBoxTemplateProps=x({defaultTemplates:Qn,templatesConfig:i.templatesConfig,templates:O})):r(n(ke,{createURL:l,cssClasses:b,facetValues:s,templateProps:a.templateProps,searchBoxTemplateProps:a.searchBoxTemplateProps,toggleRefinement:c,searchFacetValues:w?d:void 0,searchPlaceholder:g,searchIsAlwaysActive:j,isFromSearch:o,showMore:y&&!o&&0<s.length,toggleShowMore:u,isShowingMore:h,hasExhaustiveItems:m,canToggleShowMore:e}),v)},function(){return r(null,m)})({attribute:S,operator:A,limit:k,showMore:_,showMoreLimit:E,sortBy:C,escapeFacetValues:u,transformItems:s})),{},{$$widgetType:"ais.refinementList"});throw new Error(nc("The `container` option is required."))},relevantSort:function(s){var a,c,l,d,i=s.container,o=s.templates,o=void 0===o?{}:o,s=s.cssClasses,s=void 0===s?{}:s;if(i)return a=p(i),i={root:t(At(),s.root),text:t(At({descendantName:"text"}),s.text),button:t(At({descendantName:"button"}),s.button)},s=e(e({},ac),o),c=(o={containerNode:a,cssClasses:i,renderState:{},templates:s}).containerNode,l=o.cssClasses,d=o.templates,e(e({},No(function(e){var t=e.isRelevantSorted,s=e.isVirtualReplica,e=e.refine;r(n(ic,{cssClasses:l,templates:d,isRelevantSorted:t,isVirtualReplica:s,refine:e}),c)},function(){r(null,a)})({})),{},{$$widgetType:"ais.relevantSort"});throw new Error(rc("The `container` option is required."))},searchBox:function(s){var m,f,g,v,b,j,y,_,w,O,s=s||{},i=s.container,h=s.placeholder,h=void 0===h?"":h,o=s.cssClasses,o=void 0===o?{}:o,u=s.autofocus,u=void 0!==u&&u,d=s.searchAsYouType,d=void 0===d||d,l=s.showReset,l=void 0===l||l,c=s.showSubmit,c=void 0===c||c,a=s.showLoadingIndicator,a=void 0===a||a,x=s.queryHook,s=s.templates,s=void 0===s?{}:s;if(i)return m=p(i),i={root:t(se(),o.root),form:t(se({descendantName:"form"}),o.form),input:t(se({descendantName:"input"}),o.input),submit:t(se({descendantName:"submit"}),o.submit),submitIcon:t(se({descendantName:"submitIcon"}),o.submitIcon),reset:t(se({descendantName:"reset"}),o.reset),resetIcon:t(se({descendantName:"resetIcon"}),o.resetIcon),loadingIndicator:t(se({descendantName:"loadingIndicator"}),o.loadingIndicator),loadingIcon:t(se({descendantName:"loadingIcon"}),o.loadingIcon)},o=e(e({},Qn),s),O=(s={containerNode:m,cssClasses:i,placeholder:h,templates:o,autofocus:u,searchAsYouType:d,showReset:l,showSubmit:c,showLoadingIndicator:a}).containerNode,w=s.cssClasses,_=s.placeholder,f=s.templates,y=s.autofocus,j=s.searchAsYouType,b=s.showReset,v=s.showSubmit,g=s.showLoadingIndicator,e(e({},Gs(function(e){var t=e.refine,s=e.query,e=e.isSearchStalled;r(n(tn,{query:s,placeholder:_,autofocus:y,refine:t,searchAsYouType:j,templates:f,showSubmit:v,showReset:b,showLoadingIndicator:g,isSearchStalled:e,cssClasses:w}),O)},function(){return r(null,m)})({queryHook:x})),{},{$$widgetType:"ais.searchBox"});throw new Error(lc("The `container` option is required."))},sortBy:function(s){var i,c,l,s=s||{},a=s.container,d=s.items,o=s.cssClasses,o=void 0===o?{}:o,s=s.transformItems;if(a)return i=p(a),a={root:t(Bt(),o.root),select:t(Bt({descendantName:"select"}),o.select),option:t(Bt({descendantName:"option"}),o.option)},l=(o={containerNode:i,cssClasses:a}).containerNode,c=o.cssClasses,e(e({},Xs(function(e,t){var s=e.currentRefinement,o=e.options,e=e.refine;t||r(n("div",{className:c.root},n(ei,{cssClasses:c,currentValue:s,options:o,setValue:e})),l)},function(){return r(null,i)})({container:i,items:d,transformItems:s})),{},{$$widgetType:"ais.sortBy"});throw new Error(uc("The `container` option is required."))},stats:function(s){var a,c,l,d,u,s=s||{},i=s.container,o=s.cssClasses,o=void 0===o?{}:o,s=s.templates,s=void 0===s?{}:s;if(i)return a=p(i),i={root:t(Kn(),o.root),text:t(Kn({descendantName:"text"}),o.text)},c=(o={containerNode:a,cssClasses:i,templates:s,renderState:{}}).renderState,l=o.cssClasses,d=o.containerNode,u=o.templates,e(e({},Zs(function(e,t){var s=e.hitsPerPage,o=e.nbHits,i=e.nbSortedHits,a=e.areHitsSorted,h=e.nbPages,m=e.page,f=e.processingTimeMS,p=e.query,e=e.instantSearchInstance;t?c.templateProps=x({defaultTemplates:vc,templatesConfig:e.templatesConfig,templates:u}):r(n(fc,{cssClasses:l,hitsPerPage:s,nbHits:o,nbSortedHits:i,areHitsSorted:a,nbPages:h,page:m,processingTimeMS:f,query:p,templateProps:c.templateProps}),d)},function(){return r(null,a)})({})),{},{$$widgetType:"ais.stats"});throw new Error(pc("The `container` option is required."))},toggleRefinement:function(s){var l,d,u,h,m,s=s||{},i=s.container,f=s.attribute,o=s.cssClasses,o=void 0===o?{}:o,a=s.templates,a=void 0===a?{}:a,c=s.on,c=void 0===c||c,s=s.off;if(i)return l=p(i),i={root:t(Je(),o.root),label:t(Je({descendantName:"label"}),o.label),checkbox:t(Je({descendantName:"checkbox"}),o.checkbox),labelText:t(Je({descendantName:"labelText"}),o.labelText)},u=(o={containerNode:l,cssClasses:i,renderState:{},templates:a}).containerNode,h=o.cssClasses,d=o.renderState,m=o.templates,e(e({},Js(function(e,t){var s=e.value,o=e.refine,e=e.instantSearchInstance;t?d.templateProps=x({defaultTemplates:yc,templatesConfig:e.templatesConfig,templates:m}):r(n(jc,{cssClasses:h,currentRefinement:s,templateProps:d.templateProps,refine:o}),u)},function(){return r(null,l)})({attribute:f,on:c,off:s})),{},{$$widgetType:"ais.toggleRefinement"});throw new Error(_c("The `container` option is required."))},voiceSearch:function(s){var c,d,u,h,s=s||{},a=s.container,o=s.cssClasses,o=void 0===o?{}:o,i=s.templates,i=void 0===i?{}:i,l=s.searchAsYouSpeak,l=void 0!==l&&l,m=s.language,f=s.additionalQueryParameters,s=s.createVoiceSearchHelper;if(a)return c=p(a),a={root:t(dn(),o.root),button:t(dn({descendantName:"button"}),o.button),status:t(dn({descendantName:"status"}),o.status)},o=e(e({},Ac),i),d=(i={containerNode:c,cssClasses:a,templates:o}).containerNode,u=i.cssClasses,h=i.templates,e(e({},To(function(e){var t=e.isBrowserSupported,s=e.isListening,o=e.toggleListening,e=e.voiceListeningState;r(n(Oc,{cssClasses:u,templates:h,isBrowserSupported:t,isListening:s,toggleListening:o,voiceListeningState:e}),d)},function(){return r(null,c)})({container:c,cssClasses:a,templates:o,searchAsYouSpeak:l,language:m,additionalQueryParameters:f,createVoiceSearchHelper:s})),{},{$$widgetType:"ais.voiceSearch"});throw new Error(Sc("The `container` option is required."))}}),k=Object.freeze({__proto__:null,createInsightsMiddleware:function(t){var n,o,s=(t=t||{}).insightsClient,a=t.insightsInitParams,i=t.onEvent;if(null===s||s)return o=Boolean(s),n=null===s?c:s,function(t){var r,m,l=t.instantSearchInstance,u=g((t=l.client).transporter?(u=(d=t.transporter).headers,d=d.queryParameters,[u[h="x-algolia-application-id"]||d[h],u[h="x-algolia-api-key"]||d[h]]):[t.applicationID,t.apiKey],2),d=u[0],h=u[1],f=void 0,p=void 0;return Array.isArray(n.queue)&&(t=U(n.queue.slice().reverse(),function(e){return"setUserToken"===g(e,1)[0]})||[],f=g(t,2)[1]),n("getUserToken",null,function(e,t){p=t}),n("init",e({appId:d,apiKey:h},a)),{onStateChange:function(){},subscribe:function(){},started:function(){n("addAlgoliaAgent","insights-middleware"),r=l.helper,m={userToken:r.state.userToken,clickAnalytics:r.state.clickAnalytics},r.overrideStateWithoutTriggeringChangeEvent(e(e({},r.state),{},{clickAnalytics:!0})),l.scheduleSearch();function t(t){r.overrideStateWithoutTriggeringChangeEvent(e(e({},r.state),{},{userToken:t})),l.scheduleSearch()}var a=lr();o&&a&&t(a),p?n("setUserToken",p):f&&n("setUserToken",f),n("onUserTokenChange",t,{immediate:!0}),l.sendEventToInsights=function(e){i?i(e,s):e.insightsMethod&&Boolean(r.state.userToken)&&n(e.insightsMethod,e.payload)}},unsubscribe:function(){n("onUserTokenChange",void 0),l.sendEventToInsights=c,r&&m&&(r.setState(e(e({},r.state),m)),l.scheduleSearch())}}};throw new Error("The `insightsClient` option is required. To disable, set it to `null`.")},createRouterMiddleware:En,isMetadataEnabled:kn,createMetadataMiddleware:An}),H=Object.freeze({__proto__:null,history:to}),Fc=["configure"];function Vn(e){return e.configure,f(e,Fc)}Bn=Object.freeze({__proto__:null,simple:js,singleIndex:function(e){return{stateToRoute:function(t){return Vn(t[e]||{})},routeToState:function(){return s({},e,Vn(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}))}}}}),Hn=["page"];function Nn(e){return e=e||{},e.page,f(e,Hn)}nt="ais.infiniteHits";function F(e){return new Tn(e)}return F.version="4.49.3",F.connectors=D,F.widgets=G,F.middlewares=k,F.routers=H,F.stateMappings=Bn,F.createInfiniteHitsSessionStorageCache=function(){return{read:function(e){var t,e=e.state,n=Y(function(e){return e.window.sessionStorage});if(!n)return null;try{return t=JSON.parse(n.getItem(nt)),t&&he(t.state,Nn(e))?t.hits:null}catch(e){if(e instanceof SyntaxError)try{n.removeItem(nt)}catch{}return null}},write:function(e){var n=e.state,e=e.hits,t=Y(function(e){return e.window.sessionStorage});if(t)try{t.setItem(nt,JSON.stringify({state:Nn(n),hits:e}))}catch{}}}},F.highlight=xo,F.reverseHighlight=so,F.snippet=Ws,F.reverseSnippet=Rs,F.insights=Ns,F})