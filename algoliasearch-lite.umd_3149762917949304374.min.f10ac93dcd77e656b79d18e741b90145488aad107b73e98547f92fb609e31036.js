/*! algoliasearch-lite.umd.js | 4.14.2 | Â© Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).algoliasearch=t()}(this,function(){"use strict";function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){var n,s=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)),s}function e(e){for(var t,n=1;n<arguments.length;n++)t=null!=arguments[n]?arguments[n]:{},n%2?_(Object(t),!0).forEach(function(n){E(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))});return e}function F(e,t){if(e==null)return{};var n,s,o,i=function(e,t){if(e==null)return{};var n,s,o={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n,r,s=[],o=!0,i=!1,a=void 0;try{for(n=e[Symbol.iterator]();!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return s}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function k(e){var s,t="algoliasearch-client-js-".concat(e.key),n=function(){return void 0===s&&(s=e.localStorage||window.localStorage),s},o=function(){return JSON.parse(n().getItem(t)||"{}")};return{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){var s=JSON.stringify(e),n=o()[s];return Promise.all([n||t(),void 0!==n])}).then(function(e){var t=r(e,2),s=t[0],o=t[1];return Promise.all([s,o||n.miss(s)])}).then(function(e){return r(e,1)[0]})},set:function(e,s){return Promise.resolve().then(function(){var i=o();return i[JSON.stringify(e)]=s,n().setItem(t,JSON.stringify(i)),s})},delete:function(e){return Promise.resolve().then(function(){var s=o();delete s[JSON.stringify(e)],n().setItem(t,JSON.stringify(s))})},clear:function(){return Promise.resolve().then(function(){n().removeItem(t)})}}}function s(e){var t=c(e.caches),n=t.shift();return void 0===n?{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},s=t();return s.then(function(e){return Promise.all([e,n.miss(e)])}).then(function(e){return r(e,1)[0]})},set:function(e,t){return Promise.resolve(t)},delete:function(){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return n.get(e,o,i).catch(function(){return s({caches:t}).get(e,o,i)})},set:function(e,o){return n.set(e,o).catch(function(){return s({caches:t}).set(e,o)})},delete:function(e){return n.delete(e).catch(function(){return s({caches:t}).delete(e)})},clear:function(){return n.clear().catch(function(){return s({caches:t}).clear()})}}}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},e={};return{get:function(n,s){var i,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},o=JSON.stringify(n);return o in e?Promise.resolve(t.serializable?JSON.parse(e[o]):e[o]):(i=s(),r=a&&a.miss||function(){return Promise.resolve()},i.then(function(e){return r(e)}).then(function(){return i}))},set:function(n,s){return e[JSON.stringify(n)]=t.serializable?JSON.stringify(s):s,Promise.resolve(s)},delete:function(t){return delete e[JSON.stringify(t)],Promise.resolve()},clear:function(){return e={},Promise.resolve()}}}function I(e){for(t=e.length-1;t>0;t--){var t,n=Math.floor(Math.random()*(t+1)),s=e[t];e[t]=e[n],e[n]=s}return e}function d(e,t){return t?(Object.keys(t).forEach(function(n){e[n]=t[n](e)}),e):e}function i(e){for(var o,n=arguments.length,s=new Array(n>1?n-1:0),t=1;t<n;t++)s[t-1]=arguments[t];return o=0,e.replace(/%s/g,function(){return encodeURIComponent(s[o++])})}o={WithinQueryParameters:0,WithinHeaders:1};function m(e,t){var n=e||{},s=n.data||{};return Object.keys(n).forEach(function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(s[e]=n[e])}),{data:Object.entries(s).length>0?s:void 0,timeout:n.timeout||t,headers:n.headers||{},queryParameters:n.queryParameters||{},cacheable:n.cacheable}}var t={Read:1,Write:2,Any:3},p=1,L=2,v=3;function b(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return e(e({},t),{},{status:n,lastUpdate:Date.now()})}function j(e){return"string"==typeof e?{protocol:"https",url:e,accept:t.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||t.Any}}a="GET",n="POST";function A(e,t){return Promise.all(t.map(function(t){return e.get(t,function(){return Promise.resolve(b(t))})})).then(function(e){var o=e.filter(function(e){return function(e){return e.status===p||Date.now()-e.lastUpdate>12e4}(e)}),n=e.filter(function(e){return function(e){return e.status===v&&Date.now()-e.lastUpdate<=12e4}(e)}),s=[].concat(c(o),c(n));return{getTimeout:function(e,t){return(0===n.length&&0===e?1:n.length+3+e)*t},statelessHosts:s.length>0?s.map(function(e){return j(e)}):t}})}function O(t,n,s,o){var i=[],l=function(t,n){if(t.method===a||void 0===t.data&&void 0===n.data)return;var s=Array.isArray(t.data)?t.data:e(e({},t.data),n.data);return JSON.stringify(s)}(s,o),d=function(t,n){var s=e(e({},t.headers),n.headers),o={};return Object.keys(s).forEach(function(e){var t=s[e];o[e.toLowerCase()]=t}),o}(t,o),u=s.method,h=s.method!==a?{}:e(e({},s.data),o.data),m=e(e(e({"x-algolia-agent":t.userAgent.value},t.queryParameters),h),o.queryParameters),r=0,f=function e(n,a){if(c=n.pop(),void 0===c)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:x(i)};var c,h={data:l,headers:d,method:u,url:D(c,s.path,m),connectTimeout:a(r,t.timeouts.connect),responseTimeout:a(r,o.timeout)},f=function(e){var t={request:h,response:e,host:c,triesLeft:n.length};return i.push(t),t},p={onSuccess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:"DeserializationError",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(s){var o=f(s);return s.isTimedOut&&r++,Promise.all([t.logger.info("Retryable failure",w(o)),t.hostsCache.set(c,b(c,s.isTimedOut?v:L))]).then(function(){return e(n,a)})},onFail:function(e){throw f(e),function(e,t){var n=e.content,o=e.status,s=n;try{s=JSON.parse(n).message}catch{}return function(e,t,n){return{name:"ApiError",message:e,status:t,transporterStackTrace:n}}(s,o,t)}(e,x(i))}};return t.requester.send(h).then(function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){var t=e.isTimedOut,n=e.status;return!t&&0==~~n}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSuccess(e):t.onFail(e)}(e,p)})};return A(t.hostsCache,n).then(function(e){return f(c(e.statelessHosts).reverse(),e.getTimeout)})}function T(e){var t={value:"Algolia for JavaScript (".concat(e,")"),add:function(e){var n="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return-1===t.value.indexOf(n)&&(t.value="".concat(t.value).concat(n)),t}};return t}function D(e,t,n){var s=C(n),o="".concat(e.protocol,"://").concat(e.url,"/").concat("/"===t.charAt(0)?t.substr(1):t);return s.length&&(o+="?".concat(s)),o}function C(e){return Object.keys(e).map(function(t){return i("%s=%s",t,(n=e[t],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(e[t]):e[t]));var n}).join("&")}function x(e){return e.map(function(e){return w(e)})}function w(t){var n=t.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return e(e({},t),{},{request:e(e({},t.request),{},{headers:e(e({},t.request.headers),n)})})}var n,o,a,S=function(n){var s=n.appId,a=function(e,t,n){var s={"x-algolia-api-key":n,"x-algolia-application-id":t};return{headers:function(){return e===o.WithinHeaders?s:{}},queryParameters:function(){return e===o.WithinQueryParameters?s:{}}}}(void 0!==n.authMode?n.authMode:o.WithinHeaders,s,n.apiKey),i=function(e){var s=e.hostsCache,o=e.logger,i=e.requester,a=e.requestsCache,c=e.responsesCache,l=e.timeouts,d=e.userAgent,u=e.hosts,h=e.queryParameters,n={hostsCache:s,logger:o,requester:i,requestsCache:a,responsesCache:c,timeouts:l,userAgent:d,headers:e.headers,queryParameters:h,hosts:u.map(function(e){return j(e)}),read:function(e,s){var o,i=m(s,n.timeouts.read),a=function(){return O(n,n.hosts.filter(function(e){return 0!=(e.accept&t.Read)}),e,i)};return!0!==(void 0!==i.cacheable?i.cacheable:e.cacheable)?a():(o={request:e,mappedRequestOptions:i,transporter:{queryParameters:n.queryParameters,headers:n.headers}},n.responsesCache.get(o,function(){return n.requestsCache.get(o,function(){return n.requestsCache.set(o,a()).then(function(e){return Promise.all([n.requestsCache.delete(o),e])},function(e){return Promise.all([n.requestsCache.delete(o),Promise.reject(e)])}).then(function(e){var t=r(e,2);return t[0],t[1]})})},{miss:function(e){return n.responsesCache.set(o,e)}}))},write:function(e,s){return O(n,n.hosts.filter(function(e){return 0!=(e.accept&t.Write)}),e,m(s,n.timeouts.write))}};return n}(e(e({hosts:[{url:"".concat(s,"-dsn.algolia.net"),accept:t.Read},{url:"".concat(s,".algolia.net"),accept:t.Write}].concat(I([{url:"".concat(s,"-1.algolianet.com")},{url:"".concat(s,"-2.algolianet.com")},{url:"".concat(s,"-3.algolianet.com")}]))},n),{},{headers:e(e(e({},a.headers()),{"content-type":"application/x-www-form-urlencoded"}),n.headers),queryParameters:e(e({},a.queryParameters()),n.queryParameters)}));return d({transporter:i,appId:s,addAlgoliaAgent:function(e,t){i.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([i.requestsCache.clear(),i.responsesCache.clear()]).then(function(){})}},n.methods)},M=function(e){return function(t,n){return t.method===a?e.transporter.read(t,n):e.transporter.write(t,n)}},y=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s={transporter:e.transporter,appId:e.appId,indexName:t};return d(s,n.methods)}},u=function(t){return function(s,o){var i=s.map(function(t){return e(e({},t),{},{params:C(t.params||{})})});return t.transporter.read({method:n,path:"1/indexes/*/queries",data:{requests:i},cacheable:!0},o)}},g=function(t){return function(n,s){return Promise.all(n.map(function(n){var o=n.params,i=o.facetName,a=o.facetQuery,r=F(o,["facetName","facetQuery"]);return y(t)(n.indexName,{methods:{searchForFacetValues:f}}).searchForFacetValues(i,a,e(e({},s),r))}))}},z=function(e){return function(t,s,o){return e.transporter.read({method:n,path:i("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:s},cacheable:!0},o)}},N=function(e){return function(t,s){return e.transporter.read({method:n,path:i("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},s)}},f=function(e){return function(t,s,o){return e.transporter.read({method:n,path:i("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:s},cacheable:!0},o)}},R=1,P=2,H=3;function h(t,n,i){var a,r={appId:t,apiKey:n,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise(function(t){n=new XMLHttpRequest,n.open(e.method,e.url,!0),Object.keys(e.headers).forEach(function(t){return n.setRequestHeader(t,e.headers[t])});var n,s,i=function(e,s){return setTimeout(function(){n.abort(),t({status:0,content:s,isTimedOut:!0})},1e3*e)},o=i(e.connectTimeout,"Connection timeout");n.onreadystatechange=function(){n.readyState>n.OPENED&&void 0===s&&(clearTimeout(o),s=i(e.responseTimeout,"Socket timeout"))},n.onerror=function(){0===n.status&&(clearTimeout(o),clearTimeout(s),t({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=function(){clearTimeout(o),clearTimeout(s),t({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(e.data)})}},logger:(a=H,{debug:function(e,t){return R>=a&&console.debug(e,t),Promise.resolve()},info:function(e,t){return P>=a&&console.info(e,t),Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}}),responsesCache:l(),requestsCache:l({serializable:!1}),hostsCache:s({caches:[k({key:"".concat("4.14.2","-").concat(t)}),l()]}),userAgent:T("4.14.2").add({segment:"Browser",version:"lite"}),authMode:o.WithinQueryParameters};return S(e(e(e({},r),i),{},{methods:{search:u,searchForFacetValues:g,multipleQueries:u,multipleSearchForFacetValues:g,customRequest:M,initIndex:function(e){return function(t){return y(e)(t,{methods:{search:N,searchForFacetValues:f,findAnswers:z}})}}}}))}return h.version="4.14.2",h})